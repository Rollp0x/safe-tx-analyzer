(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2456],{31577:function(t,e,n){"use strict";n.d(e,{TE:function(){return a},U4:function(){return h},Xk:function(){return c},Y1:function(){return E},_x:function(){return d},hE:function(){return v},l5:function(){return g},ph:function(){return m},vp:function(){return l},x4:function(){return x}});var r=n(95666),i=n(35432),o=n(92964);function a(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)}function s(t,e){var n=Math.min.apply(Math,(0,r.__spreadArray)([],(0,r.__read)(t),!1)),i=Math.min.apply(Math,(0,r.__spreadArray)([],(0,r.__read)(e),!1));return{x:n,y:i,width:Math.max.apply(Math,(0,r.__spreadArray)([],(0,r.__read)(t),!1))-n,height:Math.max.apply(Math,(0,r.__spreadArray)([],(0,r.__read)(e),!1))-i}}function l(t,e,n,r,i,o,a){for(var s=Math.atan(-r/n*Math.tan(i)),l=1/0,u=-1/0,c=[o,a],h=-(2*Math.PI);h<=2*Math.PI;h+=Math.PI){var d=s+h;o<a?o<d&&d<a&&c.push(d):a<d&&d<o&&c.push(d)}for(var h=0;h<c.length;h++){var p,f=n*Math.cos(i)*Math.cos(p=c[h])-r*Math.sin(i)*Math.sin(p)+t;f<l&&(l=f),f>u&&(u=f)}for(var g=Math.atan(r/(n*Math.tan(i))),m=1/0,v=-1/0,y=[o,a],h=-(2*Math.PI);h<=2*Math.PI;h+=Math.PI){var b=g+h;o<a?o<b&&b<a&&y.push(b):a<b&&b<o&&y.push(b)}for(var h=0;h<y.length;h++){var x,E=n*Math.sin(i)*Math.cos(x=y[h])+r*Math.cos(i)*Math.sin(x)+e;E<m&&(m=E),E>v&&(v=E)}return{x:l,y:m,width:u-l,height:v-m}}function u(t,e,n,i,o,s){var l=-1,u=1/0,c=[n,i],h=20;s&&s>200&&(h=s/10);for(var d=1/h,p=d/10,f=0;f<=h;f++){var g=f*d,m=[o.apply(void 0,(0,r.__spreadArray)([],(0,r.__read)(t.concat([g])),!1)),o.apply(void 0,(0,r.__spreadArray)([],(0,r.__read)(e.concat([g])),!1))],v=a(c[0],c[1],m[0],m[1]);v<u&&(l=g,u=v)}if(0===l)return{x:t[0],y:e[0]};if(1===l){var y=t.length;return{x:t[y-1],y:e[y-1]}}u=1/0;for(var f=0;f<32&&!(p<1e-4);f++){var b=l-p,x=l+p,m=[o.apply(void 0,(0,r.__spreadArray)([],(0,r.__read)(t.concat([b])),!1)),o.apply(void 0,(0,r.__spreadArray)([],(0,r.__read)(e.concat([b])),!1))],v=a(c[0],c[1],m[0],m[1]);if(b>=0&&v<u)l=b,u=v;else{var E=[o.apply(void 0,(0,r.__spreadArray)([],(0,r.__read)(t.concat([x])),!1)),o.apply(void 0,(0,r.__spreadArray)([],(0,r.__read)(e.concat([x])),!1))],w=a(c[0],c[1],E[0],E[1]);x<=1&&w<u?(l=x,u=w):p*=.5}}return{x:o.apply(void 0,(0,r.__spreadArray)([],(0,r.__read)(t.concat([l])),!1)),y:o.apply(void 0,(0,r.__spreadArray)([],(0,r.__read)(e.concat([l])),!1))}}function c(t,e,n,r){return a(t,e,n,r)}function h(t,e,n,r,i){return{x:(1-i)*t+i*n,y:(1-i)*e+i*r}}function d(t,e,n,r,i,a){var s=[n-t,r-e];if(o.I6(s,[0,0]))return Math.sqrt((i-t)*(i-t)+(a-e)*(a-e));var l=[-s[1],s[0]];return o.Fv(l,l),Math.abs(o.AK([i-t,a-e],l))}function p(t,e,n,r,i){var o=1-i;return o*o*o*t+3*e*i*o*o+3*n*i*i*o+r*i*i*i}function f(t,e,n,r){var o,a,s,l=-3*t+9*e-9*n+3*r,u=6*t-12*e+6*n,c=3*e-3*t,h=[];if((0,i.Z)(l,0))!(0,i.Z)(u,0)&&(o=-c/u)>=0&&o<=1&&h.push(o);else{var d=u*u-4*l*c;(0,i.Z)(d,0)?h.push(-u/(2*l)):d>0&&(o=(-u+(s=Math.sqrt(d)))/(2*l),a=(-u-s)/(2*l),o>=0&&o<=1&&h.push(o),a>=0&&a<=1&&h.push(a))}return h}function g(t,e,n,r,i,o,a,l){for(var u=[t,a],c=[e,l],h=f(t,n,i,a),d=f(e,r,o,l),g=0;g<h.length;g++)u.push(p(t,n,i,a,h[g]));for(var g=0;g<d.length;g++)c.push(p(e,r,o,l,d[g]));return s(u,c)}function m(t,e,n,r,i,o,s,l,c,h,d){var f=u([t,n,i,s],[e,r,o,l],c,h,p,d);return a(f.x,f.y,c,h)}function v(t){return function(t){if(t.length<2)return 0;for(var e=0,n=0;n<t.length-1;n++){var r=t[n],i=t[n+1];e+=a(r[0],r[1],i[0],i[1])}return e}(t)}function y(t,e,n,r){var i=1-r;return i*i*t+2*r*i*e+r*r*n}function b(t,e,n){var r=t+n-2*e;if((0,i.Z)(r,0))return[.5];var o=(t-e)/r;return o<=1&&o>=0?[o]:[]}function x(t,e,n,r,i,o){var a=b(t,n,i)[0],l=b(e,r,o)[0],u=[t,i],c=[e,o];return void 0!==a&&u.push(y(t,n,i,a)),void 0!==l&&c.push(y(e,r,o,l)),s(u,c)}function E(t,e,n,r,i,o,s,l){var c=u([t,n,i],[e,r,o],s,l,y);return a(c.x,c.y,s,l)}},23645:function(t,e,n){"use strict";let r;n.d(e,{kJ:function(){return dW},bG:function(){return P}});var i,o,a,s,l,u,c,h,d,p,f,g,m,v,y,b,x,E,w,S,M,k,O,C,A,T,P,L,R,D,N,I,Z,j,_,B={};n.r(B),n.d(B,{circle:function(){return oy},diamond:function(){return ox},rect:function(){return ow},simple:function(){return oM},triangle:function(){return ob},triangleRect:function(){return oS},vee:function(){return oE}});var F=n(30127),z=n(28471),W=n(44871),V=n(55402),H=n(41007),G=n(55436),$=n(29821),U=n(82193),q=n(64131),K=n(32400),Y=function(t){function e(){var t;(0,z.Z)(this,e);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=(0,V.Z)(this,e,[].concat(r))).landmarks=[],t}return(0,H.Z)(e,t),(0,W.Z)(e,[{key:"rotate",value:function(t,e,n){if(this.relElevation=(0,F._O)(e),this.relAzimuth=(0,F._O)(t),this.relRoll=(0,F._O)(n),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.type===F.iM.EXPLORING){var r=U.yY(U.Ue(),[1,0,0],(0,F.Vl)((this.rotateWorld?1:-1)*this.relElevation)),i=U.yY(U.Ue(),[0,1,0],(0,F.Vl)((this.rotateWorld?1:-1)*this.relAzimuth)),o=U.yY(U.Ue(),[0,0,1],(0,F.Vl)(this.relRoll)),a=U.Jp(U.Ue(),i,r);a=U.Jp(U.Ue(),a,o);var s=q.fromQuat(q.create(),a);q.translate(this.matrix,this.matrix,[0,0,-this.distance]),q.multiply(this.matrix,this.matrix,s),q.translate(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation)>90)return this;this.computeMatrix()}return this._getAxes(),this.type===F.iM.ORBITING||this.type===F.iM.EXPLORING?this._getPosition():this.type===F.iM.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(t,e){var n=(0,F.O4)(t,e,0),r=K.d9(this.position);return K.IH(r,r,K.bA(K.Ue(),this.right,n[0])),K.IH(r,r,K.bA(K.Ue(),this.up,n[1])),this._setPosition(r),this.triggerUpdate(),this}},{key:"dolly",value:function(t){var e=this.forward,n=K.d9(this.position),r=t*this.dollyingStep;return r=Math.max(Math.min(this.distance+t*this.dollyingStep,this.maxDistance),this.minDistance)-this.distance,n[0]+=r*e[0],n[1]+=r*e[1],n[2]+=r*e[2],this._setPosition(n),this.type===F.iM.ORBITING||this.type===F.iM.EXPLORING?this._getDistance():this.type===F.iM.TRACKING&&K.IH(this.focalPoint,n,this.distanceVector),this.triggerUpdate(),this}},{key:"cancelLandmarkAnimation",value:function(){void 0!==this.landmarkAnimationID&&this.canvas.cancelAnimationFrame(this.landmarkAnimationID)}},{key:"createLandmark",value:function(t){var e,n,r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o.position,s=void 0===a?this.position:a,l=o.focalPoint,u=void 0===l?this.focalPoint:l,c=o.roll,h=o.zoom,d=new F.GZ.CameraContribution;d.setType(this.type,void 0),d.setPosition(s[0],null!==(e=s[1])&&void 0!==e?e:this.position[1],null!==(n=s[2])&&void 0!==n?n:this.position[2]),d.setFocalPoint(u[0],null!==(r=u[1])&&void 0!==r?r:this.focalPoint[1],null!==(i=u[2])&&void 0!==i?i:this.focalPoint[2]),d.setRoll(null!=c?c:this.roll),d.setZoom(null!=h?h:this.zoom);var p={name:t,matrix:q.clone(d.getWorldTransform()),right:K.d9(d.right),up:K.d9(d.up),forward:K.d9(d.forward),position:K.d9(d.getPosition()),focalPoint:K.d9(d.getFocalPoint()),distanceVector:K.d9(d.getDistanceVector()),distance:d.getDistance(),dollyingStep:d.getDollyingStep(),azimuth:d.getAzimuth(),elevation:d.getElevation(),roll:d.getRoll(),relAzimuth:d.relAzimuth,relElevation:d.relElevation,relRoll:d.relRoll,zoom:d.getZoom()};return this.landmarks.push(p),p}},{key:"gotoLandmark",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,G.Z)(t)?this.landmarks.find(function(e){return e.name===t}):t;if(r){var i,o=(0,$.Z)(n)?{duration:n}:n,a=o.easing,s=o.duration,l=void 0===s?100:s,u=o.easingFunction,c=o.onfinish,h=void 0===c?void 0:c,d=o.onframe,p=void 0===d?void 0:d;this.cancelLandmarkAnimation();var f=r.position,g=r.focalPoint,m=r.zoom,v=r.roll,y=(void 0===u?void 0:u)||F.GZ.EasingFunction(void 0===a?"linear":a),b=function(){e.setFocalPoint(g),e.setPosition(f),e.setRoll(v),e.setZoom(m),e.computeMatrix(),e.triggerUpdate(),null==h||h()};if(0===l)return b();var x=function(t){void 0===i&&(i=t);var n=t-i;if(n>=l){b();return}var r=y(n/l),o=K.Ue(),a=K.Ue(),s=1,u=0;if(K.t7(o,e.focalPoint,g,r),K.t7(a,e.position,f,r),u=e.roll*(1-r)+v*r,s=e.zoom*(1-r)+m*r,e.setFocalPoint(o),e.setPosition(a),e.setRoll(u),e.setZoom(s),K.TK(o,g)+K.TK(a,f)<=.01&&void 0===m&&void 0===v)return b();e.computeMatrix(),e.triggerUpdate(),n<l&&(null==p||p(r),e.landmarkAnimationID=e.canvas.requestAnimationFrame(x))};this.canvas.requestAnimationFrame(x)}}}])}(F.V1);F.GZ.CameraContribution=Y,new WeakMap;var X=n(14766),J=n(11835),Q=n(17609),tt=n(89183),te=function(t){function e(t,n,r,i){var o;return(0,z.Z)(this,e),(o=(0,V.Z)(this,e,[t])).currentTime=r,o.timelineTime=i,o.target=n,o.type="finish",o.bubbles=!1,o.currentTarget=n,o.defaultPrevented=!1,o.eventPhase=o.AT_TARGET,o.timeStamp=Date.now(),o.currentTime=r,o.timelineTime=i,o}return(0,H.Z)(e,t),(0,W.Z)(e)}(F.xA),tn=0,tr=(0,W.Z)(function t(e,n){var r;(0,z.Z)(this,t),this.currentTimePending=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._playbackRate=1,this._inTimeline=!0,this.effect=e,e.animation=this,this.timeline=n,this.id="".concat(tn++),this._inEffect=!!this.effect.update(0),this._totalDuration=Number(null===(r=this.effect)||void 0===r?void 0:r.getComputedTiming().endTime),this._holdTime=0,this._paused=!1,this.oldPlayState="idle",this.updatePromises()},[{key:"pending",get:function(){return null===this._startTime&&!this._paused&&0!==this.playbackRate||this.currentTimePending}},{key:"playState",get:function(){return this._idle?"idle":this._isFinished?"finished":this._paused?"paused":"running"}},{key:"ready",get:function(){var t=this;return this.readyPromise||(-1===this.timeline.animationsWithPromises.indexOf(this)&&this.timeline.animationsWithPromises.push(this),this.readyPromise=new Promise(function(e,n){t.resolveReadyPromise=function(){e(t)},t.rejectReadyPromise=function(){n(Error())}}),this.pending||this.resolveReadyPromise()),this.readyPromise}},{key:"finished",get:function(){var t=this;return this.finishedPromise||(-1===this.timeline.animationsWithPromises.indexOf(this)&&this.timeline.animationsWithPromises.push(this),this.finishedPromise=new Promise(function(e,n){t.resolveFinishedPromise=function(){e(t)},t.rejectFinishedPromise=function(){n(Error())}}),"finished"===this.playState&&this.resolveFinishedPromise()),this.finishedPromise}},{key:"currentTime",get:function(){return this.updatePromises(),this._idle||this.currentTimePending?null:this._currentTime},set:function(t){if(!isNaN(t=Number(t))){if(this.timeline.restart(),!this._paused&&null!==this._startTime){var e;this._startTime=Number(null===(e=this.timeline)||void 0===e?void 0:e.currentTime)-t/this.playbackRate}this.currentTimePending=!1,this._currentTime!==t&&(this._idle&&(this._idle=!1,this._paused=!0),this.tickCurrentTime(t,!0),this.timeline.applyDirtiedAnimation(this))}}},{key:"startTime",get:function(){return this._startTime},set:function(t){null!==t&&(this.updatePromises(),!isNaN(t=Number(t))&&(this._paused||this._idle||(this._startTime=t,this.tickCurrentTime((Number(this.timeline.currentTime)-this._startTime)*this.playbackRate),this.timeline.applyDirtiedAnimation(this),this.updatePromises())))}},{key:"playbackRate",get:function(){return this._playbackRate},set:function(t){if(t!==this._playbackRate){this.updatePromises();var e=this.currentTime;this._playbackRate=t,this.startTime=null,"paused"!==this.playState&&"idle"!==this.playState&&(this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this)),null!==e&&(this.currentTime=e),this.updatePromises()}}},{key:"_isFinished",get:function(){return!this._idle&&(this._playbackRate>0&&Number(this._currentTime)>=this._totalDuration||this._playbackRate<0&&0>=Number(this._currentTime))}},{key:"totalDuration",get:function(){return this._totalDuration}},{key:"_needsTick",get:function(){return this.pending||"running"===this.playState||!this._finishedFlag}},{key:"updatePromises",value:function(){var t=this.oldPlayState,e=this.pending?"pending":this.playState;return this.readyPromise&&e!==t&&("idle"===e?(this.rejectReadyPromise(),this.readyPromise=void 0):"pending"===t?this.resolveReadyPromise():"pending"===e&&(this.readyPromise=void 0)),this.finishedPromise&&e!==t&&("idle"===e?(this.rejectFinishedPromise(),this.finishedPromise=void 0):"finished"===e?this.resolveFinishedPromise():"finished"===t&&(this.finishedPromise=void 0)),this.oldPlayState=e,this.readyPromise||this.finishedPromise}},{key:"play",value:function(){this.updatePromises(),this._paused=!1,(this._isFinished||this._idle)&&(this.rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this),-1===this.timeline.animations.indexOf(this)&&this.timeline.animations.push(this),this.updatePromises()}},{key:"pause",value:function(){this.updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),this._isFinished||this._paused||this._idle?this._idle&&(this.rewind(),this._idle=!1):this.currentTimePending=!0,this._startTime=null,this._paused=!0,this.updatePromises()}},{key:"finish",value:function(){this.updatePromises(),this._idle||(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this.currentTimePending=!1,this.timeline.applyDirtiedAnimation(this),this.updatePromises())}},{key:"cancel",value:function(){var t=this;if(this.updatePromises(),this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this.effect.update(null),this.timeline.applyDirtiedAnimation(this),this.updatePromises(),this.oncancel)){var e=new te(null,this,this.currentTime,null);setTimeout(function(){t.oncancel(e)})}}},{key:"reverse",value:function(){this.updatePromises();var t=this.currentTime;this.playbackRate*=-1,this.play(),null!==t&&(this.currentTime=t),this.updatePromises()}},{key:"updatePlaybackRate",value:function(t){this.playbackRate=t}},{key:"targetAnimations",value:function(){var t;return(null===(t=this.effect)||void 0===t?void 0:t.target).getAnimations()}},{key:"markTarget",value:function(){var t=this.targetAnimations();-1===t.indexOf(this)&&t.push(this)}},{key:"unmarkTarget",value:function(){var t=this.targetAnimations(),e=t.indexOf(this);-1!==e&&t.splice(e,1)}},{key:"tick",value:function(t,e){this._idle||this._paused||(null===this._startTime?e&&(this.startTime=t-this._currentTime/this.playbackRate):this._isFinished||this.tickCurrentTime((t-this._startTime)*this.playbackRate)),e&&(this.currentTimePending=!1,this.fireEvents(t))}},{key:"rewind",value:function(){if(this.playbackRate>=0)this.currentTime=0;else if(this._totalDuration<1/0)this.currentTime=this._totalDuration;else throw Error("Unable to rewind negative playback rate animation with infinite duration")}},{key:"persist",value:function(){throw Error(F.jf)}},{key:"addEventListener",value:function(t,e,n){throw Error(F.jf)}},{key:"removeEventListener",value:function(t,e,n){throw Error(F.jf)}},{key:"dispatchEvent",value:function(t){throw Error(F.jf)}},{key:"commitStyles",value:function(){throw Error(F.jf)}},{key:"ensureAlive",value:function(){var t,e;this.playbackRate<0&&0===this.currentTime?this._inEffect=!!(null!==(t=this.effect)&&void 0!==t&&t.update(-1)):this._inEffect=!!(null!==(e=this.effect)&&void 0!==e&&e.update(this.currentTime)),this._inTimeline||!this._inEffect&&this._finishedFlag||(this._inTimeline=!0,this.timeline.animations.push(this))}},{key:"tickCurrentTime",value:function(t,e){t!==this._currentTime&&(this._currentTime=t,this._isFinished&&!e&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this.ensureAlive())}},{key:"fireEvents",value:function(t){var e=this;if(this._isFinished){if(!this._finishedFlag){if(this.onfinish){var n=new te(null,this,this.currentTime,t);setTimeout(function(){e.onfinish&&e.onfinish(n)})}this._finishedFlag=!0}}else{if(this.onframe&&"running"===this.playState){var r=new te(null,this,this.currentTime,t);this.onframe(r)}this._finishedFlag=!1}}}]),ti="function"==typeof Float32Array,to=function(t,e){return 1-3*e+3*t},ta=function(t,e){return 3*e-6*t},ts=function(t){return 3*t},tl=function(t,e,n){return((to(e,n)*t+ta(e,n))*t+ts(e))*t},tu=function(t,e,n){return 3*to(e,n)*t*t+2*ta(e,n)*t+ts(e)},tc=function(t,e,n,r,i){var o,a,s=0;do(o=tl(a=e+(n-e)/2,r,i)-t)>0?n=a:e=a;while(Math.abs(o)>1e-7&&++s<10);return a},th=function(t,e,n,r){for(var i=0;i<4;++i){var o=tu(e,n,r);if(0===o)break;var a=tl(e,n,r)-t;e-=a/o}return e},td=function(t,e,n,r){if(!(t>=0&&t<=1&&n>=0&&n<=1))throw Error("bezier x values must be in [0, 1] range");if(t===e&&n===r)return function(t){return t};for(var i=ti?new Float32Array(11):Array(11),o=0;o<11;++o)i[o]=tl(.1*o,t,n);var a=function(e){for(var r=0,o=1;10!==o&&i[o]<=e;++o)r+=.1;var a=r+(e-i[--o])/(i[o+1]-i[o])*.1,s=tu(a,t,n);return s>=.001?th(e,a,t,n):0===s?a:tc(e,r,r+.1,t,n)};return function(t){return 0===t||1===t?t:tl(a(t),e,r)}},tp=function(t){return Math.pow(t,2)},tf=function(t){return Math.pow(t,3)},tg=function(t){return Math.pow(t,4)},tm=function(t){return Math.pow(t,5)},tv=function(t){return Math.pow(t,6)},ty=function(t){return 1-Math.cos(t*Math.PI/2)},tb=function(t){return 1-Math.sqrt(1-t*t)},tx=function(t){return t*t*(3*t-2)},tE=function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)},tw=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,J.Z)(e,2),r=n[0],i=n[1],o=(0,Q.Z)(Number(void 0===r?1:r),1,10),a=(0,Q.Z)(Number(void 0===i?.5:i),.1,2);return 0===t||1===t?t:-o*Math.pow(2,10*(t-1))*Math.sin(2*Math.PI*(t-1-a/(2*Math.PI)*Math.asin(1/o))/a)},tS=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=(0,J.Z)(e,4),i=r[0],o=void 0===i?1:i,a=r[1],s=void 0===a?100:a,l=r[2],u=void 0===l?10:l,c=r[3],h=void 0===c?0:c;o=(0,Q.Z)(o,.1,1e3),s=(0,Q.Z)(s,.1,1e3),u=(0,Q.Z)(u,.1,1e3),h=(0,Q.Z)(h,.1,1e3);var d=Math.sqrt(s/o),p=u/(2*Math.sqrt(s*o)),f=p<1?d*Math.sqrt(1-p*p):0,g=p<1?(p*d+-h)/f:-h+d,m=n?n*t/1e3:t;return(m=p<1?Math.exp(-m*p*d)*(1*Math.cos(f*m)+g*Math.sin(f*m)):(1+g*m)*Math.exp(-m*d),0===t||1===t)?t:1-m},tM=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,J.Z)(e,2),r=n[0],i=void 0===r?10:r;return("start"===n[1]?Math.ceil:Math.floor)((0,Q.Z)(t,0,1)*i)/i},tk=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,J.Z)(e,4);return td(n[0],n[1],n[2],n[3])(t)},tO=td(.42,0,1,1),tC=function(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return 1-t(1-e,n,r)}},tA=function(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return e<.5?t(2*e,n,r)/2:1-t(-2*e+2,n,r)/2}},tT=function(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return e<.5?(1-t(1-2*e,n,r))/2:(t(2*e-1,n,r)+1)/2}},tP={steps:tM,"step-start":function(t){return tM(t,[1,"start"])},"step-end":function(t){return tM(t,[1,"end"])},linear:function(t){return t},"cubic-bezier":tk,ease:function(t){return tk(t,[.25,.1,.25,1])},in:tO,out:tC(tO),"in-out":tA(tO),"out-in":tT(tO),"in-quad":tp,"out-quad":tC(tp),"in-out-quad":tA(tp),"out-in-quad":tT(tp),"in-cubic":tf,"out-cubic":tC(tf),"in-out-cubic":tA(tf),"out-in-cubic":tT(tf),"in-quart":tg,"out-quart":tC(tg),"in-out-quart":tA(tg),"out-in-quart":tT(tg),"in-quint":tm,"out-quint":tC(tm),"in-out-quint":tA(tm),"out-in-quint":tT(tm),"in-expo":tv,"out-expo":tC(tv),"in-out-expo":tA(tv),"out-in-expo":tT(tv),"in-sine":ty,"out-sine":tC(ty),"in-out-sine":tA(ty),"out-in-sine":tT(ty),"in-circ":tb,"out-circ":tC(tb),"in-out-circ":tA(tb),"out-in-circ":tT(tb),"in-back":tx,"out-back":tC(tx),"in-out-back":tA(tx),"out-in-back":tT(tx),"in-bounce":tE,"out-bounce":tC(tE),"in-out-bounce":tA(tE),"out-in-bounce":tT(tE),"in-elastic":tw,"out-elastic":tC(tw),"in-out-elastic":tA(tw),"out-in-elastic":tT(tw),spring:tS,"spring-in":tS,"spring-out":tC(tS),"spring-in-out":tA(tS),"spring-out-in":tT(tS)},tL=function(t){var e;return("-"===(e=(e=t).replace(/([A-Z])/g,function(t){return"-".concat(t.toLowerCase())})).charAt(0)?e.substring(1):e).replace(/^ease-/,"").replace(/(\(|\s).+/,"").toLowerCase().trim()},tR=function(t){return t};function tD(t,e){return function(n){if(n>=1)return 1;var r=1/t;return(n+=e*r)-n%r}}var tN="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",tI=new RegExp("cubic-bezier\\(".concat(tN,",").concat(tN,",").concat(tN,",").concat(tN,"\\)")),tZ=/steps\(\s*(\d+)\s*\)/,tj=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/;function t_(t){var e=tI.exec(t);if(e)return td.apply(void 0,(0,X.Z)(e.slice(1).map(Number)));var n=tZ.exec(t);if(n)return tD(Number(n[1]),0);var r=tj.exec(t);return r?tD(Number(r[1]),{start:1,middle:.5,end:0}[r[2]]):tP[tL(t)]||tP.linear}function tB(t){return"offset"!==t&&"easing"!==t&&"composite"!==t&&"computedOffset"!==t}var tF=function(t,e,n){return function(r){var i=function t(e,n,r){if("number"==typeof e&&"number"==typeof n)return e*(1-r)+n*r;if("boolean"==typeof e&&"boolean"==typeof n||"string"==typeof e&&"string"==typeof n)return r<.5?e:n;if(Array.isArray(e)&&Array.isArray(n)){for(var i=e.length,o=n.length,a=Math.max(i,o),s=[],l=0;l<a;l++)s.push(t(e[l<i?l:i-1],n[l<o?l:o-1],r));return s}throw Error("Mismatched interpolation arguments ".concat(e,":").concat(n))}(t,e,r);return(0,$.Z)(i)?i:n(i)}},tz=(0,W.Z)(function t(){(0,z.Z)(this,t),this.delay=0,this.direction="normal",this.duration="auto",this._easing="linear",this.easingFunction=tR,this.endDelay=0,this.fill="auto",this.iterationStart=0,this.iterations=1,this.currentIteration=null,this.progress=null},[{key:"easing",get:function(){return this._easing},set:function(t){this.easingFunction=t_(t),this._easing=t}}]);function tW(t,e){if(null===t)return[];Array.isArray(t)||(t=function(t){var e=[];for(var n in t)if(!(n in["easing","offset","composite"])){var r=t[n];Array.isArray(r)||(r=[r]);for(var i=r.length,o=0;o<i;o++){if(!e[o]){var a={};"offset"in t&&(a.offset=Number(t.offset)),"easing"in t&&(a.easing=t.easing),"composite"in t&&(a.composite=t.composite),e[o]=a}void 0!==r[o]&&null!==r[o]&&(e[o][n]=r[o])}}return e.sort(function(t,e){return(t.computedOffset||0)-(e.computedOffset||0)}),e}(t));for(var n=t.map(function(t){var n={};for(var r in null!=e&&e.composite&&(n.composite="auto"),t){var i=t[r];if("offset"===r){if(null!==i){if(!isFinite(i=Number(i)))throw Error("Keyframe offsets must be numbers.");if(i<0||i>1)throw Error("Keyframe offsets must be between 0 and 1.");n.computedOffset=i}}else if("composite"===r&&-1===["replace","add","accumulate","auto"].indexOf(i))throw Error("".concat(i," compositing is not supported"));n[r]=i}return void 0===n.offset&&(n.offset=null),void 0===n.easing&&(n.easing=(null==e?void 0:e.easing)||"linear"),void 0===n.composite&&(n.composite="auto"),n}),r=!0,i=-1/0,o=0;o<n.length;o++){var a=n[o].offset;if((0,tt.Z)(a))r=!1;else{if(a<i)throw TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");i=a}}return n=n.filter(function(t){return Number(t.offset)>=0&&1>=Number(t.offset)}),r||function(){var t,e,r=n.length;n[r-1].computedOffset=Number(null!==(t=n[r-1].offset)&&void 0!==t?t:1),r>1&&(n[0].computedOffset=Number(null!==(e=n[0].offset)&&void 0!==e?e:0));for(var i=0,o=Number(n[0].computedOffset),a=1;a<r;a++){var s=n[a].computedOffset;if(!(0,tt.Z)(s)&&!(0,tt.Z)(o)){for(var l=1;l<a-i;l++)n[i+l].computedOffset=o+(Number(s)-o)*l/(a-i);i=a,o=Number(s)}}}(),n}var tV="backwards|forwards|both|none".split("|"),tH="reverse|alternate|alternate-reverse".split("|"),tG=(0,W.Z)(function t(e,n,r){var i,o,a,s,l,u,c,h,d,p,f,g,m=this;(0,z.Z)(this,t),this.composite="replace",this.iterationComposite="replace",this.target=e,this.timing=("number"==typeof(i=null!=r?r:{duration:"auto"})&&(i=isNaN(i)?{duration:"auto"}:{duration:i}),l=i,u=new tz,"number"!=typeof l||isNaN(l)?void 0!==l&&Object.keys(l).forEach(function(t){void 0===l[t]||null===l[t]||"auto"===l[t]||("number"==typeof u[t]||"duration"===t)&&("number"!=typeof l[t]||isNaN(l[t]))||"fill"===t&&-1===tV.indexOf(l[t])||"direction"===t&&-1===tH.indexOf(l[t])||(u[t]=l[t])}):u.duration=l,u),this.timing.effect=this,this.timing.activeDuration=Math.abs((0===(o=c=this.timing).duration||0===o.iterations?0:("auto"===o.duration?0:Number(o.duration))*(null!==(a=o.iterations)&&void 0!==a?a:1))/(c.playbackRate||1)),this.timing.endTime=Math.max(0,this.timing.delay+this.timing.activeDuration+this.timing.endDelay),this.normalizedKeyframes=tW(n,this.timing),this.interpolations=(h=this.normalizedKeyframes,d=this.timing,p=this.target,g=function(t,e){var n=[];for(var r in t)for(var i=t[r],o=0;o<i.length-1;o++){var a=o,s=o+1,l=i[a].computedOffset,u=i[s].computedOffset,c=l,h=u;0===o&&(c=-1/0,0===u&&(s=a)),o===i.length-2&&(h=1/0,1===l&&(a=s)),n.push({applyFrom:c,applyTo:h,startOffset:i[a].computedOffset,endOffset:i[s].computedOffset,easingFunction:i[a].easingFunction,property:r,interpolation:function(t,e,n,r){var i=F.N1[t];if(i&&i.syntax&&i.int){var o=F.GZ.styleValueRegistry.getPropertySyntax(i.syntax);if(o){var a=o.parser,s=a?a(e,r):e,l=a?a(n,r):n,u=o.mixer(s,l,r);if(u){var c=tF.apply(void 0,(0,X.Z)(u));return function(t){return 0===t?e:1===t?n:c(t)}}}}return tF(!1,!0,function(t){return t?n:e})}(r,i[a].value,i[s].value,e)})}return n.sort(function(t,e){return t.startOffset-e.startOffset}),n}(f=function(t,e){for(var n={},r=0;r<t.length;r++)for(var i in t[r])if(tB(i)){var o={offset:t[r].offset,computedOffset:t[r].computedOffset,easing:t[r].easing,easingFunction:t_(t[r].easing)||e.easingFunction,value:t[r][i]};n[i]=n[i]||[],n[i].push(o)}return n}(h,d),p),function(t,e){if(null!==e)g.filter(function(t){return e>=t.applyFrom&&e<t.applyTo}).forEach(function(n){var r=e-n.startOffset,i=n.endOffset-n.startOffset;t.setAttribute(n.property,n.interpolation(0===i?0:r/i),!1,!1)});else for(var n in f)tB(n)&&t.setAttribute(n,null)});var v=F.GZ.globalThis.Proxy;this.computedTiming=v?new v(this.timing,{get:function(t,e){return"duration"===e?"auto"===t.duration?0:t.duration:"fill"===e?"auto"===t.fill?"none":t.fill:"localTime"===e?m.animation&&m.animation.currentTime||null:"currentIteration"===e?m.animation&&"running"===m.animation.playState?t.currentIteration||0:null:"progress"===e?m.animation&&"running"===m.animation.playState?t.progress||0:null:t[e]},set:function(){return!0}}):this.timing},[{key:"applyInterpolations",value:function(){this.interpolations(this.target,Number(this.timeFraction))}},{key:"update",value:function(t){return null!==t&&(this.timeFraction=function(t,e,n){var r,i,o,a,s,l,u=function(t,e,n){if(null===e)return 0;var r=n.endTime;return e<Math.min(n.delay,r)?1:e>=Math.min(n.delay+t+n.endDelay,r)?2:3}(t,e,n),c=function(t,e,n,r,i){switch(r){case 1:if("backwards"===e||"both"===e)return 0;return null;case 3:return n-i;case 2:if("forwards"===e||"both"===e)return t;return null;case 0:return null}}(t,n.fill,e,u,n.delay);if(null===c)return null;var h="auto"===n.duration?0:n.duration,d=(r=n.iterations,i=n.iterationStart,0===h?1!==u&&(i+=r):i+=c/h,i),p=(o=n.iterationStart,a=n.iterations,0==(s=d===1/0?o%1:d%1)&&2===u&&0!==a&&(0!==c||0===h)&&(s=1),s),f=(l=n.iterations,2===u&&l===1/0?1/0:1===p?Math.floor(d)-1:Math.floor(d)),g=function(t,e,n){var r=t;if("normal"!==t&&"reverse"!==t){var i=e;"alternate-reverse"===t&&(i+=1),r="normal",i!==1/0&&i%2!=0&&(r="reverse")}return"normal"===r?n:1-n}(n.direction,f,p);return n.currentIteration=f,n.progress=g,n.easingFunction(g)}(this.timing.activeDuration,t,this.timing),null!==this.timeFraction)}},{key:"getKeyframes",value:function(){return this.normalizedKeyframes}},{key:"setKeyframes",value:function(t){this.normalizedKeyframes=tW(t)}},{key:"getComputedTiming",value:function(){return this.computedTiming}},{key:"getTiming",value:function(){return this.timing}},{key:"updateTiming",value:function(t){var e=this;Object.keys(t||{}).forEach(function(n){e.timing[n]=t[n]})}}]);function t$(t,e){return Number(t.id)-Number(e.id)}var tU=(0,W.Z)(function t(e){var n=this;(0,z.Z)(this,t),this.animations=[],this.ticking=!1,this.timelineTicking=!1,this.hasRestartedThisFrame=!1,this.animationsWithPromises=[],this.inTick=!1,this.pendingEffects=[],this.currentTime=null,this.rafId=0,this.rafCallbacks=[],this.webAnimationsNextTick=function(t){n.currentTime=t,n.discardAnimations(),0===n.animations.length?n.timelineTicking=!1:n.requestAnimationFrame(n.webAnimationsNextTick)},this.processRafCallbacks=function(t){var e=n.rafCallbacks;n.rafCallbacks=[],t<Number(n.currentTime)&&(t=Number(n.currentTime)),n.animations.sort(t$),n.animations=n.tick(t,!0,n.animations)[0],e.forEach(function(e){e[1](t)}),n.applyPendingEffects()},this.document=e},[{key:"getAnimations",value:function(){return this.discardAnimations(),this.animations.slice()}},{key:"isTicking",value:function(){return this.inTick}},{key:"play",value:function(t,e,n){var r=new tr(new tG(t,e,n),this);return this.animations.push(r),this.restartWebAnimationsNextTick(),r.updatePromises(),r.play(),r.updatePromises(),r}},{key:"applyDirtiedAnimation",value:function(t){var e=this;if(!this.inTick){t.markTarget();var n=t.targetAnimations();n.sort(t$),this.tick(Number(this.currentTime),!1,n.slice())[1].forEach(function(t){var n=e.animations.indexOf(t);-1!==n&&e.animations.splice(n,1)}),this.applyPendingEffects()}}},{key:"restart",value:function(){return this.ticking||(this.ticking=!0,this.requestAnimationFrame(function(){}),this.hasRestartedThisFrame=!0),this.hasRestartedThisFrame}},{key:"destroy",value:function(){this.document.defaultView.cancelAnimationFrame(this.frameId)}},{key:"applyPendingEffects",value:function(){this.pendingEffects.forEach(function(t){null==t||t.applyInterpolations()}),this.pendingEffects=[]}},{key:"updateAnimationsPromises",value:function(){this.animationsWithPromises=this.animationsWithPromises.filter(function(t){return t.updatePromises()})}},{key:"discardAnimations",value:function(){this.updateAnimationsPromises(),this.animations=this.animations.filter(function(t){return"finished"!==t.playState&&"idle"!==t.playState})}},{key:"restartWebAnimationsNextTick",value:function(){this.timelineTicking||(this.timelineTicking=!0,this.requestAnimationFrame(this.webAnimationsNextTick))}},{key:"rAF",value:function(t){var e=this.rafId++;return 0===this.rafCallbacks.length&&(this.frameId=this.document.defaultView.requestAnimationFrame(this.processRafCallbacks)),this.rafCallbacks.push([e,t]),e}},{key:"requestAnimationFrame",value:function(t){var e=this;return this.rAF(function(n){e.updateAnimationsPromises(),t(n),e.updateAnimationsPromises()})}},{key:"tick",value:function(t,e,n){var r,i,o=this;this.inTick=!0,this.hasRestartedThisFrame=!1,this.currentTime=t,this.ticking=!1;var a=[],s=[],l=[],u=[];return n.forEach(function(n){n.tick(t,e),n._inEffect?(s.push(n.effect),n.markTarget()):(a.push(n.effect),n.unmarkTarget()),n._needsTick&&(o.ticking=!0);var r=n._inEffect||n._needsTick;n._inTimeline=r,r?l.push(n):u.push(n)}),(r=this.pendingEffects).push.apply(r,a),(i=this.pendingEffects).push.apply(i,s),this.ticking&&this.requestAnimationFrame(function(){}),this.inTick=!1,[l,u]}}]);F.GZ.EasingFunction=t_,F.GZ.AnimationTimeline=tU;var tq=function(t){return(0,tt.Z)(t)?"":t.toString()},tK=function(t){var e=tq(t);return e.charAt(0).toUpperCase()+e.substring(1)},tY=n(19606),tX=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)},tJ=function(t,e){if(t===e)return!0;if(!t||!e||(0,G.Z)(t)||(0,G.Z)(e))return!1;if(tX(t)||tX(e)){if(t.length!==e.length)return!1;for(var n=!0,r=0;r<t.length&&(n=tJ(t[r],e[r]));r++);return n}if((0,tY.Z)(t)||(0,tY.Z)(e)){var i=Object.keys(t),o=Object.keys(e);if(i.length!==o.length)return!1;for(var n=!0,r=0;r<i.length&&(n=tJ(t[i[r]],e[i[r]]));r++);return n}return!1},tQ=n(32129);let t0={duration:500},t1={duration:1e3,easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",iterations:1,fill:"both"};(i=E||(E={})).NodeAdded="NodeAdded",i.NodeUpdated="NodeUpdated",i.NodeRemoved="NodeRemoved",i.EdgeAdded="EdgeAdded",i.EdgeUpdated="EdgeUpdated",i.EdgeRemoved="EdgeRemoved",i.ComboAdded="ComboAdded",i.ComboUpdated="ComboUpdated",i.ComboRemoved="ComboRemoved",(o=w||(w={})).DRAW="draw",o.COLLAPSE="collapse",o.EXPAND="expand",o.TRANSFORM="transform",(a=S||(S={})).CLICK="canvas:click",a.DBLCLICK="canvas:dblclick",a.POINTER_OVER="canvas:pointerover",a.POINTER_LEAVE="canvas:pointerleave",a.POINTER_ENTER="canvas:pointerenter",a.POINTER_MOVE="canvas:pointermove",a.POINTER_OUT="canvas:pointerout",a.POINTER_DOWN="canvas:pointerdown",a.POINTER_UP="canvas:pointerup",a.CONTEXT_MENU="canvas:contextmenu",a.DRAG_START="canvas:dragstart",a.DRAG="canvas:drag",a.DRAG_END="canvas:dragend",a.DRAG_ENTER="canvas:dragenter",a.DRAG_OVER="canvas:dragover",a.DRAG_LEAVE="canvas:dragleave",a.DROP="canvas:drop",a.WHEEL="canvas:wheel",(s=M||(M={})).CLICK="combo:click",s.DBLCLICK="combo:dblclick",s.POINTER_OVER="combo:pointerover",s.POINTER_LEAVE="combo:pointerleave",s.POINTER_ENTER="combo:pointerenter",s.POINTER_MOVE="combo:pointermove",s.POINTER_OUT="combo:pointerout",s.POINTER_DOWN="combo:pointerdown",s.POINTER_UP="combo:pointerup",s.CONTEXT_MENU="combo:contextmenu",s.DRAG_START="combo:dragstart",s.DRAG="combo:drag",s.DRAG_END="combo:dragend",s.DRAG_ENTER="combo:dragenter",s.DRAG_OVER="combo:dragover",s.DRAG_LEAVE="combo:dragleave",s.DROP="combo:drop",(l=k||(k={})).CLICK="click",l.DBLCLICK="dblclick",l.POINTER_OVER="pointerover",l.POINTER_LEAVE="pointerleave",l.POINTER_ENTER="pointerenter",l.POINTER_MOVE="pointermove",l.POINTER_OUT="pointerout",l.POINTER_DOWN="pointerdown",l.POINTER_UP="pointerup",l.CONTEXT_MENU="contextmenu",l.DRAG_START="dragstart",l.DRAG="drag",l.DRAG_END="dragend",l.DRAG_ENTER="dragenter",l.DRAG_OVER="dragover",l.DRAG_LEAVE="dragleave",l.DROP="drop",l.KEY_DOWN="keydown",l.KEY_UP="keyup",l.WHEEL="wheel",(u=O||(O={})).KEY_DOWN="keydown",u.KEY_UP="keyup",(c=C||(C={})).CLICK="edge:click",c.DBLCLICK="edge:dblclick",c.POINTER_OVER="edge:pointerover",c.POINTER_LEAVE="edge:pointerleave",c.POINTER_ENTER="edge:pointerenter",c.POINTER_MOVE="edge:pointermove",c.POINTER_OUT="edge:pointerout",c.POINTER_DOWN="edge:pointerdown",c.POINTER_UP="edge:pointerup",c.CONTEXT_MENU="edge:contextmenu",c.DRAG_ENTER="edge:dragenter",c.DRAG_OVER="edge:dragover",c.DRAG_LEAVE="edge:dragleave",c.DROP="edge:drop",(h=A||(A={})).BEFORE_CANVAS_INIT="beforecanvasinit",h.AFTER_CANVAS_INIT="aftercanvasinit",h.BEFORE_SIZE_CHANGE="beforesizechange",h.AFTER_SIZE_CHANGE="aftersizechange",h.BEFORE_ELEMENT_CREATE="beforeelementcreate",h.AFTER_ELEMENT_CREATE="afterelementcreate",h.BEFORE_ELEMENT_UPDATE="beforeelementupdate",h.AFTER_ELEMENT_UPDATE="afterelementupdate",h.BEFORE_ELEMENT_DESTROY="beforeelementdestroy",h.AFTER_ELEMENT_DESTROY="afterelementdestroy",h.BEFORE_ELEMENT_TRANSLATE="beforeelementtranslate",h.AFTER_ELEMENT_TRANSLATE="afterelementtranslate",h.BEFORE_DRAW="beforedraw",h.AFTER_DRAW="afterdraw",h.BEFORE_RENDER="beforerender",h.AFTER_RENDER="afterrender",h.BEFORE_ANIMATE="beforeanimate",h.AFTER_ANIMATE="afteranimate",h.BEFORE_LAYOUT="beforelayout",h.AFTER_LAYOUT="afterlayout",h.BEFORE_STAGE_LAYOUT="beforestagelayout",h.AFTER_STAGE_LAYOUT="afterstagelayout",h.BEFORE_TRANSFORM="beforetransform",h.AFTER_TRANSFORM="aftertransform",h.BATCH_START="batchstart",h.BATCH_END="batchend",h.BEFORE_DESTROY="beforedestroy",h.AFTER_DESTROY="afterdestroy",h.BEFORE_RENDERER_CHANGE="beforerendererchange",h.AFTER_RENDERER_CHANGE="afterrendererchange",(d=T||(T={})).UNDO="undo",d.REDO="redo",d.CANCEL="cancel",d.ADD="add",d.CLEAR="clear",d.CHANGE="change",(p=P||(P={})).CLICK="node:click",p.DBLCLICK="node:dblclick",p.POINTER_OVER="node:pointerover",p.POINTER_LEAVE="node:pointerleave",p.POINTER_ENTER="node:pointerenter",p.POINTER_MOVE="node:pointermove",p.POINTER_OUT="node:pointerout",p.POINTER_DOWN="node:pointerdown",p.POINTER_UP="node:pointerup",p.CONTEXT_MENU="node:contextmenu",p.DRAG_START="node:dragstart",p.DRAG="node:drag",p.DRAG_END="node:dragend",p.DRAG_ENTER="node:dragenter",p.DRAG_OVER="node:dragover",p.DRAG_LEAVE="node:dragleave",p.DROP="node:drop";let t2="combo",t3="tree";(f=L||(L={})).NODE="node",f.EDGE="edge",f.COMBO="combo",f.THEME="theme",f.PALETTE="palette",f.LAYOUT="layout",f.BEHAVIOR="behavior",f.PLUGIN="plugin",f.ANIMATION="animation",f.TRANSFORM="transform",f.SHAPE="shape";let t6={animation:{},behavior:{},combo:{},edge:{},layout:{},node:{},palette:{},theme:{},plugin:{},transform:{},shape:{}};function t5(t,e){var n;let r=null===(n=t6[t])||void 0===n?void 0:n[e];if(r)return r}function t4(t){return`[G6 v5.0.35] ${t}`}let t8={mute:!1,debug:t=>{t8.mute||console.debug(t4(t))},info:t=>{t8.mute||console.info(t4(t))},warn:t=>{t8.mute||console.warn(t4(t))},error:t=>{t8.mute||console.error(t4(t))}};function t9(t){let{theme:e}=t;return e?t5(L.THEME,e)||(t8.warn(`The theme of ${e} is not registered.`),{}):{}}function t7(t,e){if(Array.isArray(t)&&0===t.length)return null;let n=Array.isArray(t)?t[0]:t,r=Array.isArray(t)?t.slice(1):e||[];return new Proxy(n,{get:(t,e)=>"function"!=typeof t[e]||["onframe","onfinish"].includes(e)?"finished"===e?Promise.all([n.finished,...r.map(t=>t.finished)]):Reflect.get(t,e):(...n)=>{t[e](...n),r.forEach(t=>{var r;return null===(r=t[e])||void 0===r?void 0:r.call(t,...n)})},set:(t,e,n)=>(["onframe","onfinish"].includes(e)||r.forEach(t=>{t[e]=n}),Reflect.set(t,e,n))})}function et(t){let e=t.reduce((t,e)=>(Object.entries(e).forEach(([e,n])=>{void 0===t[e]?t[e]=[n]:t[e].push(n)}),t),{});Object.entries(e).forEach(([n,r])=>{(r.length!==t.length||r.some(t=>(0,tt.Z)(t))||r.every(t=>!["sourceNode","targetNode","childrenNode"].includes(n)&&tJ(t,r[0])))&&delete e[n]});let n=Object.entries(e).reduce((t,[e,n])=>(n.forEach((n,r)=>{t[r]?t[r][e]=n:t[r]={[e]:n}}),t),[]);return 0!==t.length&&0===n.length&&n.push({_:0},{_:0}),n}function ee(t){switch(t){case"opacity":return 1;case"x":case"y":case"z":case"zIndex":return 0;case"visibility":return"visible";case"collapsed":return!1;case"states":return[];default:return}}function en(t,e){let{animation:n}=t;if(!1===n||!1===e)return!1;let r=Object.assign({},t0);return(0,tQ.Z)(n)&&Object.assign(r,n),(0,tQ.Z)(e)&&Object.assign(r,e),r}function er(t,e,n,r){if(Array.isArray(r)){let i=!1,o=[];for(let a=0;a<r.length;a++){let s=r[a];if("translate"===s[0]){if(s[1]===t&&s[2]===e)return null;i=!0,o.push(["translate",t,e])}else if("translate3d"===s[0]){if(s[1]===t&&s[2]===e&&s[3]===n)return null;i=!0,o.push(["translate3d",t,e,n])}else o.push(s)}return i||o.splice(0,0,0===n?["translate",t,e]:["translate3d",t,e,n]),o}let i=r?r.replace(/translate(3d)?\([^)]*\)/g,""):"";return 0===n?`translate(${t}, ${e})${i}`:`translate3d(${t}, ${e}, ${n})${i}`}var ei=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)0>e.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};let eo=(t,e,n)=>{let r;if(!n.length)return null;let[i,o]=e,a=e=>{var n;if(!e)return{shape:t,fromStyle:i,toStyle:o};{let r=t.getShape(e);if(!r)return null;let a=`get${tK(e)}Style`,s=(null===(n=null==t?void 0:t[a])||void 0===n?void 0:n.bind(t))||(t=>t);return{shape:r,fromStyle:(null==s?void 0:s(i))||{},toStyle:(null==s?void 0:s(o))||{}}}},s=n.map(t=>{var{fields:e,shape:n,states:i}=t,o=ei(t,["fields","shape","states"]);let s=a(n);if(!s)return null;let{shape:l,fromStyle:u,toStyle:c}=s,h=[{},{}];if(e.forEach(t=>{var e,n;Object.assign(h[0],{[t]:null!==(e=u[t])&&void 0!==e?e:ee(t)}),Object.assign(h[1],{[t]:null!==(n=c[t])&&void 0!==n?n:ee(t)})}),h.some(t=>Object.keys(t).some(t=>["x","y","z"].includes(t)))){let{x:t=0,y:e=0,z:n=0,transform:r=""}=l.attributes||{};h.forEach(i=>{i.transform=er(i.x||t,i.y||e,i.z||n,r)})}let d=l.animate(et(h),o);return void 0===n&&(r=d),d}).filter(Boolean),l=r||(null==s?void 0:s[0]);return l?t7(l,s.filter(t=>t!=t)):null},ea=[{fields:["x","y"]}],es=[{fields:["sourceNode","targetNode"]}],el=[{fields:["childrenNode","x","y"]}];var eu=n(80502),ec=n(72142),eh=Object.prototype.hasOwnProperty,ed=function(t,e){if(!e||!(0,ec.Z)(t))return{};for(var n,r={},i=(0,eu.Z)(e)?e:function(t){return t[e]},o=0;o<t.length;o++){var a=t[o];n=i(a),eh.call(r,n)?r[n].push(a):r[n]=[a]}return r},ep=function(t,e,n){var r,i,o,a,s=0;n||(n={});var l=function(){s=!1===n.leading?0:Date.now(),r=null,a=t.apply(i,o),r||(i=o=null)},u=function(){var u=Date.now();s||!1!==n.leading||(s=u);var c=e-(u-s);return i=this,o=arguments,c<=0||c>e?(r&&(clearTimeout(r),r=null),s=u,a=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(l,c)),a};return u.cancel=function(){clearTimeout(r),s=0,r=i=o=null},u},ef=n(87662);function eg(t){return t instanceof Float32Array||!!Array.isArray(t)&&(2===t.length||3===t.length)&&t.every(t=>"number"==typeof t)}function em(t,e,n){return t>=e&&t<=n}function ev(t=0){if(Array.isArray(t)){let[e=0,n=e,r=e,i=n]=t;return[e,n,r,i]}return[t,t,t,t]}function ey(t){return t.max[0]-t.min[0]}function eb(t){return t.max[1]-t.min[1]}function ex(t){return[ey(t),eb(t)]}function eE(t,e){let n=eg(t)?ew(t):t.getShape("key").getBounds();return e?eS(n,e):n}function ew(t){let[e,n,r=0]=t,i=new F.mN;return i.setMinMax([e,n,r],[e,n,r]),i}function eS(t,e){let[n,r,i,o]=ev(e),[a,s,l]=t.min,[u,c,h]=t.max,d=new F.mN;return d.setMinMax([a-o,s-n,l],[u+r,c+i,h]),d}function eM(t){if(0===t.length)return new F.mN;if(1===t.length)return t[0];let e=new F.mN;e.setMinMax(t[0].min,t[0].max);for(let n=1;n<t.length;n++){let r=t[n];e.setMinMax([Math.min(e.min[0],r.min[0]),Math.min(e.min[1],r.min[1]),Math.min(e.min[2],r.min[2])],[Math.max(e.max[0],r.max[0]),Math.max(e.max[1],r.max[1]),Math.max(e.max[2],r.max[2])])}return e}function ek(t,e){return em(t[0],e.min[0],e.max[0])&&em(t[1],e.min[1],e.max[1])}function eO(t,e,n=!1){let{min:[r,i],max:[o,a]}=e,s=(t[1]===i||t[1]===a)&&(n||em(t[0],r,o)),l=(t[0]===r||t[0]===o)&&(n||em(t[1],i,a));return s||l}function eC(t,e){let{center:n}=e;return t[0]===n[0]&&t[1]===n[1]}function eA(t,e){let[n,r]=t,[i,o]=e.min,[a,s]=e.max,l=n-i,u=a-n,c=r-o,h=s-r,d=Math.min(l,u,c,h);return d===l?"left":d===u?"right":d===c?"top":d===h?"bottom":"left"}function eT(t,e){let n=(0,ef.Z)(t);if(ek(t,e))switch(eA(t,e)){case"left":n[0]=e.min[0];break;case"right":n[0]=e.max[0];break;case"top":n[1]=e.min[1];break;case"bottom":n[1]=e.max[1]}else{let[r,i]=t,[o,a]=e.min,[s,l]=e.max;n[0]=em(r,o,s)?r:r<o?o:s,n[1]=em(i,a,l)?i:i<a?a:l}return n}var eP=function(t,e){return t===e},eL=function(){function t(t,e){void 0===e&&(e=null),this.value=t,this.next=e}return t.prototype.toString=function(t){return t?t(this.value):"".concat(this.value)},t}(),eR=function(){function t(t){void 0===t&&(t=eP),this.head=null,this.tail=null,this.compare=t}return t.prototype.prepend=function(t){var e=new eL(t,this.head);return this.head=e,this.tail||(this.tail=e),this},t.prototype.append=function(t){var e=new eL(t);return this.head?this.tail.next=e:this.head=e,this.tail=e,this},t.prototype.delete=function(t){if(!this.head)return null;for(var e=null;this.head&&this.compare(this.head.value,t);)e=this.head,this.head=this.head.next;var n=this.head;if(null!==n)for(;n.next;)this.compare(n.next.value,t)?(e=n.next,n.next=n.next.next):n=n.next;return this.compare(this.tail.value,t)&&(this.tail=n),e},t.prototype.find=function(t){var e=t.value,n=void 0===e?void 0:e,r=t.callback,i=void 0===r?void 0:r;if(!this.head)return null;for(var o=this.head;o;){if(i&&i(o.value)||void 0!==n&&this.compare(o.value,n))return o;o=o.next}return null},t.prototype.deleteTail=function(){var t=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,t;for(var e=this.head;e.next;)e.next.next?e=e.next:e.next=null;return this.tail=e,t},t.prototype.deleteHead=function(){if(!this.head)return null;var t=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),t},t.prototype.fromArray=function(t){var e=this;return t.forEach(function(t){return e.append(t)}),this},t.prototype.toArray=function(){for(var t=[],e=this.head;e;)t.push(e),e=e.next;return t},t.prototype.reverse=function(){for(var t=this.head,e=null,n=null;t;)n=t.next,t.next=e,e=t,t=n;this.tail=this.head,this.head=e},t.prototype.toString=function(t){return void 0===t&&(t=void 0),this.toArray().map(function(e){return e.toString(t)}).toString()},t}();!function(){function t(){this.linkedList=new eR}t.prototype.isEmpty=function(){return!this.linkedList.head},t.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},t.prototype.enqueue=function(t){this.linkedList.append(t)},t.prototype.dequeue=function(){var t=this.linkedList.deleteHead();return t?t.value:null},t.prototype.toString=function(t){return this.linkedList.toString(t)}}();var eD=function(t,e,n){void 0===e&&(e=[]);var r=e.filter(function(e){return e.source===t||e.target===t});return"target"===n?r.filter(function(e){return e.source===t}).map(function(t){return t.target}):"source"===n?r.filter(function(e){return e.target===t}).map(function(t){return t.source}):r.map(function(e){return e.source===t?e.target:e.source})},eN=function(t){var e={},n=t.nodes,r=t.edges;return(void 0===n?[]:n).forEach(function(t){e[t.id]={degree:0,inDegree:0,outDegree:0}}),(void 0===r?[]:r).forEach(function(t){e[t.source].degree++,e[t.source].outDegree++,e[t.target].degree++,e[t.target].inDegree++}),e},eI=n(95666),eZ={}.toString,ej=function(t,e){return eZ.call(t)==="[object "+e+"]"},e_=function(t){return ej(t,"Function")},eB=function(t){return Array.isArray?Array.isArray(t):ej(t,"Array")},eF=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e},ez=function(t,e){if(t){if(eB(t))for(var n=0,r=t.length;n<r&&!1!==e(t[n],n);n++);else if(eF(t)){for(var i in t)if(t.hasOwnProperty(i)&&!1===e(t[i],i))break}}},eW=Array.prototype;eW.splice,eW.indexOf,Array.prototype.splice,Object.prototype.hasOwnProperty;var eV=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return ez(t,function(n,r){e_(t)&&"prototype"===r||e.push(n)}),e},eH=function(t){if("object"!=typeof t||null===t)return t;if(eB(t)){e=[];for(var e,n=0,r=t.length;n<r;n++)"object"==typeof t[n]&&null!=t[n]?e[n]=eH(t[n]):e[n]=t[n]}else for(var i in e={},t)"object"==typeof t[i]&&null!=t[i]?e[i]=eH(t[i]):e[i]=t[i];return e};Object.prototype.hasOwnProperty,Object.prototype.hasOwnProperty,function(t,e){if(!e_(t))throw TypeError("Expected a function");var n=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=e?e.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var s=t.apply(this,r);return a.set(o,s),s};n.cache=new Map}(function(t,e){void 0===e&&(e={});var n=e.fontSize,r=e.fontFamily,i=e.fontWeight,o=e.fontStyle,a=e.fontVariant;return R||(R=document.createElement("canvas").getContext("2d")),R.font=[o,a,i,n+"px",r].join(" "),R.measureText(ej(t,"String")?t:"").width},function(t,e){return void 0===e&&(e={}),(0,eI.__spreadArrays)([t],eV(e)).join("")}),function(){function t(){this.map={}}t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length}}();var eG=function(t,e,n){for(var r,i=1/0,o=0;o<e.length;o++){var a=e[o].id;!n[a]&&t[a]<=i&&(i=t[a],r=e[o])}return r},e$=function(t,e,n,r){var i=t.nodes,o=void 0===i?[]:i,a=t.edges,s=void 0===a?[]:a,l=[],u={},c={},h={};o.forEach(function(t,n){var r=t.id;l.push(r),c[r]=1/0,r===e&&(c[r]=0)});for(var d=o.length,p=0;p<d;p++)!function(t){var e=eG(c,o,u),i=e.id;if(u[i]=!0,c[i]!==1/0){var a=[];(n?s.filter(function(t){return t.source===i}):s.filter(function(t){return t.source===i||t.target===i})).forEach(function(t){var n=t.target,o=t.source,a=n===i?o:n,s=r&&t[r]?t[r]:1;c[a]>c[e.id]+s?(c[a]=c[e.id]+s,h[a]=[e.id]):c[a]===c[e.id]+s&&h[a].push(e.id)})}}(0);h[e]=[e];var f={};for(var g in c)c[g]!==1/0&&function t(e,n,r,i){if(e===n)return[e];if(i[n])return i[n];for(var o=[],a=0,s=r[n];a<s.length;a++){var l=t(e,s[a],r,i);if(!l)return;for(var u=0;u<l.length;u++){var c=l[u];eB(c)?o.push((0,eI.__spreadArray)((0,eI.__spreadArray)([],c,!0),[n],!1)):o.push([c,n])}}return i[n]=o,i[n]}(e,g,h,f);var m={};for(var g in f)m[g]=f[g][0];return{length:c,path:m,allPath:f}},eU=function(t,e,n,r,i){var o=e$(t,e,r,i),a=o.length,s=o.path,l=o.allPath;return{length:a[n],path:s[n],allPath:l[n]}};!function(){function t(t){this.arr=t}t.prototype.getArr=function(){return this.arr||[]},t.prototype.add=function(e){var n,r=e.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new t(r);if(!(null==r?void 0:r.length))return new t(this.arr);if(this.arr.length===r.length){var i=[];for(var o in this.arr)i[o]=this.arr[o]+r[o];return new t(i)}},t.prototype.subtract=function(e){var n,r=e.arr;if(!(null===(n=this.arr)||void 0===n?void 0:n.length))return new t(r);if(!(null==r?void 0:r.length))return new t(this.arr);if(this.arr.length===r.length){var i=[];for(var o in this.arr)i[o]=this.arr[o]-r[o];return new t(i)}},t.prototype.avg=function(e){var n=[];if(0!==e)for(var r in this.arr)n[r]=this.arr[r]/e;return new t(n)},t.prototype.negate=function(){var e=[];for(var n in this.arr)e[n]=-this.arr[n];return new t(e)},t.prototype.squareEuclideanDistance=function(t){var e,n=t.arr;if(!(null===(e=this.arr)||void 0===e?void 0:e.length)||!(null==n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=Math.pow(this.arr[i]-t.arr[i],2);return r}},t.prototype.euclideanDistance=function(t){var e,n=t.arr;if(!(null===(e=this.arr)||void 0===e?void 0:e.length)||!(null==n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=Math.pow(this.arr[i]-t.arr[i],2);return Math.sqrt(r)}console.error("The two vectors are unequal in length.")},t.prototype.normalize=function(){var e=[],n=eH(this.arr);n.sort(function(t,e){return t-e});var r=n[n.length-1],i=n[0];for(var o in this.arr)e[o]=(this.arr[o]-i)/(r-i);return new t(e)},t.prototype.norm2=function(){if(!(null===(t=this.arr)||void 0===t?void 0:t.length))return 0;var t,e=0;for(var n in this.arr)e+=Math.pow(this.arr[n],2);return Math.sqrt(e)},t.prototype.dot=function(t){var e,n=t.arr;if(!(null===(e=this.arr)||void 0===e?void 0:e.length)||!(null==n?void 0:n.length))return 0;if(this.arr.length===n.length){var r=0;for(var i in this.arr)r+=this.arr[i]*t.arr[i];return r}console.error("The two vectors are unequal in length.")},t.prototype.equal=function(t){var e,n=t.arr;if((null===(e=this.arr)||void 0===e?void 0:e.length)!==(null==n?void 0:n.length))return!1;for(var r in this.arr)if(this.arr[r]!==n[r])return!1;return!0}}(),(D||(D={})).EuclideanDistance="euclideanDistance",function(){function t(t){this.count=t.length,this.parent={};for(var e=0;e<t.length;e++){var n=t[e];this.parent[n]=n}}t.prototype.find=function(t){for(;this.parent[t]!==t;)t=this.parent[t];return t},t.prototype.union=function(t,e){var n=this.find(t),r=this.find(e);n!==r&&(n<r?(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]):(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]))},t.prototype.connected=function(t,e){return this.find(t)===this.find(e)}}();var eq=function(t,e){return t-e};!function(){function t(t){void 0===t&&(t=eq),this.compareFn=t,this.list=[]}t.prototype.getLeft=function(t){return 2*t+1},t.prototype.getRight=function(t){return 2*t+2},t.prototype.getParent=function(t){return 0===t?null:Math.floor((t-1)/2)},t.prototype.isEmpty=function(){return this.list.length<=0},t.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},t.prototype.delMin=function(){var t=this.top(),e=this.list.pop();return this.list.length>0&&(this.list[0]=e,this.moveDown(0)),t},t.prototype.insert=function(t){if(null!==t){this.list.push(t);var e=this.list.length-1;return this.moveUp(e),!0}return!1},t.prototype.moveUp=function(t){for(var e=this.getParent(t);t&&t>0&&this.compareFn(this.list[e],this.list[t])>0;){var n=this.list[e];this.list[e]=this.list[t],this.list[t]=n,t=e,e=this.getParent(t)}},t.prototype.moveDown=function(t){var e,n=t,r=this.getLeft(t),i=this.getRight(t),o=this.list.length;null!==r&&r<o&&this.compareFn(this.list[n],this.list[r])>0?n=r:null!==i&&i<o&&this.compareFn(this.list[n],this.list[i])>0&&(n=i),t!==n&&(e=[this.list[n],this.list[t]],this.list[t]=e[0],this.list[n]=e[1],this.moveDown(n))}}();var eK=function(t,e,n){"number"!=typeof e&&(e=1e-6),"number"!=typeof n&&(n=.85);for(var r,i=1,o=0,a=1e3,s=t.nodes,l=void 0===s?[]:s,u=t.edges,c=void 0===u?[]:u,h=l.length,d={},p={},f=0;f<h;++f){var g=l[f],m=g.id;d[m]=1/h,p[m]=1/h}for(var v=eN(t);a>0&&i>e;){o=0;for(var f=0;f<h;++f){var g=l[f],m=g.id;if(r=0,0===v[g.id].inDegree)d[m]=0;else{for(var y=eD(m,c,"source"),b=0;b<y.length;++b){var x=y[b],E=v[x].outDegree;E>0&&(r+=p[x]/E)}d[m]=n*r,o+=d[m]}}o=(1-o)/h,i=0;for(var f=0;f<h;++f){var g=l[f],m=g.id;i+=Math.abs((r=d[m]+o)-p[m]),p[m]=r}a-=1}return p},eY=function(t,e,n,r){void 0===t&&(t=-1),void 0===e&&(e=-1),void 0===n&&(n=-1),void 0===r&&(r="-1"),this.id=t,this.from=e,this.to=n,this.label=r},eX=function(){function t(t,e){void 0===t&&(t=-1),void 0===e&&(e="-1"),this.id=t,this.label=e,this.edges=[],this.edgeMap={}}return t.prototype.addEdge=function(t){this.edges.push(t),this.edgeMap[t.id]=t},t}(),eJ=function(){function t(t,e,n){void 0===t&&(t=-1),void 0===e&&(e=!0),void 0===n&&(n=!1),this.id=t,this.edgeIdAutoIncrease=e,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=n}return t.prototype.getNodeNum=function(){return this.nodes.length},t.prototype.addNode=function(t,e){if(!this.nodeMap[t]){var n=new eX(t,e);this.nodes.push(n),this.nodeMap[t]=n,this.nodeLabelMap[e]||(this.nodeLabelMap[e]=[]),this.nodeLabelMap[e].push(t)}},t.prototype.addEdge=function(t,e,n,r){if((this.edgeIdAutoIncrease||void 0===t)&&(t=this.counter++),!this.nodeMap[e]||!this.nodeMap[n]||!this.nodeMap[n].edgeMap[t]){var i=new eY(t,e,n,r);if(this.edges.push(i),this.edgeMap[t]=i,this.nodeMap[e].addEdge(i),this.edgeLabelMap[r]||(this.edgeLabelMap[r]=[]),this.edgeLabelMap[r].push(i),!this.directed){var o=new eY(t,n,e,r);this.nodeMap[n].addEdge(o),this.edgeLabelMap[r].push(o)}}},t}(),eQ=function(){function t(t,e,n,r,i){this.fromNode=t,this.toNode=e,this.nodeEdgeNodeLabel={nodeLabel1:n||"-1",edgeLabel:r||"-1",nodeLabel2:i||"-1"}}return t.prototype.equalTo=function(t){return this.fromNode===t.formNode&&this.toNode===t.toNode&&this.nodeEdgeNodeLabel===t.nodeEdgeNodeLabel},t.prototype.notEqualTo=function(t){return!this.equalTo(t)},t}(),e0=function(){function t(){this.rmpath=[],this.dfsEdgeList=[]}return t.prototype.equalTo=function(t){var e=this.dfsEdgeList.length;if(e!==t.length)return!1;for(var n=0;n<e;n++)if(this.dfsEdgeList[n]!==t[n])return!1;return!0},t.prototype.notEqualTo=function(t){return!this.equalTo(t)},t.prototype.pushBack=function(t,e,n,r,i){return this.dfsEdgeList.push(new eQ(t,e,n,r,i)),this.dfsEdgeList},t.prototype.toGraph=function(t,e){void 0===t&&(t=-1),void 0===e&&(e=!1);var n=new eJ(t,!0,e);return this.dfsEdgeList.forEach(function(t){var e=t.fromNode,r=t.toNode,i=t.nodeEdgeNodeLabel,o=i.nodeLabel1,a=i.edgeLabel,s=i.nodeLabel2;"-1"!==o&&n.addNode(e,o),"-1"!==s&&n.addNode(r,s),"-1"!==o&&s!==o&&n.addEdge(void 0,e,r,a)}),n},t.prototype.buildRmpath=function(){this.rmpath=[];for(var t=void 0,e=this.dfsEdgeList.length,n=e-1;n>=0;n--){var r=this.dfsEdgeList[n],i=r.fromNode,o=r.toNode;i<o&&(void 0===t||o===t)&&(this.rmpath.push(n),t=i)}return this.rmpath},t.prototype.getNodeNum=function(){var t={};return this.dfsEdgeList.forEach(function(e){t[e.fromNode]||(t[e.fromNode]=!0),t[e.toNode]||(t[e.toNode]=!0)}),Object.keys(t).length},t}(),e1=function(){function t(t){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],t){for(;t;){var e=t.edge;this.edges.push(e),this.nodesUsed[e.from]=1,this.nodesUsed[e.to]=1,this.edgesUsed[e.id]=1,t=t.preNode}this.edges=this.edges.reverse()}}return t.prototype.hasNode=function(t){return 1===this.nodesUsed[t.id]},t.prototype.hasEdge=function(t){return 1===this.edgesUsed[t.id]},t}();function e2(t){if(void 0!==t.id)return t.id;if(void 0!==t.source&&void 0!==t.target)return`${t.source}-${t.target}`;throw Error(t4("The datum does not have available id."))}function e3(t,e){let n={nodes:(t.nodes||[]).map(e2),edges:(t.edges||[]).map(e2),combos:(t.combos||[]).map(e2)};return e?Object.values(n).flat():n}!function(){function t(t){var e=t.graphs,n=t.minSupport,r=t.minNodeNum,i=t.maxNodeNum,o=t.top,a=t.directed,s=t.verbose;this.graphs=e,this.dfsCode=new e0,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=void 0===n?2:n,this.top=void 0===o?10:o,this.directed=void 0!==a&&a,this.counter=0,this.maxNodeNum=void 0===i?4:i,this.minNodeNum=void 0===r?1:r,this.verbose=void 0!==s&&s,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}t.prototype.findForwardRootEdges=function(t,e){var n=this,r=[],i=t.nodeMap;return e.edges.forEach(function(t){(n.directed||e.label<=i[t.to].label)&&r.push(t)}),r},t.prototype.findBackwardEdge=function(t,e,n,r){if(!this.directed&&e===n)return null;for(var i=t.nodeMap,o=i[n.to].edges,a=o.length,s=0;s<a;s++){var l=o[s];if(!r.hasEdge(l)&&l.to===e.from){if(this.directed){if(i[e.from].label<i[n.to].label||i[e.from].label===i[n.to].label&&e.label<=l.label)return l}else if(e.label<l.label||e.label===l.label&&i[e.to].label<=i[n.to].label)return l}}return null},t.prototype.findForwardPureEdges=function(t,e,n,r){for(var i=[],o=e.to,a=t.nodeMap[o].edges,s=a.length,l=0;l<s;l++){var u=a[l],c=t.nodeMap[u.to];n<=c.label&&!r.hasNode(c)&&i.push(u)}return i},t.prototype.findForwardRmpathEdges=function(t,e,n,r){for(var i=[],o=t.nodeMap,a=o[e.to].label,s=o[e.from].edges,l=s.length,u=0;u<l;u++){var c=s[u],h=o[c.to].label;!(e.to===c.to||n>h||r.hasNode(o[c.to]))&&(e.label<c.label||e.label===c.label&&a<=h)&&i.push(c)}return i},t.prototype.getSupport=function(t){var e={};return t.forEach(function(t){e[t.graphId]||(e[t.graphId]=!0)}),Object.keys(e).length},t.prototype.findMinLabel=function(t){var e=void 0;return Object.keys(t).forEach(function(n){var r=t[n],i=r.nodeLabel1,o=r.edgeLabel,a=r.nodeLabel2;if(!e){e={nodeLabel1:i,edgeLabel:o,nodeLabel2:a};return}(i<e.nodeLabel1||i===e.nodeLabel1&&o<e.edgeLabel||i===e.nodeLabel1&&o===e.edgeLabel&&a<e.nodeLabel2)&&(e={nodeLabel1:i,edgeLabel:o,nodeLabel2:a})}),e},t.prototype.isMin=function(){var t=this,e=this.dfsCode;if(this.verbose&&console.log("isMin checking",e),1===e.dfsEdgeList.length)return!0;var n=this.directed,r=e.toGraph(-1,n),i=r.nodeMap,o=new e0,a={};r.nodes.forEach(function(e){t.findForwardRootEdges(r,e).forEach(function(t){var n=i[t.to],o="".concat(e.label,"-").concat(t.label,"-").concat(n.label);a[o]||(a[o]={projected:[],nodeLabel1:e.label,edgeLabel:t.label,nodeLabel2:n.label});var s={graphId:r.id,edge:t,preNode:null};a[o].projected.push(s)})});var s=this.findMinLabel(a);if(s)return o.dfsEdgeList.push(new eQ(0,1,s.nodeLabel1,s.edgeLabel,s.nodeLabel2)),function a(s){for(var l=o.buildRmpath(),u=o.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,c=o.dfsEdgeList[l[0]].toNode,h={},d=!1,p=0,f=n?-1:0,g=function(e){if(d)return"break";s.forEach(function(n){var i=new e1(n),a=t.findBackwardEdge(r,i.edges[l[e]],i.edges[l[0]],i);a&&(h[a.label]||(h[a.label]={projected:[],edgeLabel:a.label}),h[a.label].projected.push({graphId:r.id,edge:h,preNode:n}),p=o.dfsEdgeList[l[e]].fromNode,d=!0)})},m=l.length-1;m>f&&"break"!==g(m);m--);if(d){var v=t.findMinLabel(h);o.dfsEdgeList.push(new eQ(c,p,"-1",v.edgeLabel,"-1"));var y=o.dfsEdgeList.length-1;return t.dfsCode.dfsEdgeList[y]===o.dfsEdgeList[y]&&a(h[v.edgeLabel].projected)}var b={};d=!1;var x=0;s.forEach(function(e){var n=new e1(e),o=t.findForwardPureEdges(r,n.edges[l[0]],u,n);o.length>0&&(d=!0,x=c,o.forEach(function(t){var n="".concat(t.label,"-").concat(i[t.to].label);b[n]||(b[n]={projected:[],edgeLabel:t.label,nodeLabel2:i[t.to].label}),b[n].projected.push({graphId:r.id,edge:t,preNode:e})}))});for(var E=l.length,m=0;m<E&&"break"!==function(e){if(d)return"break";var n=l[e];s.forEach(function(e){var a=new e1(e),s=t.findForwardRmpathEdges(r,a.edges[n],u,a);s.length>0&&(d=!0,x=o.dfsEdgeList[n].fromNode,s.forEach(function(t){var n="".concat(t.label,"-").concat(i[t.to].label);b[n]||(b[n]={projected:[],edgeLabel:t.label,nodeLabel2:i[t.to].label}),b[n].projected.push({graphId:r.id,edge:t,preNode:e})}))})}(m);m++);if(!d)return!0;var w=t.findMinLabel(b);o.dfsEdgeList.push(new eQ(x,c+1,"-1",w.edgeLabel,w.nodeLabel2));var S=o.dfsEdgeList.length-1;return e.dfsEdgeList[S]===o.dfsEdgeList[S]&&a(b["".concat(w.edgeLabel,"-").concat(w.nodeLabel2)].projected)}(a["".concat(s.nodeLabel1,"-").concat(s.edgeLabel,"-").concat(s.nodeLabel2)].projected)},t.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var t=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push(eH(t))}},t.prototype.subGraphMining=function(t){var e=this;if(!(this.getSupport(t)<this.minSupport)&&this.isMin()){this.report();var n=this.dfsCode.getNodeNum(),r=this.dfsCode.buildRmpath(),i=this.dfsCode.dfsEdgeList[r[0]].toNode,o=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,a={},s={};t.forEach(function(t){for(var l=e.graphs[t.graphId],u=l.nodeMap,c=new e1(t),h=r.length-1;h>=0;h--){var d=e.findBackwardEdge(l,c.edges[r[h]],c.edges[r[0]],c);if(d){var p="".concat(e.dfsCode.dfsEdgeList[r[h]].fromNode,"-").concat(d.label);s[p]||(s[p]={projected:[],toNodeId:e.dfsCode.dfsEdgeList[r[h]].fromNode,edgeLabel:d.label}),s[p].projected.push({graphId:t.graphId,edge:d,preNode:t})}}if(!(n>=e.maxNodeNum)){e.findForwardPureEdges(l,c.edges[r[0]],o,c).forEach(function(e){var n="".concat(i,"-").concat(e.label,"-").concat(u[e.to].label);a[n]||(a[n]={projected:[],fromNodeId:i,edgeLabel:e.label,nodeLabel2:u[e.to].label}),a[n].projected.push({graphId:t.graphId,edge:e,preNode:t})});for(var f=function(n){e.findForwardRmpathEdges(l,c.edges[r[n]],o,c).forEach(function(i){var o="".concat(e.dfsCode.dfsEdgeList[r[n]].fromNode,"-").concat(i.label,"-").concat(u[i.to].label);a[o]||(a[o]={projected:[],fromNodeId:e.dfsCode.dfsEdgeList[r[n]].fromNode,edgeLabel:i.label,nodeLabel2:u[i.to].label}),a[o].projected.push({graphId:t.graphId,edge:i,preNode:t})})},h=0;h<r.length;h++)f(h)}}),Object.keys(s).forEach(function(t){var n=s[t],r=n.toNodeId,o=n.edgeLabel;e.dfsCode.dfsEdgeList.push(new eQ(i,r,"-1",o,"-1")),e.subGraphMining(s[t].projected),e.dfsCode.dfsEdgeList.pop()}),Object.keys(a).forEach(function(t){var n=a[t],r=n.fromNodeId,o=n.edgeLabel,s=n.nodeLabel2;e.dfsCode.dfsEdgeList.push(new eQ(r,i+1,"-1",o,s)),e.subGraphMining(a[t].projected),e.dfsCode.dfsEdgeList.pop()})}},t.prototype.generate1EdgeFrequentSubGraphs=function(){var t=this.graphs,e=this.directed,n=this.minSupport,r=this.frequentSize1Subgraphs,i={},o={},a={},s={};return Object.keys(t).forEach(function(n){var r=t[n],l=r.nodeMap;r.nodes.forEach(function(t,r){var u=t.label,c="".concat(n,"-").concat(u);if(!a[c]){var h=i[u]||0;h++,i[u]=h}a[c]={graphKey:n,label:u},t.edges.forEach(function(t){var r=u,i=l[t.to].label;if(!e&&r>i){var a=i;i=r,r=a}var c=t.label,h="".concat(n,"-").concat(r,"-").concat(c,"-").concat(i),d="".concat(r,"-").concat(c,"-").concat(i);if(!o[d]){var p=o[d]||0;p++,o[d]=p}s[h]={graphId:n,nodeLabel1:r,edgeLabel:c,nodeLabel2:i}})})}),Object.keys(i).forEach(function(t){if(!(i[t]<n)){var e={nodes:[],edges:[]};e.nodes.push({id:"0",label:t}),r.push(e)}}),r},t.prototype.run=function(){var t=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var e=this.graphs;this.directed;var n={};Object.keys(e).forEach(function(r){var i=e[r],o=i.nodeMap;i.nodes.forEach(function(e){t.findForwardRootEdges(i,e).forEach(function(t){var i=o[t.to],a="".concat(e.label,"-").concat(t.label,"-").concat(i.label);n[a]||(n[a]={projected:[],nodeLabel1:e.label,edgeLabel:t.label,nodeLabel2:i.label}),n[a].projected.push({graphId:r,edge:t,preNode:null})})})}),Object.keys(n).forEach(function(e){var r=n[e],i=r.projected,o=r.nodeLabel1,a=r.edgeLabel,s=r.nodeLabel2;t.dfsCode.dfsEdgeList.push(new eQ(0,1,o,a,s)),t.subGraphMining(i),t.dfsCode.dfsEdgeList.pop()})}}}(),function(){function t(t){void 0===t&&(t=10),this.linkedList=new eR,this.maxStep=t}Object.defineProperty(t.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return!this.linkedList.head},t.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},t.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},t.prototype.push=function(t){this.linkedList.prepend(t),this.length>this.maxStep&&this.linkedList.deleteTail()},t.prototype.pop=function(){var t=this.linkedList.deleteHead();return t?t.value:null},t.prototype.toArray=function(){return this.linkedList.toArray().map(function(t){return t.value})},t.prototype.clear=function(){for(;!this.isEmpty();)this.pop()}}();let e6=(t,e,n)=>{var r;switch(n.type){case"degree":{let i=new Map;return null===(r=t.nodes)||void 0===r||r.forEach(t=>{let r=e(e2(t),n.direction).length;i.set(e2(t),r)}),i}case"betweenness":return e4(t,n.directed,n.weightPropertyName);case"closeness":return e8(t,n.directed,n.weightPropertyName);case"eigenvector":return e7(t,n.directed);case"pagerank":return e9(t,n.epsilon,n.linkProb);default:return e5(t)}},e5=t=>{var e;let n=new Map;return null===(e=t.nodes)||void 0===e||e.forEach(t=>{n.set(e2(t),0)}),n},e4=(t,e,n)=>{let r=e5(t),{nodes:i=[]}=t;return i.forEach(o=>{i.forEach(i=>{if(o!==i){let{allPath:a}=eU(t,e2(o),e2(i),e,n),s=a.length;a.flat().forEach(t=>{t!==e2(o)&&t!==e2(i)&&r.set(t,r.get(t)+1/s)})}})}),r},e8=(t,e,n)=>{let r=new Map,{nodes:i=[]}=t;return i.forEach(o=>{let a=i.reduce((r,i)=>{if(o!==i){let{length:a}=eU(t,e2(o),e2(i),e,n);r+=a}return r},0);r.set(e2(o),1/a)}),r},e9=(t,e,n)=>{var r;let i=new Map,o=eK(t,e,n);return null===(r=t.nodes)||void 0===r||r.forEach(t=>{i.set(e2(t),o[e2(t)])}),i},e7=(t,e)=>{let{nodes:n=[]}=t,r=ne(nt(t,e),n.length),i=new Map;return n.forEach((t,e)=>{i.set(e2(t),r[e])}),i},nt=(t,e)=>{let{nodes:n=[],edges:r=[]}=t,i=Array(n.length).fill(null).map(()=>Array(n.length).fill(0));return r.forEach(({source:t,target:r})=>{let o=n.findIndex(e=>e2(e)===t),a=n.findIndex(t=>e2(t)===r);e?i[o][a]=1:(i[o][a]=1,i[a][o]=1)}),i},ne=(t,e,n=100,r=1e-6)=>{let i=Array(e).fill(1),o=1/0;for(let a=0;a<n&&o>r;a++){let n=Array(e).fill(0);for(let r=0;r<e;r++)for(let o=0;o<e;o++)n[r]+=t[r][o]*i[o];let r=Math.sqrt(n.reduce((t,e)=>t+e*e,0));for(let t=0;t<e;t++)n[t]/=r;o=Math.sqrt(n.reduce((t,e,n)=>t+(e-i[n])*e,0)),i=n}return i};function nn(t,e,n,r=tJ){let i=new Map(t.map(t=>[n(t),t])),o=new Map(e.map(t=>[n(t),t])),a=new Set(i.keys()),s=new Set(o.keys()),l=[],u=[],c=[],h=[];return s.forEach(t=>{a.has(t)?r(i.get(t),o.get(t))?h.push(o.get(t)):u.push(o.get(t)):l.push(o.get(t))}),a.forEach(t=>{s.has(t)||c.push(i.get(t))}),{enter:l,exit:c,keep:h,update:u}}function nr(t,e,n){let r=t=>{(!n||n(t))&&(t.style.visibility=e)};t.forEach(t=>{r(t)})}class ni{constructor(t){this.extensions=[],this.extensionMap={},this.context=t}setExtensions(t){let e=function(t,e,n){let r={},i=t=>(t in r||(r[t]=0),`${e}-${t}-${r[t]++}`);return n.map(e=>"string"==typeof e?{type:e,key:i(e)}:"function"==typeof e?e.call(t):e.key?e:Object.assign(Object.assign({},e),{key:i(e.type)}))}(this.context.graph,this.category,t),{enter:n,update:r,exit:i,keep:o}=nn(this.extensions,e,t=>t.key);this.createExtensions(n),this.updateExtensions([...r,...o]),this.destroyExtensions(i),this.extensions=e}createExtension(t){let{category:e}=this,{key:n,type:r}=t,i=t5(e,r);if(!i)return t8.warn(`The extension ${r} of ${e} is not registered.`);let o=new i(this.context,t);this.extensionMap[n]=o}createExtensions(t){t.forEach(t=>this.createExtension(t))}updateExtension(t){let{key:e}=t,n=this.extensionMap[e];n&&n.update(t)}updateExtensions(t){t.forEach(t=>this.updateExtension(t))}destroyExtension(t){let e=this.extensionMap[t];e&&(e.destroy(),delete this.extensionMap[t])}destroyExtensions(t){t.forEach(({key:t})=>this.destroyExtension(t))}destroy(){Object.values(this.extensionMap).forEach(t=>t.destroy()),this.context={},this.extensions=[],this.extensionMap={}}}class no{constructor(t,e){this.events=[],this.destroyed=!1,this.context=t,this.options=e}update(t){this.options=Object.assign(this.options,t)}destroy(){this.context={},this.options={},this.destroyed=!0}}class na extends no{}class ns extends na{constructor(t,e){super(t,Object.assign({},ns.defaultOptions,e)),this.isOverlapping=(t,e)=>e.some(e=>t.intersects(e)),this.occupiedBounds=[],this.detectLabelCollision=t=>{let e=this.context.viewport,n={show:[],hide:[]};return this.occupiedBounds=[],t.forEach(t=>{let r=t.getShape("label").getRenderBounds();e.isInViewport(r,!0)&&!this.isOverlapping(r,this.occupiedBounds)?(n.show.push(t),this.occupiedBounds.push(eS(r,this.options.padding))):n.hide.push(t)}),n},this.hideLabelIfExceedViewport=(t,e)=>{let{exit:n}=nn(t,e,t=>t.id);null==n||n.forEach(this.hideLabel)},this.nodeCentralities=new Map,this.sortNodesByCentrality=(t,e)=>{let{model:n}=this.context,r=n.getData(),i=n.getRelatedEdgesData.bind(n);return t.map(t=>(this.nodeCentralities.has(t.id)||(this.nodeCentralities=e6(r,i,e)),{node:t,centrality:this.nodeCentralities.get(t.id)})).sort((t,e)=>e.centrality-t.centrality).map(t=>t.node)},this.sortLabelElementsInView=t=>{let{sort:e,sortNode:n,sortCombo:r,sortEdge:i}=this.options,{model:o}=this.context;if((0,eu.Z)(e))return t.sort((t,n)=>e(o.getElementDataById(t.id),o.getElementDataById(n.id)));let{node:a=[],edge:s=[],combo:l=[]}=ed(t,t=>t.type);return[...(0,eu.Z)(r)?l.sort((t,e)=>r(...o.getComboData([t.id,e.id]))):l,...(0,eu.Z)(n)?a.sort((t,e)=>n(...o.getNodeData([t.id,e.id]))):this.sortNodesByCentrality(a,n),...(0,eu.Z)(i)?s.sort((t,e)=>i(...o.getEdgeData([t.id,e.id]))):s]},this.labelElementsInView=[],this.isFirstRender=!0,this.onToggleVisibility=t=>{var e;if((null===(e=t.data)||void 0===e?void 0:e.stage)==="zIndex")return;if(!this.validate(t)){this.hiddenElements.size>0&&(this.hiddenElements.forEach(this.showLabel),this.hiddenElements.clear());return}let n=this.isFirstRender?this.getLabelElements():this.getLabelElementsInView();this.hideLabelIfExceedViewport(this.labelElementsInView,n),this.labelElementsInView=n;let r=this.sortLabelElementsInView(this.labelElementsInView),{show:i,hide:o}=this.detectLabelCollision(r);for(let t=i.length-1;t>=0;t--)this.showLabel(i[t]);o.forEach(this.hideLabel)},this.hiddenElements=new Map,this.hideLabel=t=>{let e=t.getShape("label");e&&nr(e,"hidden"),this.hiddenElements.set(t.id,t)},this.showLabel=t=>{let e=t.getShape("label");e&&nr(e,"visible"),t.toFront(),this.hiddenElements.delete(t.id)},this.onTransform=ep(this.onToggleVisibility,this.options.throttle,{leading:!0}),this.enableToggle=!0,this.toggle=t=>{this.enableToggle&&this.onToggleVisibility(t)},this.onBeforeRender=()=>{this.enableToggle=!1},this.onAfterRender=t=>{this.onToggleVisibility(t),this.enableToggle=!0},this.bindEvents()}update(t){this.unbindEvents(),super.update(t),this.bindEvents(),this.onToggleVisibility({})}getLabelElements(){let{elementMap:t}=this.context.element,e=[];for(let n in t){let r=t[n];r.isVisible()&&r.getShape("label")&&e.push(r)}return e}getLabelElementsInView(){let t=this.context.viewport;return this.getLabelElements().filter(e=>t.isInViewport(e.getShape("key").getRenderBounds()))}bindEvents(){let{graph:t}=this.context;t.on(A.BEFORE_RENDER,this.onBeforeRender),t.on(A.AFTER_RENDER,this.onAfterRender),t.on(A.AFTER_DRAW,this.toggle),t.on(A.AFTER_LAYOUT,this.toggle),t.on(A.AFTER_TRANSFORM,this.onTransform)}unbindEvents(){let{graph:t}=this.context;t.off(A.BEFORE_RENDER,this.onBeforeRender),t.off(A.AFTER_RENDER,this.onAfterRender),t.off(A.AFTER_DRAW,this.toggle),t.off(A.AFTER_LAYOUT,this.toggle),t.off(A.AFTER_TRANSFORM,this.onTransform)}validate(t){if(this.destroyed)return!1;let{enable:e}=this.options;return(0,eu.Z)(e)?e(t):!!e}destroy(){this.unbindEvents(),super.destroy()}}ns.defaultOptions={enable:!0,throttle:100,padding:0,sortNode:{type:"degree"}};var nl=n(8669);let nu=[0,0,0];function nc(t,e){return t.map((t,n)=>t+e[n])}function nh(t,e){return t.map((t,n)=>t-e[n])}function nd(t,e){return"number"==typeof e?t.map(t=>t*e):t.map((t,n)=>t*e[n])}function np(t,e){return"number"==typeof e?t.map(t=>t/e):t.map((t,n)=>t/e[n])}function nf(t,e){return t.map(t=>t*e)}function ng(t,e){return Math.sqrt(t.reduce((t,n,r)=>t+Math.pow(n-e[r]||0,2),0))}function nm(t,e){return t.reduce((t,n,r)=>t+Math.abs(n-e[r]),0)}function nv(t){let e=t.reduce((t,e)=>t+Math.pow(e,2),0);return t.map(t=>t/Math.sqrt(e))}function ny(t,e,n=!1){let r=t[0]*e[1]-t[1]*e[0],i=Math.acos(nd(t,e).reduce((t,e)=>t+e,0)/(ng(t,nu)*ng(e,nu)));return n&&r<0&&(i=2*Math.PI-i),i}function nb(t,e=!0){return e?[-t[1],t[0]]:[t[1],-t[0]]}function nx(t){return[t[0],t[1]]}function nE(t){return 2===t.length?[t[0],t[1],0]:t}function nw(t){let[e,n]=t;return e||n?Math.atan2(n,e):0}function nS(t,e){let[n,r]=t,[i,o]=e;return(function(t,e){let n=nE(t),r=nE(e);return[n[1]*r[2]-n[2]*r[1],n[2]*r[0]-n[0]*r[2],n[0]*r[1]-n[1]*r[0]]})(nh(n,r),nh(i,o)).every(t=>0===t)}function nM(t,e,n=!1){if(nS(t,e))return;let[r,i]=t,[o,a]=e,s=((r[0]-o[0])*(o[1]-a[1])-(r[1]-o[1])*(o[0]-a[0]))/((r[0]-i[0])*(o[1]-a[1])-(r[1]-i[1])*(o[0]-a[0])),l=a[0]-o[0]?(r[0]-o[0]+s*(i[0]-r[0]))/(a[0]-o[0]):(r[1]-o[1]+s*(i[1]-r[1]))/(a[1]-o[1]);if(n||em(s,0,1)&&em(l,0,1))return[r[0]+s*(i[0]-r[0]),r[1]+s*(i[1]-r[1])]}function nk(t){if(Array.isArray(t))return em(t[0],0,1)&&em(t[1],0,1)?t:[.5,.5];let e=t.split("-");return[e.includes("left")?0:e.includes("right")?1:.5,e.includes("top")?0:e.includes("bottom")?1:.5]}function nO(t){let{x:e=0,y:n=0,z:r=0}=t.style||{};return[+e,+n,+r]}function nC(t){let{x:e,y:n,z:r}=t.style||{};return void 0!==e||void 0!==n||void 0!==r}function nA(t,e="center"){return function(t,e){let[n,r]=e,{min:i,max:o}=t;return[i[0]+n*(o[0]-i[0]),i[1]+r*(o[1]-i[1])]}(t,nk(e))}function nT(t){var e;return[t.x,t.y,null!==(e=t.z)&&void 0!==e?e:0]}function nP(t){var e;return{x:t[0],y:t[1],z:null!==(e=t[2])&&void 0!==e?e:0}}function nL(t,e=0){return t.map(t=>parseFloat(t.toFixed(e)))}function nR(t,e,n,r=!1){if(tJ(t,e))return t;let i=nv(r?nh(t,e):nh(e,t)),o=[i[0]*n,i[1]*n];return nc(nx(t),o)}function nD(t,e){return[2*e[0]-t[0],2*e[1]-t[1]]}function nN(t,e,n,r=!0,i=!1){for(let o=0;o<n.length;o++){let a=n[o],s=n[(o+1)%n.length];r&&(a=nc(e,a),s=nc(e,s));let l=i?nD(t,e):t,u=nM([e,l],[a,s]);if(u)return{point:u,line:[a,s]}}return{point:e,line:void 0}}function nI(t,e,n=!1){let r=e.center,i=nh(n?nD(t,r):t,e.center),o=Math.atan2(i[1],i[0]);if(isNaN(o))return r;let a=ey(e)/2,s=eb(e)/2;return[r[0]+a*Math.cos(o),r[1]+s*Math.sin(o)]}function nZ(t,e){let[n,r]=e[0],[i,o]=e[1],[a,s]=t,l=i-n,u=o-r;if(0===l&&0===u)return[n,r];let c=((a-n)*l+(s-r)*u)/(l*l+u*u);return c>1?c=1:c<0&&(c=0),[n+c*l,r+c*u]}function nj(t,e=!0){let n=np(t.reduce((t,e)=>nc(t,e),[0,0]),t.length);return t.sort(([t,r],[i,o])=>{let a=Math.atan2(r-n[1],t-n[0]),s=Math.atan2(o-n[1],i-n[0]);return e?s-a:a-s})}function n_(t,e){return[t,[t[0],e[1]],e,[e[0],t[1]]]}let nB=t=>t.map(t=>(0,G.Z)(t)?t.toLocaleLowerCase():t);class nF{constructor(t){this.map=new Map,this.recordKey=new Set,this.onKeyDown=t=>{(null==t?void 0:t.key)&&(this.recordKey.add(t.key),this.trigger(t))},this.onKeyUp=t=>{(null==t?void 0:t.key)&&this.recordKey.delete(t.key)},this.onWheel=t=>{this.triggerExtendKey(k.WHEEL,t)},this.onDrag=t=>{this.triggerExtendKey(k.DRAG,t)},this.onFocus=()=>{this.recordKey.clear()},this.emitter=t,this.bindEvents()}bind(t,e){0!==t.length&&this.map.set(t,e)}unbind(t,e){this.map.forEach((n,r)=>{tJ(r,t)&&(!e||e===n)&&this.map.delete(r)})}unbindAll(){this.map.clear()}match(t){return tJ(nB(Array.from(this.recordKey)).sort(),nB(t).sort())}bindEvents(){var t;let{emitter:e}=this;e.on(k.KEY_DOWN,this.onKeyDown),e.on(k.KEY_UP,this.onKeyUp),e.on(k.WHEEL,this.onWheel),e.on(k.DRAG,this.onDrag),null===(t=globalThis.addEventListener)||void 0===t||t.call(globalThis,"focus",this.onFocus)}trigger(t){this.map.forEach((e,n)=>{this.match(n)&&e(t)})}triggerExtendKey(t,e){this.map.forEach((n,r)=>{r.includes(t)&&tJ(Array.from(this.recordKey),r.filter(e=>e!==t))&&n(e)})}destroy(){var t;this.unbindAll(),this.emitter.off(k.KEY_DOWN,this.onKeyDown),this.emitter.off(k.KEY_UP,this.onKeyUp),this.emitter.off(k.WHEEL,this.onWheel),this.emitter.off(k.DRAG,this.onDrag),null===(t=globalThis.removeEventListener)||void 0===t||t.call(globalThis,"blur",this.onFocus)}}class nz extends na{constructor(t,e){super(t,(0,nl.Z)({},nz.defaultOptions,e)),this.shortcut=new nF(t.graph),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.clearStates=this.clearStates.bind(this),this.bindEvents()}onPointerDown(t){if(!this.validate(t)||!this.isKeydown()||this.startPoint)return;let{canvas:e,graph:n}=this.context,r=Object.assign({},this.options.style);this.options.style.lineWidth&&(r.lineWidth=+this.options.style.lineWidth/n.getZoom()),this.rectShape=new F.UL({id:"g6-brush-select",style:r}),e.appendChild(this.rectShape),this.startPoint=[t.canvas.x,t.canvas.y]}onPointerMove(t){var e;if(!this.startPoint)return;let{immediately:n,mode:r}=this.options;this.endPoint=nW(t),null===(e=this.rectShape)||void 0===e||e.attr({x:Math.min(this.endPoint[0],this.startPoint[0]),y:Math.min(this.endPoint[1],this.startPoint[1]),width:Math.abs(this.endPoint[0]-this.startPoint[0]),height:Math.abs(this.endPoint[1]-this.startPoint[1])}),n&&"default"===r&&this.updateElementsStates(n_(this.startPoint,this.endPoint))}onPointerUp(t){if(this.startPoint){if(!this.endPoint){this.clearBrush();return}this.endPoint=nW(t),this.updateElementsStates(n_(this.startPoint,this.endPoint)),this.clearBrush()}}clearStates(){this.endPoint||this.clearElementsStates()}clearElementsStates(){let{graph:t}=this.context,e=Object.values(t.getData()).reduce((t,e)=>Object.assign({},t,e.reduce((t,e)=>(t[e2(e)]=[],t),{})),{});t.setElementState(e,this.options.animation)}updateElementsStates(t){let{graph:e}=this.context,{enableElements:n,state:r,mode:i,onSelect:o}=this.options,a=this.selector(e,t,n),s={};switch(i){case"union":a.forEach(t=>{s[t]=[...e.getElementState(t),r]});break;case"diff":a.forEach(t=>{let n=e.getElementState(t);s[t]=n.includes(r)?n.filter(t=>t!==r):[...n,r]});break;case"intersect":a.forEach(t=>{let n=e.getElementState(t);s[t]=n.includes(r)?[r]:[]});break;default:a.forEach(t=>{s[t]=[r]})}(0,eu.Z)(o)&&(s=o(s)),e.setElementState(s,this.options.animation)}selector(t,e,n){if(!n||0===n.length)return[];let r=[],i=t.getData();if(n.forEach(n=>{i[`${n}s`].forEach(n=>{let i=e2(n);"hidden"!==t.getElementVisibility(i)&&function(t,e,n,r){let i=t[0],o=t[1],a=!1;void 0===n&&(n=0),void 0===r&&(r=e.length);let s=r-n;for(let t=0,r=s-1;t<s;r=t++){let s=e[t+n][0],l=e[t+n][1],u=e[r+n][0],c=e[r+n][1];l>o!=c>o&&i<(u-s)*(o-l)/(c-l)+s&&(a=!a)}return a}(t.getElementPosition(i),e)&&r.push(i)})}),n.includes("edge")){let t=i.edges;null==t||t.forEach(t=>{let{source:e,target:n}=t;r.includes(e)&&r.includes(n)&&r.push(e2(t))})}return r}clearBrush(){var t;null===(t=this.rectShape)||void 0===t||t.remove(),this.rectShape=void 0,this.startPoint=void 0,this.endPoint=void 0}isKeydown(){let{trigger:t}=this.options,e=Array.isArray(t)?t:[t];return this.shortcut.match(e.filter(t=>"drag"!==t))}validate(t){if(this.destroyed)return!1;let{enable:e}=this.options;return(0,eu.Z)(e)?e(t):!!e}bindEvents(){let{graph:t}=this.context;t.on(k.POINTER_DOWN,this.onPointerDown),t.on(k.POINTER_MOVE,this.onPointerMove),t.on(k.POINTER_UP,this.onPointerUp),t.on(S.CLICK,this.clearStates)}unbindEvents(){let{graph:t}=this.context;t.off(k.POINTER_DOWN,this.onPointerDown),t.off(k.POINTER_MOVE,this.onPointerMove),t.off(k.POINTER_UP,this.onPointerUp),t.off(S.CLICK,this.clearStates)}update(t){this.unbindEvents(),this.options=(0,nl.Z)(this.options,t),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy()}}nz.defaultOptions={animation:!1,enable:!0,enableElements:["node","combo","edge"],immediately:!1,mode:"default",state:"selected",trigger:["shift"],style:{width:0,height:0,lineWidth:1,fill:"#1677FF",stroke:"#1677FF",fillOpacity:.1,zIndex:2,pointerEvents:"none"}};let nW=t=>[t.canvas.x,t.canvas.y],nV=["node","edge","combo"];function nH(t,e,n,r,i=0){"TB"===r&&e(t,i);let o=n(t);if(o)for(let t of o)nH(t,e,n,r,i+1);"BT"===r&&e(t,i)}function nG(t,e,n,r,i="both"){if("combo"===e||"node"===e)return n$(t,n,r,i);let o=t.getEdgeData(n);return o?Array.from(new Set([...n$(t,o.source,r-1,i),...n$(t,o.target,r-1,i),n])):[]}function n$(t,e,n,r="both"){let i=new Set,o=new Set,a=new Set;return!function(t,e,n){let r=[[t,0]];for(;r.length;){let[t,i]=r.shift();e(t,i);let o=n(t);if(o)for(let t of o)r.push([t,i+1])}}(e,(e,i)=>{i>n||(a.add(e),t.getRelatedEdgesData(e,r).forEach(t=>{let e=e2(t);!o.has(e)&&i<n&&(a.add(e),o.add(e))}))},e=>t.getRelatedEdgesData(e,r).map(t=>t.source===e?t.target:t.source).filter(t=>!i.has(t)&&(i.add(t),!0))),Array.from(a)}function nU(t){return t.states||[]}var nq=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(a,s)}l((r=r.apply(t,e||[])).next())})};class nK extends na{constructor(t,e){super(t,Object.assign({},nK.defaultOptions,e)),this.onClickSelect=t=>nq(this,void 0,void 0,function*(){var e,n;this.validate(t)&&(yield this.updateState(t),null===(n=(e=this.options).onClick)||void 0===n||n.call(e,t))}),this.onClickCanvas=t=>nq(this,void 0,void 0,function*(){var e,n;this.validate(t)&&(yield this.clearState(),null===(n=(e=this.options).onClick)||void 0===n||n.call(e,t))}),this.shortcut=new nF(t.graph),this.bindEvents()}bindEvents(){let{graph:t}=this.context;this.unbindEvents(),nV.forEach(e=>{t.on(`${e}:${k.CLICK}`,this.onClickSelect)}),t.on(S.CLICK,this.onClickCanvas)}get isMultipleSelect(){let{multiple:t,trigger:e}=this.options;return t&&this.shortcut.match(e)}getNeighborIds(t){let{target:e,targetType:n}=t,{graph:r}=this.context,{degree:i}=this.options;return nG(r,n,e.id,"function"==typeof i?i(t):i).filter(t=>t!==e.id)}updateState(t){return nq(this,void 0,void 0,function*(){let{state:e,unselectedState:n,neighborState:r,animation:i}=this.options;if(!e&&!r&&!n)return;let{target:o}=t,{graph:a}=this.context,s=nU(a.getElementData(o.id)).includes(e)?"unselect":"select",l={},u=this.isMultipleSelect,c=[o.id],h=this.getNeighborIds(t);if(u){if(Object.assign(l,this.getDataStates()),"select"===s){let t=(t,e)=>{t.forEach(t=>{let r=new Set(a.getElementState(t));r.add(e),r.delete(n),l[t]=Array.from(r)})};t(c,e),t(h,r),n&&Object.keys(l).forEach(t=>{let i=l[t];i.includes(e)||i.includes(r)||i.includes(n)||l[t].push(n)})}else{let t=l[o.id];l[o.id]=t.filter(t=>t!==e&&t!==r),t.includes(n)||l[o.id].push(n),h.forEach(t=>{l[t]=l[t].filter(t=>t!==r),l[t].includes(e)||l[t].push(n)})}}else if("select"===s){Object.assign(l,this.getClearStates(!!n));let t=(t,e)=>{t.forEach(t=>{l[t]||(l[t]=a.getElementState(t)),l[t].push(e)})};t(c,e),t(h,r),n&&Object.keys(l).forEach(t=>{c.includes(t)||h.includes(t)||l[t].push(n)})}else Object.assign(l,this.getClearStates());yield a.setElementState(l,i)})}getDataStates(){let{graph:t}=this.context,{nodes:e,edges:n,combos:r}=t.getData(),i={};return[...e,...n,...r].forEach(t=>{i[e2(t)]=nU(t)}),i}getClearStates(t=!1){let{graph:e}=this.context,{state:n,unselectedState:r,neighborState:i}=this.options,o=new Set([n,r,i]),{nodes:a,edges:s,combos:l}=e.getData(),u={};return[...a,...s,...l].forEach(e=>{let n=nU(e),r=n.filter(t=>!o.has(t));t?u[e2(e)]=r:r.length!==n.length&&(u[e2(e)]=r)}),u}clearState(){return nq(this,void 0,void 0,function*(){let{graph:t}=this.context;yield t.setElementState(this.getClearStates(),this.options.animation)})}validate(t){if(this.destroyed)return!1;let{enable:e}=this.options;return(0,eu.Z)(e)?e(t):!!e}unbindEvents(){let{graph:t}=this.context;nV.forEach(e=>{t.off(`${e}:${k.CLICK}`,this.onClickSelect)}),t.off(S.CLICK,this.onClickCanvas)}destroy(){this.unbindEvents(),super.destroy()}}function nY(t){var e;return!!(null===(e=t.style)||void 0===e?void 0:e.collapsed)}nK.defaultOptions={animation:!0,enable:!0,multiple:!1,trigger:["shift"],state:"selected",neighborState:"selected",unselectedState:void 0,degree:0};var nX=function(t,e,n){for(var r=0,i=(0,G.Z)(e)?e.split("."):e;t&&r<i.length;)t=t[i[r++]];return void 0===t||r<i.length?n:t},nJ=function(t,e,n){var r=t,i=(0,G.Z)(e)?e.split("."):e;return i.forEach(function(t,e){e<i.length-1?((0,tQ.Z)(r[t])||(r[t]=(0,$.Z)(i[e+1])?[]:{}),r=r[t]):r[t]=n}),t},nQ=function(t){var e=tq(t);return e.charAt(0).toLowerCase()+e.substring(1)};function n0(t,e){if(!t.startsWith(e))return!1;let n=t[e.length];return n>="A"&&n<="Z"}function n1(t,e){let n=Object.entries(t).reduce((t,[n,r])=>("className"===n||"class"===n||n0(n,e)&&Object.assign(t,{[function(t,e,n=!0){if(!e||!n0(t,e))return t;let r=t.slice(e.length);return n?nQ(r):r}(n,e)]:r}),t),{});if("opacity"in t){var r;let i=(r="opacity",`${e}${tK(r)}`),o=t.opacity;i in t?Object.assign(n,{opacity:o*t[i]}):Object.assign(n,{opacity:o})}return n}function n2(t,e){let n=e.length;return Object.keys(t).reduce((r,i)=>(i.startsWith(e)&&(r[i.slice(n)]=t[i]),r),{})}function n3(t,e){let n="string"==typeof e?[e]:e,r={};return Object.keys(t).forEach(e=>{n.find(t=>e.startsWith(t))||(r[e]=t[e])}),r}function n6(t=0){if("number"==typeof t)return[t,t,t];let[e,n=e,r=e]=t;return[e,n,r]}var n5=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)0>e.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function n4(t,e){let{datum:n,graph:r}=e;return"function"==typeof t?t.call(r,n):Object.fromEntries(Object.entries(t).map(([t,e])=>"function"==typeof e?[t,e.call(r,n)]:[t,e]))}function n8(t,e){let n=(null==t?void 0:t.style)||{},r=(null==e?void 0:e.style)||{};return Object.assign({},t,e,{style:(null==t?void 0:t.style)?Object.assign({},n,r):r})}let n9=new WeakMap;function n7(t,e,n){n9.has(t)||n9.set(t,{});let r=n9.get(t);return r[e]?!rt(r[e],n)&&(r[e]=n,!0):(r[e]=n,!0)}let rt=(t,e,n=2)=>{if("object"!=typeof t||"object"!=typeof e)return t===e;let r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(let i of r){let r=t[i],o=e[i];if(n>1&&"object"==typeof r&&"object"==typeof o){if(!rt(r,o,n-1))return!1}else if(r!==o)return!1}return!0};function re(t){if(t)return"string"==typeof t||"function"==typeof t||Array.isArray(t)?{type:"group",field:t=>t.id,color:t,invert:!1}:t}function rn(t){let e="string"==typeof t?t5("palette",t):t;if("function"!=typeof e)return e}function rr(t,e){let n=2*t;return"string"==typeof e?n=t*Number(e.replace("%",""))/100:"number"==typeof e&&(n=e),isNaN(n)&&(n=2*t),n}function ri(t,e,n=1,r=!1){return rr((t.max[0]-t.min[0])*(r?n:1),e)}var ro={}.toString,ra=Object.prototype,rs=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ra)},rl=Object.prototype.hasOwnProperty,ru=function(t){if((0,tt.Z)(t))return!0;if(tX(t))return!t.length;var e=ro.call(t).replace(/^\[object /,"").replace(/]$/,"");if("Map"===e||"Set"===e)return!t.size;if(rs(t))return!Object.keys(t).length;for(var n in t)if(rl.call(t,n))return!1;return!0};class rc extends F.b_{constructor(t){super(t),this.shapeMap={},this.animateMap={},this.transformPosition(this.attributes),this.render(this.attributes,this),this.setVisibility(),this.bindEvents()}get parsedAttributes(){return this.attributes}upsert(t,e,n,r,i){var o,a,s,l,u,c,h,d;let p=this.shapeMap[t];if(!1===n){p&&(null===(o=null==i?void 0:i.beforeDestroy)||void 0===o||o.call(i,p),r.removeChild(p),delete this.shapeMap[t],null===(a=null==i?void 0:i.afterDestroy)||void 0===a||a.call(i,p));return}let f="string"==typeof e?t5(L.SHAPE,e):e;if(!f)throw Error(t4(`Shape ${e} not found`));if(!p||p.destroyed||!(p instanceof f)){p&&(null===(s=null==i?void 0:i.beforeDestroy)||void 0===s||s.call(i,p),null==p||p.destroy(),null===(l=null==i?void 0:i.afterDestroy)||void 0===l||l.call(i,p)),null===(u=null==i?void 0:i.beforeCreate)||void 0===u||u.call(i);let e=new f({className:t,style:n});return r.appendChild(e),this.shapeMap[t]=e,null===(c=null==i?void 0:i.afterCreate)||void 0===c||c.call(i,e),e}return null===(h=null==i?void 0:i.beforeUpdate)||void 0===h||h.call(i,p),o3(p,n),null===(d=null==i?void 0:i.afterUpdate)||void 0===d||d.call(i,p),p}transformPosition(t){if("x"in t||"y"in t||"z"in t){let{x:e=0,y:n=0,z:r=0,transform:i}=t,o=er(+e,+n,+r,i);o&&(this.style.transform=o)}}update(t={}){let e=Object.assign({},this.attributes,t);this.attr(e),this.render(e,this),this.transformPosition(e),this.setVisibility()}bindEvents(){}getGraphicStyle(t){return function(t){let{x:e,y:n,z:r,class:i,className:o,transform:a,transformOrigin:s,zIndex:l,visibility:u}=t;return n5(t,["x","y","z","class","className","transform","transformOrigin","zIndex","visibility"])}(t)}get compositeShapes(){return[["badges","badge-"],["ports","port-"]]}animate(t,e){if(0===t.length)return null;let n=[];if(void 0!==t[0].x||void 0!==t[0].y||void 0!==t[0].z){let{x:e=0,y:n=0,z:r=0}=this.attributes;t.forEach(t=>{let{x:i=e,y:o=n,z:a=r}=t;Object.assign(t,{transform:a?[["translate3d",i,o,a]]:[["translate",i,o]]})})}let r=super.animate(t,e);if(r&&(rh(this,r),n.push(r)),Array.isArray(t)&&t.length>0){let r=["transform","transformOrigin","x","y","z","zIndex"];if(Object.keys(t[0]).some(t=>!r.includes(t))){Object.entries(this.shapeMap).forEach(([r,i])=>{let o=this[`get${tK(r)}Style`];if((0,eu.Z)(o)){let r=t.map(t=>o.call(this,Object.assign(Object.assign({},this.attributes),t))),a=i.animate(et(r),e);a&&(rh(i,a),n.push(a))}});let r=(r,i)=>{if(!ru(r)){let o=this[`get${tK(i)}Style`];if((0,eu.Z)(o)){let i=t.map(t=>o.call(this,Object.assign(Object.assign({},this.attributes),t)));Object.entries(i[0]).map(([t])=>{let o=i.map(e=>e[t]),a=r[t];if(a){let t=a.animate(et(o),e);t&&(rh(a,t),n.push(t))}})}}};this.compositeShapes.forEach(([t,e])=>{r(n2(this.shapeMap,e),t)})}}return t7(n)}getShape(t){return this.shapeMap[t]}setVisibility(){let{visibility:t}=this.attributes;nr(this,t)}destroy(){this.shapeMap={},this.animateMap={},super.destroy()}}function rh(t,e){null==e||e.finished.then(()=>{let n=t.activeAnimations.findIndex(t=>t===e);n>-1&&t.activeAnimations.splice(n,1)})}var rd=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)0>e.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class rp extends rc{constructor(t){super(n8({style:rp.defaultStyleProps},t))}isTextStyle(t){return n0(t,"label")}isBackgroundStyle(t){return n0(t,"background")}getTextStyle(t){let e=this.getGraphicStyle(t),{padding:n}=e;return n3(rd(e,["padding"]),"background")}getBackgroundStyle(t){if(!1===t.background)return!1;let e=this.getGraphicStyle(t),{wordWrap:n,wordWrapWidth:r,padding:i}=e,o=n1(e,"background"),{min:[a,s],center:[l,u],halfExtents:[c,h]}=this.shapeMap.text.getGeometryBounds(),[d,p,f,g]=ev(i),m=2*c+g+p,{width:v,height:y}=o;v&&y?Object.assign(o,{x:l-Number(v)/2,y:u-Number(y)/2}):Object.assign(o,{x:a-g,y:s-d,width:n?Math.min(m,r+g+p):m,height:2*h+d+f});let{radius:b}=o;if("string"==typeof b&&b.endsWith("%")){let t=Number(b.replace("%",""))/100;o.radius=Math.min(+o.width,+o.height)*t}return o}render(t=this.parsedAttributes,e=this){this.upsert("text",F.xv,this.getTextStyle(t),e),this.upsert("background",F.UL,this.getBackgroundStyle(t),e)}getGeometryBounds(){return(this.getShape("background")||this.getShape("text")).getGeometryBounds()}}rp.defaultStyleProps={padding:0,fontSize:12,fontFamily:"system-ui, sans-serif",wordWrap:!0,maxLines:1,wordWrapWidth:128,textOverflow:"...",textBaseline:"middle",backgroundOpacity:.75,backgroundZIndex:-1,backgroundLineWidth:0};class rf extends rc{constructor(t){super(n8({style:rf.defaultStyleProps},t))}getBadgeStyle(t){return this.getGraphicStyle(t)}render(t=this.parsedAttributes,e=this){this.upsert("label",rp,this.getBadgeStyle(t),e)}getGeometryBounds(){let t=this.getShape("label");return(t.getShape("background")||t.getShape("text")).getGeometryBounds()}}rf.defaultStyleProps={padding:[2,4,2,4],fontSize:10,wordWrap:!1,backgroundRadius:"50%",backgroundOpacity:1};let rg={M:["x","y"],m:["dx","dy"],H:["x"],h:["dx"],V:["y"],v:["dy"],L:["x","y"],l:["dx","dy"],Z:[],z:[],C:["x1","y1","x2","y2","x","y"],c:["dx1","dy1","dx2","dy2","dx","dy"],S:["x2","y2","x","y"],s:["dx2","dy2","dx","dy"],Q:["x1","y1","x","y"],q:["dx1","dy1","dx","dy"],T:["x","y"],t:["dx","dy"],A:["rx","ry","rotation","large-arc","sweep","x","y"],a:["rx","ry","rotation","large-arc","sweep","dx","dy"]},rm=t=>{if(t.length<2)return[["M",0,0],["L",0,0]];let e=t[0],n=t[1],r=t[t.length-1],i=t[t.length-2];t.unshift(i,r),t.push(e,n);let o=[["M",r[0],r[1]]];for(let e=1;e<t.length-2;e+=1){let[n,r]=t[e-1],[i,a]=t[e],[s,l]=t[e+1],[u,c]=e!==t.length-2?t[e+2]:[s,l],h=i+(s-n)/6,d=a+(l-r)/6,p=s-(u-i)/6,f=l-(c-a)/6;o.push(["C",h,d,p,f,s,l])}return o};var rv=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)0>e.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class ry extends rc{constructor(t){super(n8({style:ry.defaultStyleProps},t))}getLabelStyle(t){if(!t.label||!t.d||0===t.d.length)return!1;let e=n1(this.getGraphicStyle(t),"label"),{maxWidth:n,offsetX:r,offsetY:i,autoRotate:o,placement:a,closeToPath:s}=e,l=rv(e,["maxWidth","offsetX","offsetY","autoRotate","placement","closeToPath"]),u=this.shapeMap.key,c=null==u?void 0:u.getRenderBounds();return Object.assign(function(t,e,n,r,i,o,a){var s;let l,u;let[c,h]=nA(t,e),d={textAlign:"left"===e?"right":"right"===e?"left":"center",textBaseline:"top"===e?"bottom":"bottom"===e?"top":"middle",transform:[["translate",c+n,h+r]]};if("center"===e||!i)return d;let p=function(t){let e=[];return("string"==typeof t?function(t){let e=t.replace(/[\n\r]/g,"").replace(/-/g," -").replace(/(\d*\.)(\d+)(?=\.)/g,"$1$2 ").trim().split(/\s*,|\s+/),n=[],r="",i={};for(;e.length>0;){let t=e.shift();t in rg?r=t:e.unshift(t),i={type:r},rg[r].forEach(n=>{t=e.shift(),i[n]=t}),"M"===r?r="L":"m"===r&&(r="l");let[o,...a]=Object.values(i);n.push([o,...a.map(Number)])}return n}(t):t).forEach(t=>{let n=t[0];if("Z"===n){e.push(e[0]);return}if("A"!==n)for(let n=1;n<t.length;n+=2)e.push([t[n],t[n+1],0]);else{let n=t.length;e.push([t[n-2],t[n-1],0])}}),e}(o);if(!p||p.length<=3)return d;let f=p.map((t,e)=>{let n=p[(e+1)%p.length];return tJ(t,n)?null:[t,n]}).filter(Boolean),g=(s=[c,h],l=1/0,u=[[0,0],[0,0]],f.forEach(t=>{let e=function(t,e){let n=nZ(t,e);return ng(t,n)}(s,t);e<l&&(l=e,u=t)}),u),m=nZ([c,h],g);if(m&&g&&(d.transform=[["translate",m[0]+n,m[1]+r]],a)){let t=Math.atan((g[0][1]-g[1][1])/(g[0][0]-g[1][0]));d.transform.push(["rotate",t/Math.PI*180]),d.textAlign="center",("right"===e||"left"===e)&&(t>0?d.textBaseline="right"===e?"bottom":"top":d.textBaseline="right"===e?"top":"bottom")}return d}(c,a,r,i,s,t.d,o),{wordWrapWidth:ri(c,n)},l)}getKeyStyle(t){return this.getGraphicStyle(t)}render(t,e){this.upsert("key",F.y$,this.getKeyStyle(t),e),this.upsert("label",rp,this.getLabelStyle(t),e)}}ry.defaultStyleProps={label:!0,labelPlacement:"bottom",labelCloseToPath:!0,labelAutoRotate:!0,labelOffsetX:0,labelOffsetY:0};class rb extends F.Ee{constructor(t){super(t),this.onMounted=()=>{this.handleRadius()},this.onAttrModified=()=>{this.handleRadius()},rE=this,this.isMutationObserved=!0,this.addEventListener(F.Dk.MOUNTED,this.onMounted),this.addEventListener(F.Dk.ATTR_MODIFIED,this.onAttrModified)}handleRadius(){let{radius:t,clipPath:e,width:n=0,height:r=0}=this.attributes;if(t&&n&&r){let[i,o]=this.getBounds().min,a={x:i,y:o,radius:t,width:n,height:r};if(e)Object.assign(this.parsedStyle.clipPath.style,a);else{let t=new F.UL({style:a});this.style.clipPath=t}}else e&&(this.style.clipPath=null)}}let rx=new WeakMap,rE=null,rw=t=>{if(rE&&(function(t){let e=[],n=t.parentNode;for(;n;)e.push(n),n=n.parentNode;return e})(rE).includes(t)){let e=rx.get(t);e?e.includes(rE)||e.push(rE):rx.set(t,[rE])}},rS=t=>{let e=rx.get(t);e&&e.forEach(t=>t.handleRadius())};class rM extends rc{constructor(t){super(t)}isImage(){let{src:t}=this.attributes;return!!t}getIconStyle(t=this.attributes){let{width:e=0,height:n=0}=t,r=this.getGraphicStyle(t);return this.isImage()?Object.assign({x:-e/2,y:-n/2},r):Object.assign({textBaseline:"middle",textAlign:"center"},r)}render(t=this.attributes,e=this){this.upsert("icon",this.isImage()?rb:F.xv,this.getIconStyle(t),e)}}class rk extends rc{get context(){return this.config.context}get parsedAttributes(){return this.attributes}onframe(){}animate(t,e){let n=super.animate(t,e);return n&&(n.onframe=()=>this.onframe(),n.finished.then(()=>this.onframe())),n}}var rO=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)0>e.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class rC extends rk{constructor(t){super(n8({style:rC.defaultStyleProps},t)),this.type="node"}getSize(t=this.attributes){let{size:e}=t;return n6(e)}getKeyStyle(t){return Object.assign(n3(this.getGraphicStyle(t),["label","halo","icon","badge","port"]))}getLabelStyle(t){if(!1===t.label||!t.labelText)return!1;let e=n1(this.getGraphicStyle(t),"label"),{placement:n,maxWidth:r,offsetX:i,offsetY:o}=e,a=rO(e,["placement","maxWidth","offsetX","offsetY"]),s=this.getShape("key").getLocalBounds();return Object.assign(o2(s,n,i,o),{wordWrapWidth:ri(s,r)},a)}getHaloStyle(t){if(!1===t.halo)return!1;let e=this.getKeyStyle(t),{fill:n}=e,r=rO(e,["fill"]),i=n1(this.getGraphicStyle(t),"halo");return Object.assign(Object.assign(Object.assign({},r),{stroke:n}),i)}getIconStyle(t){if(!1===t.icon||!t.iconText&&!t.iconSrc)return!1;let e=n1(this.getGraphicStyle(t),"icon");return Object.assign(function(t,e){let n=n6(t),r={};return e.text&&!e.fontSize&&(r={fontSize:.5*Math.min(...n)}),!e.src||e.width&&e.height||(r={width:.5*n[0],height:.5*n[1]}),r}(t.size,e),e)}getBadgesStyle(t){var e;let n=n2(this.shapeMap,"badge-"),r={};if(Object.keys(n).forEach(t=>{r[t]=!1}),!1===t.badge||!(null===(e=t.badges)||void 0===e?void 0:e.length))return r;let{badges:i=[],badgePalette:o,opacity:a=1}=t,s=rO(t,["badges","badgePalette","opacity"]),l=rn(o),u=n1(this.getGraphicStyle(s),"badge");return i.forEach((t,e)=>{r[e]=Object.assign(Object.assign({backgroundFill:l?l[e%(null==l?void 0:l.length)]:void 0,opacity:a},u),this.getBadgeStyle(t))}),r}getBadgeStyle(t){let e=this.getShape("key"),{placement:n="top",offsetX:r,offsetY:i}=t,o=rO(t,["placement","offsetX","offsetY"]);return Object.assign(Object.assign({},o2(e.getLocalBounds(),n,r,i,!0)),o)}getPortsStyle(t){var e;let n=this.getPorts(),r={};if(Object.keys(n).forEach(t=>{r[t]=!1}),!1===t.port||!(null===(e=t.ports)||void 0===e?void 0:e.length))return r;let i=n1(this.getGraphicStyle(t),"port"),{ports:o=[]}=t;return o.forEach((e,n)=>{let o=e.key||n,a=Object.assign(Object.assign({},i),e);if(oY(a))r[o]=!1;else{let[n,i]=this.getPortXY(t,e);r[o]=Object.assign({transform:[["translate",n,i]]},a)}}),r}getPortXY(t,e){let{placement:n="left"}=e,r=this.getShape("key");return oq(function(t,e){if(!t)return e.getLocalBounds();let n=t.canvas.getLayer(),r=e.cloneNode();nr(r,"hidden"),n.appendChild(r);let i=r.getLocalBounds();return r.destroy(),i}(this.context,r),n)}getPorts(){return n2(this.shapeMap,"port-")}getCenter(){return this.getShape("key").getBounds().center}getIntersectPoint(t,e=!1){return function(t,e,n=!1){return nN(t,nA(e,"center"),[nA(e,"left-top"),nA(e,"right-top"),nA(e,"right-bottom"),nA(e,"left-bottom")],!1,n).point}(t,this.getShape("key").getBounds(),e)}drawHaloShape(t,e){let n=this.getHaloStyle(t);if(!n7(this,"halo",n))return;let r=this.getShape("key");this.upsert("halo",r.constructor,n,e)}drawIconShape(t,e){let n=this.getIconStyle(t);n7(this,"icon",n)&&(this.upsert("icon",rM,n,e),rw(this))}drawBadgeShapes(t,e){let n=this.getBadgesStyle(t);Object.keys(n).forEach(t=>{let r=n[t];n7(this,`badge-${t}`,r)&&this.upsert(`badge-${t}`,rf,r,e)})}drawPortShapes(t,e){let n=this.getPortsStyle(t);Object.keys(n).forEach(t=>{let r=n[t],i=`port-${t}`;n7(this,i,r)&&this.upsert(i,F.Cd,r,e)})}drawLabelShape(t,e){let n=this.getLabelStyle(t);n7(this,"label",n)&&this.upsert("label",rp,n,e)}_drawKeyShape(t,e){return this.drawKeyShape(t,e)}render(t=this.parsedAttributes,e=this){this._drawKeyShape(t,e),this.getShape("key")&&(this.drawHaloShape(t,e),this.drawIconShape(t,e),this.drawBadgeShapes(t,e),this.drawLabelShape(t,e),this.drawPortShapes(t,e))}update(t){super.update(t),t&&("x"in t||"y"in t||"z"in t)&&rS(this)}onframe(){this.drawBadgeShapes(this.parsedAttributes,this),this.drawLabelShape(this.parsedAttributes,this)}}rC.defaultStyleProps={x:0,y:0,size:32,droppable:!0,draggable:!0,port:!0,ports:[],portZIndex:2,portLinkToCenter:!1,badge:!0,badges:[],badgeZIndex:3,halo:!1,haloDroppable:!1,haloLineDash:0,haloLineWidth:12,haloStrokeOpacity:.25,haloPointerEvents:"none",haloZIndex:-1,icon:!0,iconZIndex:1,label:!0,labelIsBillboard:!0,labelMaxWidth:"200%",labelPlacement:"bottom",labelWordWrap:!1,labelZIndex:0};class rA extends rC{constructor(t){super(n8({style:rA.defaultStyleProps},t))}drawKeyShape(t,e){return this.upsert("key",F.Cd,this.getKeyStyle(t),e)}getKeyStyle(t){return Object.assign(Object.assign({},super.getKeyStyle(t)),{r:Math.min(...this.getSize(t))/2})}getIconStyle(t){let e=super.getIconStyle(t),{r:n}=this.getShape("key").attributes,r=2*n*.8;return!!e&&Object.assign({width:r,height:r},e)}getIntersectPoint(t,e=!1){return nI(t,this.getShape("key").getBounds(),e)}}rA.defaultStyleProps={size:32};class rT extends rC{constructor(t){super(t)}get parsedAttributes(){return this.attributes}drawKeyShape(t,e){return this.upsert("key",F.mg,this.getKeyStyle(t),e)}getKeyStyle(t){return Object.assign(Object.assign({},super.getKeyStyle(t)),{points:this.getPoints(t)})}getIntersectPoint(t,e=!1){var n,r;let{points:i}=this.getShape("key").attributes;return nN(t,[+((null===(n=this.attributes)||void 0===n?void 0:n.x)||0),+((null===(r=this.attributes)||void 0===r?void 0:r.y)||0)],i,!0,e).point}}class rP extends rT{constructor(t){super(t)}getPoints(t){let[e,n]=this.getSize(t);return[[0,-n/2],[e/2,0],[0,n/2],[-e/2,0]]}}var rL=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)0>e.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class rR extends rA{constructor(t){super(n8({style:rR.defaultStyleProps},t))}parseOuterR(){let{size:t}=this.parsedAttributes;return Math.min(...n6(t))/2}parseInnerR(){let{innerR:t}=this.parsedAttributes;return(0,G.Z)(t)?parseInt(t)/100*this.parseOuterR():t}drawDonutShape(t,e){let{donuts:n}=t;if(!(null==n?void 0:n.length))return;let r=n.map(t=>(0,$.Z)(t)?{value:t}:t),i=n1(this.getGraphicStyle(t),"donut"),o=rn(t.donutPalette);if(!o)return;let a=r.reduce((t,e)=>{var n;return t+(null!==(n=e.value)&&void 0!==n?n:0)},0),s=this.parseOuterR(),l=this.parseInnerR(),u=0;r.forEach((t,n)=>{let{value:c=0,color:h=o[n%o.length]}=t,d=rL(t,["value","color"]),p=(0===a?1/r.length:c/a)*360;this.upsert(`round${n}`,F.y$,Object.assign(Object.assign(Object.assign({},i),{d:rZ(s,l,u,u+p),fill:h}),d),e),u+=p})}render(t,e=this){super.render(t,e),this.drawDonutShape(t,e)}}rR.defaultStyleProps={innerR:"50%",donuts:[],donutPalette:"tableau"};let rD=(t,e,n,r)=>[t+Math.sin(r)*n,e-Math.cos(r)*n],rN=(t,e,n,r)=>r<=0||n<=r?[["M",t-n,e],["A",n,n,0,1,1,t+n,e],["A",n,n,0,1,1,t-n,e],["Z"]]:[["M",t-n,e],["A",n,n,0,1,1,t+n,e],["A",n,n,0,1,1,t-n,e],["Z"],["M",t+r,e],["A",r,r,0,1,0,t-r,e],["A",r,r,0,1,0,t+r,e],["Z"]],rI=(t,e,n,r,i,o)=>{let[a,s]=[i/360*2*Math.PI,o/360*2*Math.PI],l=[rD(t,e,r,a),rD(t,e,n,a),rD(t,e,n,s),rD(t,e,r,s)],u=s-a>Math.PI?1:0;return[["M",l[0][0],l[0][1]],["L",l[1][0],l[1][1]],["A",n,n,0,u,1,l[2][0],l[2][1]],["L",l[3][0],l[3][1]],["A",r,r,0,u,0,l[0][0],l[0][1]],["Z"]]},rZ=(t=0,e=0,n,r)=>{let[i,o]=[0,0];return Math.abs(n-r)%360<1e-6?rN(i,o,t,e):rI(i,o,t,e,n,r)};class rj extends rC{constructor(t){super(n8({style:rj.defaultStyleProps},t))}drawKeyShape(t,e){return this.upsert("key",F.Pj,this.getKeyStyle(t),e)}getKeyStyle(t){let e=super.getKeyStyle(t),[n,r]=this.getSize(t);return Object.assign(Object.assign({},e),{rx:n/2,ry:r/2})}getIconStyle(t){let e=super.getIconStyle(t),{rx:n,ry:r}=this.getShape("key").attributes,i=2*Math.min(+n,+r)*.8;return!!e&&Object.assign({width:i,height:i},e)}getIntersectPoint(t,e=!1){return nI(t,this.getShape("key").getBounds(),e)}}rj.defaultStyleProps={size:[45,35]};class r_ extends rT{constructor(t){super(t)}getOuterR(t){return t.outerR||Math.min(...this.getSize(t))/2}getPoints(t){var e;return[[0,e=this.getOuterR(t)],[e*Math.sqrt(3)/2,e/2],[e*Math.sqrt(3)/2,-e/2],[0,-e],[-e*Math.sqrt(3)/2,-e/2],[-e*Math.sqrt(3)/2,e/2]]}getIconStyle(t){let e=super.getIconStyle(t),n=.8*this.getOuterR(t);return!!e&&Object.assign({width:n,height:n},e)}}var rB=n(96111);function rF(t,e){var n=e.cx,r=e.cy,i=e.r;t.arc(void 0===n?0:n,void 0===r?0:r,i,0,2*Math.PI,!1)}function rz(t,e){var n=e.cx,r=void 0===n?0:n,i=e.cy,o=void 0===i?0:i,a=e.rx,s=e.ry;t.ellipse?t.ellipse(r,o,a,s,0,0,2*Math.PI,!1):(t.save(),t.scale(a>s?1:a/s,a>s?s/a:1),t.arc(r,o,a>s?a:s,0,2*Math.PI))}function rW(t,e){var n,r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.markerStart,l=e.markerEnd,u=e.markerStartOffset,c=e.markerEndOffset,h=0,d=0,p=0,f=0,g=0;s&&(0,F.RV)(s)&&u&&(h=Math.cos(g=Math.atan2(a-i,o-r))*(u||0),d=Math.sin(g)*(u||0)),l&&(0,F.RV)(l)&&c&&(p=Math.cos(g=Math.atan2(i-a,r-o))*(c||0),f=Math.sin(g)*(c||0)),t.moveTo(r+h,i+d),t.lineTo(o+p,a+f)}function rV(t,e){var n,r=e.markerStart,i=e.markerEnd,o=e.markerStartOffset,a=e.markerEndOffset,s=e.d,l=s.absolutePath,u=s.segments,c=0,h=0,d=0,p=0,f=0;if(r&&(0,F.RV)(r)&&o){var g=r.parentNode.getStartTangent(),m=(0,J.Z)(g,2),v=m[0],y=m[1];n=v[0]-y[0],c=Math.cos(f=Math.atan2(v[1]-y[1],n))*(o||0),h=Math.sin(f)*(o||0)}if(i&&(0,F.RV)(i)&&a){var b=i.parentNode.getEndTangent(),x=(0,J.Z)(b,2),E=x[0],w=x[1];n=E[0]-w[0],d=Math.cos(f=Math.atan2(E[1]-w[1],n))*(a||0),p=Math.sin(f)*(a||0)}for(var S=0;S<l.length;S++){var M=l[S],k=M[0],O=l[S+1],C=0===S&&(0!==c||0!==h),A=(S===l.length-1||O&&("M"===O[0]||"Z"===O[0]))&&0!==d&&0!==p,T=C?[c,h]:[0,0],P=(0,J.Z)(T,2),L=P[0],R=P[1],D=A?[d,p]:[0,0],N=(0,J.Z)(D,2),I=N[0],Z=N[1];switch(k){case"M":t.moveTo(M[1]+L,M[2]+R);break;case"L":t.lineTo(M[1]+I,M[2]+Z);break;case"Q":t.quadraticCurveTo(M[1],M[2],M[3]+I,M[4]+Z);break;case"C":t.bezierCurveTo(M[1],M[2],M[3],M[4],M[5]+I,M[6]+Z);break;case"A":var j=u[S].arcParams,_=j.cx,B=j.cy,z=j.rx,W=j.ry,V=j.startAngle,H=j.endAngle,G=j.xRotation,$=j.sweepFlag;if(t.ellipse)t.ellipse(_,B,z,W,G,V,H,!!(1-$));else{var U=z>W?z:W,q=z>W?1:z/W,K=z>W?W/z:1;t.translate(_,B),t.rotate(G),t.scale(q,K),t.arc(0,0,U,V,H,!!(1-$)),t.scale(1/q,1/K),t.rotate(-G),t.translate(-_,-B)}A&&t.lineTo(M[6]+d,M[7]+p);break;case"Z":t.closePath()}}}function rH(t,e){var n,r=e.markerStart,i=e.markerEnd,o=e.markerStartOffset,a=e.markerEndOffset,s=e.points.points,l=s.length,u=s[0][0],c=s[0][1],h=s[l-1][0],d=s[l-1][1],p=0,f=0,g=0,m=0,v=0;r&&(0,F.RV)(r)&&o&&(n=s[1][0]-s[0][0],p=Math.cos(v=Math.atan2(s[1][1]-s[0][1],n))*(o||0),f=Math.sin(v)*(o||0)),i&&(0,F.RV)(i)&&a&&(n=s[l-1][0]-s[0][0],g=Math.cos(v=Math.atan2(s[l-1][1]-s[0][1],n))*(a||0),m=Math.sin(v)*(a||0)),t.moveTo(u+(p||g),c+(f||m));for(var y=1;y<l-1;y++){var b=s[y];t.lineTo(b[0],b[1])}t.lineTo(h,d)}function rG(t,e){var n,r=e.markerStart,i=e.markerEnd,o=e.markerStartOffset,a=e.markerEndOffset,s=e.points.points,l=s.length,u=s[0][0],c=s[0][1],h=s[l-1][0],d=s[l-1][1],p=0,f=0,g=0,m=0,v=0;r&&(0,F.RV)(r)&&o&&(n=s[1][0]-s[0][0],p=Math.cos(v=Math.atan2(s[1][1]-s[0][1],n))*(o||0),f=Math.sin(v)*(o||0)),i&&(0,F.RV)(i)&&a&&(n=s[l-2][0]-s[l-1][0],g=Math.cos(v=Math.atan2(s[l-2][1]-s[l-1][1],n))*(a||0),m=Math.sin(v)*(a||0)),t.moveTo(u+p,c+f);for(var y=1;y<l-1;y++){var b=s[y];t.lineTo(b[0],b[1])}t.lineTo(h+g,d+m)}function r$(t,e){var n=e.x,r=void 0===n?0:n,i=e.y,o=void 0===i?0:i,a=e.radius,s=e.width,l=e.height;if(a&&a.some(function(t){return 0!==t})){var u=s>0?1:-1,c=l>0?1:-1,h=u+c===0,d=a.map(function(t){return(0,Q.Z)(t,0,Math.min(Math.abs(s)/2,Math.abs(l)/2))}),p=(0,J.Z)(d,4),f=p[0],g=p[1],m=p[2],v=p[3];t.moveTo(u*f+r,o),t.lineTo(s-u*g+r,o),0!==g&&t.arc(s-u*g+r,c*g+o,g,-c*Math.PI/2,u>0?0:Math.PI,h),t.lineTo(s+r,l-c*m+o),0!==m&&t.arc(s-u*m+r,l-c*m+o,m,u>0?0:Math.PI,c>0?Math.PI/2:1.5*Math.PI,h),t.lineTo(u*v+r,l+o),0!==v&&t.arc(u*v+r,l-c*v+o,v,c>0?Math.PI/2:-Math.PI/2,u>0?Math.PI:0,h),t.lineTo(r,c*f+o),0!==f&&t.arc(u*f+r,c*f+o,f,u>0?Math.PI:0,c>0?1.5*Math.PI:Math.PI/2,h)}else t.rect(r,o,s,l)}var rU=function(t){function e(){var t;(0,z.Z)(this,e);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=(0,V.Z)(this,e,[].concat(r))).name="canvas-path-generator",t}return(0,H.Z)(e,t),(0,W.Z)(e,[{key:"init",value:function(){var t,e=(t={},(0,rB.Z)((0,rB.Z)((0,rB.Z)((0,rB.Z)((0,rB.Z)((0,rB.Z)((0,rB.Z)((0,rB.Z)((0,rB.Z)((0,rB.Z)(t,F.bn.CIRCLE,rF),F.bn.ELLIPSE,rz),F.bn.RECT,r$),F.bn.LINE,rW),F.bn.POLYLINE,rG),F.bn.POLYGON,rH),F.bn.PATH,rV),F.bn.TEXT,void 0),F.bn.GROUP,void 0),F.bn.IMAGE,void 0),(0,rB.Z)((0,rB.Z)((0,rB.Z)(t,F.bn.HTML,void 0),F.bn.MESH,void 0),F.bn.FRAGMENT,void 0));this.context.pathGeneratorFactory=e}},{key:"destroy",value:function(){delete this.context.pathGeneratorFactory}}])}(F.F6),rq=n(8097),rK=n(25686),rY=n(74729),rX=n(31577),rJ=n(50963),rQ=n(15287),r0=K.Ue(),r1=K.Ue(),r2=K.Ue(),r3=q.create(),r6=function(){function t(){var e=this;(0,z.Z)(this,t),this.isHit=function(t,n,r,i){var o=e.context.pointInPathPickerFactory[t.nodeName];if(o){var a=q.invert(r3,r),s=K.fF(r1,K.t8(r2,n[0],n[1],0),a);if(o(t,new F.E9(s[0],s[1]),i,e.isPointInPath,e.context,e.runtime))return!0}return!1},this.isPointInPath=function(t,n){var r=e.runtime.offscreenCanvasCreator.getOrCreateContext(e.context.config.offscreenCanvas),i=e.context.pathGeneratorFactory[t.nodeName];return i&&(r.beginPath(),i(r,t.parsedStyle),r.closePath()),r.isPointInPath(n.x,n.y)}}return(0,W.Z)(t,[{key:"apply",value:function(e,n){var r,i,o=this,a=e.renderingService,s=e.renderingContext;this.context=e,this.runtime=n;var l=null===(i=s.root)||void 0===i?void 0:i.ownerDocument;a.hooks.pick.tapPromise(t.tag,(r=(0,rY.Z)((0,rK.Z)().mark(function t(e){return(0,rK.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o.pick(l,e));case 1:case"end":return t.stop()}},t)})),function(t){return r.apply(this,arguments)})),a.hooks.pickSync.tap(t.tag,function(t){return o.pick(l,t)})}},{key:"pick",value:function(t,e){var n,r=e.topmost,i=e.position,o=i.x,a=i.y,s=K.t8(r0,o,a,0),l=t.elementsFromBBox(s[0],s[1],s[0],s[1]),u=[],c=(0,rq.Z)(l);try{for(c.s();!(n=c.n()).done;){var h=n.value,d=h.getWorldTransform();if(this.isHit(h,s,d,!1)){var p=(0,F.Oi)(h);if(p){var f=p.parsedStyle.clipPath;if(this.isHit(f,s,f.getWorldTransform(),!0)){if(r)return e.picked=[h],e;u.push(h)}}else{if(r)return e.picked=[h],e;u.push(h)}}}}catch(t){c.e(t)}finally{c.f()}return e.picked=u,e}}])}();function r5(t,e,n){var r=t.parsedStyle,i=r.cx,o=r.cy,a=r.r,s=r.fill,l=r.stroke,u=r.lineWidth,c=r.increasedLineWidthForHitTesting,h=r.pointerEvents,d=((void 0===u?1:u)+(void 0===c?0:c))/2,p=(0,rX.TE)(void 0===i?0:i,void 0===o?0:o,e.x,e.y),f=(0,F.L1)(void 0===h?"auto":h,s,l),g=(0,J.Z)(f,2),m=g[0],v=g[1];return m&&v||n?p<=a+d:m?p<=a:!!v&&p>=a-d&&p<=a+d}function r4(t,e,n){var r,i,o,a,s,l,u=t.parsedStyle,c=u.cx,h=void 0===c?0:c,d=u.cy,p=void 0===d?0:d,f=u.rx,g=u.ry,m=u.fill,v=u.stroke,y=u.lineWidth,b=u.increasedLineWidthForHitTesting,x=u.pointerEvents,E=e.x,w=e.y,S=(0,F.L1)(void 0===x?"auto":x,m,v),M=(0,J.Z)(S,2),k=M[0],O=M[1],C=((void 0===y?1:y)+(void 0===b?0:b))/2,A=(E-h)*(E-h),T=(w-p)*(w-p);return k&&O||n?1>=A/((r=f+C)*r)+T/((i=g+C)*i):k?1>=A/(f*f)+T/(g*g):!!O&&A/((o=f-C)*o)+T/((a=g-C)*a)>=1&&1>=A/((s=f+C)*s)+T/((l=g+C)*l)}function r8(t,e,n,r,i,o){return i>=t&&i<=t+n&&o>=e&&o<=e+r}function r9(t,e,n,r,i,o,a,s){var l=(Math.atan2(s-e,a-t)+2*Math.PI)%(2*Math.PI),u={x:t+n*Math.cos(l),y:e+n*Math.sin(l)};return(0,rX.TE)(u.x,u.y,a,s)<=o/2}function r7(t,e,n,r,i,o,a){var s=Math.min(t,n),l=Math.max(t,n),u=Math.min(e,r),c=Math.max(e,r),h=i/2;return o>=s-h&&o<=l+h&&a>=u-h&&a<=c+h&&(0,rX._x)(t,e,n,r,o,a)<=i/2}function it(t,e,n,r,i){var o=t.length;if(o<2)return!1;for(var a=0;a<o-1;a++)if(r7(t[a][0],t[a][1],t[a+1][0],t[a+1][1],e,n,r))return!0;if(i){var s=t[0],l=t[o-1];if(r7(s[0],s[1],l[0],l[1],e,n,r))return!0}return!1}function ie(t){return 1e-6>Math.abs(t)?0:t<0?-1:1}function ir(t,e,n){var r=!1,i=t.length;if(i<=2)return!1;for(var o=0;o<i;o++){var a,s=t[o],l=t[(o+1)%i];if(((a=[e,n])[0]-s[0])*(l[1]-s[1])==(l[0]-s[0])*(a[1]-s[1])&&Math.min(s[0],l[0])<=a[0]&&a[0]<=Math.max(s[0],l[0])&&Math.min(s[1],l[1])<=a[1]&&a[1]<=Math.max(s[1],l[1]))return!0;ie(s[1]-n)>0!=ie(l[1]-n)>0&&0>ie(e-(n-s[1])*(s[0]-l[0])/(s[1]-l[1])-s[0])&&(r=!r)}return r}function ii(t,e,n){for(var r=!1,i=0;i<t.length&&!(r=ir(t[i],e,n));i++);return r}function io(t,e,n){var r=t.parsedStyle,i=r.x1,o=r.y1,a=r.x2,s=r.y2,l=r.lineWidth,u=void 0===l?1:l,c=r.increasedLineWidthForHitTesting,h=r.pointerEvents,d=r.fill,p=r.stroke,f=(0,F.L1)(void 0===h?"auto":h,d,p);return(!!(0,J.Z)(f,2)[1]||!!n)&&!!u&&r7(i,o,a,s,u+(void 0===c?0:c),e.x,e.y)}function ia(t,e,n,r,i,o){var a=t.parsedStyle,s=a.lineWidth,l=a.increasedLineWidthForHitTesting,u=a.stroke,c=a.fill,h=a.d,d=a.pointerEvents,p=h.segments,f=h.hasArc,g=h.polylines,m=h.polygons,v=(0,F.L1)(void 0===d?"auto":d,(null==m?void 0:m.length)&&c,u),y=(0,J.Z)(v,2),b=y[0],x=y[1],E=(0,F.gz)(t),w=!1;return b||n?w=f?r(t,e):ii(m,e.x,e.y)||ii(g,e.x,e.y):((x||n)&&(w=function(t,e,n,r,i){for(var o=!1,a=e/2,s=0;s<t.length;s++){var l=t[s],u=l.currentPoint,c=l.params,h=l.prePoint,d=l.box;if(!d||r8(d.x-a,d.y-a,d.width+e,d.height+e,n,r))switch(l.command){case"L":case"Z":if(o=r7(h[0],h[1],u[0],u[1],e,n,r))return!0;break;case"Q":if(o=(0,rX.Y1)(h[0],h[1],c[1],c[2],c[3],c[4],n,r)<=e/2)return!0;break;case"C":if(o=(0,rX.ph)(h[0],h[1],c[1],c[2],c[3],c[4],c[5],c[6],n,r,i)<=e/2)return!0;break;case"A":l.cubicParams||(l.cubicParams=(0,rJ.W)(h[0],h[1],c[1],c[2],c[3],c[4],c[5],c[6],c[7],void 0));for(var p=l.cubicParams,f=h,g=0;g<p.length;g+=6){var m=(0,rX.ph)(f[0],f[1],p[g],p[g+1],p[g+2],p[g+3],p[g+4],p[g+5],n,r,i);if(f=[p[g+4],p[g+5]],o=m<=e/2)return!0}}}return o}(p,(void 0===s?1:s)+(void 0===l?0:l),e.x,e.y,E)),w)}function is(t,e,n){var r=t.parsedStyle,i=r.stroke,o=r.fill,a=r.lineWidth,s=r.increasedLineWidthForHitTesting,l=r.points,u=r.pointerEvents,c=(0,F.L1)(void 0===u?"auto":u,o,i),h=(0,J.Z)(c,2),d=h[0],p=h[1],f=!1;return(p||n)&&(f=it(l.points,(void 0===a?1:a)+(void 0===s?0:s),e.x,e.y,!0)),!f&&(d||n)&&(f=ir(l.points,e.x,e.y)),f}function il(t,e,n){var r=t.parsedStyle,i=r.lineWidth,o=void 0===i?1:i,a=r.increasedLineWidthForHitTesting,s=r.points,l=r.pointerEvents,u=r.fill,c=r.stroke,h=(0,F.L1)(void 0===l?"auto":l,u,c);return(!!(0,J.Z)(h,2)[1]||!!n)&&!!o&&it(s.points,o+(void 0===a?0:a),e.x,e.y,!1)}function iu(t,e,n,r,i){var o,a,s,l=t.parsedStyle,u=l.radius,c=l.fill,h=l.stroke,d=l.lineWidth,p=l.increasedLineWidthForHitTesting,f=l.x,g=void 0===f?0:f,m=l.y,v=void 0===m?0:m,y=l.width,b=l.height,x=l.pointerEvents,E=(0,F.L1)(void 0===x?"auto":x,c,h),w=(0,J.Z)(E,2),S=w[0],M=w[1],k=u&&u.some(function(t){return 0!==t}),O=(void 0===d?1:d)+(void 0===p?0:p);if(k){var C,A,T,P,L,R,D,N,I=!1;return(M||n)&&(C=u.map(function(t){return(0,Q.Z)(t,0,Math.min(Math.abs(y)/2,Math.abs(b)/2))}),A=e.x,T=e.y,L=(P=(0,J.Z)(C,4))[0],R=P[1],D=P[2],N=P[3],I=r7(g+L,v,g+y-R,v,O,A,T)||r7(g+y,v+R,g+y,v+b-D,O,A,T)||r7(g+y-D,v+b,g+N,v+b,O,A,T)||r7(g,v+b-N,g,v+L,O,A,T)||r9(g+y-R,v+R,R,1.5*Math.PI,2*Math.PI,O,A,T)||r9(g+y-D,v+b-D,D,0,.5*Math.PI,O,A,T)||r9(g+N,v+b-N,N,.5*Math.PI,Math.PI,O,A,T)||r9(g+L,v+L,L,Math.PI,1.5*Math.PI,O,A,T)),!I&&(S||n)&&(I=r(t,e)),I}var Z=O/2;return S&&M||n?r8(g-Z,v-Z,y+Z,b+Z,e.x,e.y):S?r8(g,v,y,b,e.x,e.y):!!M&&(o=e.x,a=e.y,r8(g-(s=O/2),v-s,y,O,o,a)||r8(g+y-s,v-s,O,b,o,a)||r8(g+s,v+b-s,y,O,o,a)||r8(g-s,v+s,O,b,o,a))}function ic(t,e,n,r,i,o){var a=t.parsedStyle,s=a.pointerEvents,l=a.x,u=a.y,c=a.width,h=a.height;if("non-transparent-pixel"===(void 0===s?"auto":s)){var d=i.config.offscreenCanvas,p=o.offscreenCanvasCreator.getOrCreateCanvas(d),f=o.offscreenCanvasCreator.getOrCreateContext(d,{willReadFrequently:!0});return p.width=c,p.height=h,i.defaultStyleRendererFactory[F.bn.IMAGE].render(f,(0,rQ.Z)((0,rQ.Z)({},t.parsedStyle),{},{x:0,y:0}),t,void 0,void 0,void 0),f.getImageData(e.x-(void 0===l?0:l),e.y-(void 0===u?0:u),1,1).data.every(function(t){return 0!==t})}return!0}function ih(t,e,n,r){var i=t.getGeometryBounds();return e.x>=i.min[0]&&e.y>=i.min[1]&&e.x<=i.max[0]&&e.y<=i.max[1]}r6.tag="CanvasPicker";var id=function(t){function e(){var t;(0,z.Z)(this,e);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=(0,V.Z)(this,e,[].concat(r))).name="canvas-picker",t}return(0,H.Z)(e,t),(0,W.Z)(e,[{key:"init",value:function(){var t,e=(t={},(0,rB.Z)((0,rB.Z)((0,rB.Z)((0,rB.Z)((0,rB.Z)((0,rB.Z)((0,rB.Z)((0,rB.Z)((0,rB.Z)((0,rB.Z)(t,F.bn.CIRCLE,r5),F.bn.ELLIPSE,r4),F.bn.RECT,iu),F.bn.LINE,io),F.bn.POLYLINE,il),F.bn.POLYGON,is),F.bn.PATH,ia),F.bn.TEXT,ih),F.bn.GROUP,null),F.bn.IMAGE,ic),(0,rB.Z)((0,rB.Z)(t,F.bn.HTML,null),F.bn.MESH,null));this.context.pointInPathPickerFactory=e,this.addRenderingPlugin(new r6)}},{key:"destroy",value:function(){delete this.context.pointInPathPickerFactory,this.removeAllRenderingPlugins()}}])}(F.F6);function ip(t,e){if(!({}).hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var ig=0,im=(0,W.Z)(function t(){(0,z.Z)(this,t),this.cacheStore=new Map},[{key:"onRefAdded",value:function(t){}},{key:"has",value:function(t){return this.cacheStore.has(t)}},{key:"put",value:function(t,e,n){return!this.cacheStore.has(t)&&(this.cacheStore.set(t,{value:e,counter:new Set([n])}),this.onRefAdded(n),!0)}},{key:"get",value:function(t,e){var n=this.cacheStore.get(t);return n?(n.counter.has(e)||(n.counter.add(e),this.onRefAdded(e)),n.value):null}},{key:"update",value:function(t,e,n){var r=this.cacheStore.get(t);return!!r&&(r.value=(0,rQ.Z)((0,rQ.Z)({},r.value),e),r.counter.has(n)||(r.counter.add(n),this.onRefAdded(n)),!0)}},{key:"release",value:function(t,e){var n=this.cacheStore.get(t);return!!n&&(n.counter.delete(e),n.counter.size<=0&&this.cacheStore.delete(t),!0)}},{key:"releaseRef",value:function(t){var e=this;Array.from(this.cacheStore.keys()).forEach(function(n){e.release(n,t)})}},{key:"getSize",value:function(){return this.cacheStore.size}},{key:"clear",value:function(){this.cacheStore.clear()}}]),iv=[],iy=[],ib=function(){function t(){(0,z.Z)(this,t)}return(0,W.Z)(t,null,[{key:"stop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.api;t.rafId&&(e.cancelAnimationFrame(t.rafId),t.rafId=null)}},{key:"executeTask",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.api;iv.length<=0&&iy.length<=0||(iy.forEach(function(t){return t()}),iy=iv.splice(0,t.TASK_NUM_PER_FRAME),t.rafId=e.requestAnimationFrame(function(){t.executeTask(e)}))}},{key:"sliceImage",value:function(e,n,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:t.api,s=e.naturalWidth||e.width,l=e.naturalHeight||e.height,u=n-o,c=r-o,h=Math.ceil(s/u),d=Math.ceil(l/c),p={tileSize:[n,r],gridSize:[d,h],tiles:Array(d).fill(null).map(function(){return Array(h).fill(null)})},f=function(t){for(var o=function(o){iv.push(function(){var h=o*u,d=t*c,f=[Math.min(n,s-h),Math.min(r,l-d)],g=f[0],m=f[1],v=a.createCanvas();v.width=n,v.height=r,v.getContext("2d").drawImage(e,h,d,g,m,0,0,g,m),p.tiles[t][o]={x:h,y:d,tileX:o,tileY:t,data:v},i()})},d=0;d<h;d++)o(d)},g=0;g<d;g++)f(g);return t.stop(),t.executeTask(),p}}])}();ib.TASK_NUM_PER_FRAME=10;var ix=new im;ix.onRefAdded=function(t){var e=this;t.addEventListener(F.Dk.DESTROY,function(){e.releaseRef(t)},{once:!0})};var iE=(0,W.Z)(function t(e,n){(0,z.Z)(this,t),this.gradientCache={},this.patternCache={},this.context=e,this.runtime=n},[{key:"getImageSync",value:function(t,e,n){var r=(0,G.Z)(t)?t:t.src;if(ix.has(r)){var i=ix.get(r,e);if(i.img.complete)return null==n||n(i),i}return this.getOrCreateImage(t,e).then(function(t){null==n||n(t)}).catch(function(){}),null}},{key:"getOrCreateImage",value:function(t,e){var n=(0,G.Z)(t)?t:t.src;if(!(0,G.Z)(t)&&!ix.has(n)){var r={img:t,size:[t.naturalWidth||t.width,t.naturalHeight||t.height],tileSize:iw(t)};ix.put(n,r,e)}if(ix.has(n)){var i=ix.get(n,e);return i.img.complete?Promise.resolve(i):new Promise(function(t,e){i.img.addEventListener("load",function(){i.size=[i.img.naturalWidth||i.img.width,i.img.naturalHeight||i.img.height],i.tileSize=iw(i.img),t(i)}),i.img.addEventListener("error",function(t){e(t)})})}var o=this.context.config.createImage;return new Promise(function(t,r){var i;if(o?i=o(n):F.jU&&(i=new window.Image),i){var a={img:i,size:[0,0],tileSize:iw(i)};ix.put(n,a,e),i.onload=function(){a.size=[i.naturalWidth||i.width,i.naturalHeight||i.height],a.tileSize=iw(a.img),t(a)},i.onerror=function(t){r(t)},i.crossOrigin="Anonymous",i.src=n}})}},{key:"createDownSampledImage",value:(g=(0,rY.Z)((0,rK.Z)().mark(function t(e,n){var r,i,o,a,s,l,u,c,h,d,p,f,g,m;return(0,rK.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getOrCreateImage(e,n);case 2:if(!(void 0!==(r=t.sent).downSamplingRate)){t.next=5;break}return t.abrupt("return",r);case 5:if(s=void 0===(a=(o="boolean"==typeof(i=this.context.config.enableLargeImageOptimization)?{}:i).maxDownSampledImageSize)?2048:a,u=void 0===(l=o.downSamplingRateThreshold)?.5:l,c=this.runtime.globalThis.createImageBitmap,d=(h=(0,J.Z)(r.size,2))[0],p=h[1],f=r.img,g=Math.min((s+s)/(d+p),Math.max(.01,Math.min(u,.5))),m=(0,rQ.Z)((0,rQ.Z)({},r),{},{downSamplingRate:g}),ix.update(r.img.src,m,n),!c){t.next=25;break}return t.prev=14,t.next=17,c(r.img,{resizeWidth:d*g,resizeHeight:p*g});case 17:f=t.sent,t.next=23;break;case 20:t.prev=20,t.t0=t.catch(14),g=1;case 23:t.next=26;break;case 25:g=1;case 26:return m=(0,rQ.Z)((0,rQ.Z)({},this.getImageSync(e,n)),{},{downSampled:f,downSamplingRate:g}),ix.update(r.img.src,m,n),t.abrupt("return",m);case 29:case"end":return t.stop()}},t,this,[[14,20]])})),function(t,e){return g.apply(this,arguments)})},{key:"createImageTiles",value:(m=(0,rY.Z)((0,rK.Z)().mark(function t(e,n,r,i){var o,a,s,l,u;return(0,rK.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getOrCreateImage(e,i);case 2:return o=t.sent,s=(a=i.ownerDocument.defaultView).requestAnimationFrame,l=a.cancelAnimationFrame,ib.api={requestAnimationFrame:s,cancelAnimationFrame:l,createCanvas:function(){return F.jB.createCanvas()}},u=(0,rQ.Z)((0,rQ.Z)({},o),ib.sliceImage(o.img,o.tileSize[0],o.tileSize[0],r)),ix.update(o.img.src,u,i),t.abrupt("return",u);case 8:case"end":return t.stop()}},t,this)})),function(t,e,n,r){return m.apply(this,arguments)})},{key:"releaseImage",value:function(t,e){ix.release((0,G.Z)(t)?t:t.src,e)}},{key:"releaseImageRef",value:function(t){ix.releaseRef(t)}},{key:"getOrCreatePatternSync",value:function(t,e,n,r,i,o,a){var s,l,u=this.generatePatternKey(e);if(u&&this.patternCache[u])return this.patternCache[u];var c=e.image,h=e.repetition,d=e.transform,p=!1;if((0,G.Z)(c)){var f=this.getImageSync(c,t,a);s=null==f?void 0:f.img}else r?(s=r,p=!0):s=c;var g=s&&n.createPattern(s,h);return g&&(l=d?(0,F.G0)((0,F.G$)(d),new F.s$({})):q.identity(q.create()),p&&q.scale(l,l,[1/i,1/i,1]),g.setTransform({a:l[0],b:l[1],c:l[4],d:l[5],e:l[12]+o[0],f:l[13]+o[1]})),u&&g&&(this.patternCache[u]=g),g}},{key:"getOrCreateGradient",value:function(t,e){var n=this.generateGradientKey(t),r=t.type,i=t.steps,o=t.min,a=t.width,s=t.height,l=t.angle,u=t.cx,c=t.cy,h=t.size;if(this.gradientCache[n])return this.gradientCache[n];var d=null;if(r===F.GL.LinearGradient){var p=(0,F.Rx)(o,a,s,l),f=p.x1,g=p.y1,m=p.x2,v=p.y2;d=e.createLinearGradient(f,g,m,v)}else if(r===F.GL.RadialGradient){var y=(0,F.o6)(o,a,s,u,c,h),b=y.x,x=y.y,E=y.r;d=e.createRadialGradient(b,x,0,b,x,E)}return d&&(i.forEach(function(t){var e,n=t.offset,r=t.color;n.unit===F.Cm.kPercentage&&(null===(e=d)||void 0===e||e.addColorStop(n.value/100,r.toString()))}),this.gradientCache[n]=d),this.gradientCache[n]}},{key:"generateGradientKey",value:function(t){var e=t.type,n=t.min,r=t.width,i=t.height,o=t.steps,a=t.angle,s=t.cx,l=t.cy,u=t.size;return"gradient-".concat(e,"-").concat((null==a?void 0:a.toString())||0,"-").concat((null==s?void 0:s.toString())||0,"-").concat((null==l?void 0:l.toString())||0,"-").concat((null==u?void 0:u.toString())||0,"-").concat(n[0],"-").concat(n[1],"-").concat(r,"-").concat(i,"-").concat(o.map(function(t){var e=t.offset,n=t.color;return"".concat(e).concat(n)}).join("-"))}},{key:"generatePatternKey",value:function(t){var e=t.image,n=t.repetition;return(0,G.Z)(e)?"pattern-".concat(e,"-").concat(n):"rect"===e.nodeName?"pattern-".concat(e.entity,"-").concat(n):void 0}}]);function iw(t){if(!t.complete)return[0,0];var e=t.naturalWidth||t.width,n=t.naturalHeight||t.height,r=256;return[256,512].forEach(function(t){Math.ceil(n/t)*Math.ceil(e/t)<1e3&&(r=t)}),[r,r]}iE.isSupportTile=!!F.jB.createCanvas();var iS=function(){function t(){(0,z.Z)(this,t)}return(0,W.Z)(t,[{key:"apply",value:function(e){var n=e.renderingService,r=e.renderingContext,i=e.imagePool,o=r.root.ownerDocument.defaultView,a=function(t,e,n){var r=t.parsedStyle,i=r.width,o=r.height;i&&!o?t.setAttribute("height",n/e*i):!i&&o&&t.setAttribute("width",e/n*o)},s=function(t){var e=t.target,r=e.nodeName,o=e.attributes;if(r===F.bn.IMAGE){var s=o.src,l=o.keepAspectRatio;i.getImageSync(s,e,function(t){var r=t.img,i=r.width,o=r.height;l&&a(e,i,o),e.renderable.dirty=!0,n.dirtify()})}},l=function(t){var e=t.target,r=t.attrName,o=t.prevValue,s=t.newValue;e.nodeName===F.bn.IMAGE&&"src"===r&&(o!==s&&i.releaseImage(o,e),(0,G.Z)(s)&&i.getOrCreateImage(s,e).then(function(t){var r=t.img,i=r.width,o=r.height;e.attributes.keepAspectRatio&&a(e,i,o),e.renderable.dirty=!0,n.dirtify()}).catch(function(){}))};n.hooks.init.tap(t.tag,function(){o.addEventListener(F.Dk.MOUNTED,s),o.addEventListener(F.Dk.ATTR_MODIFIED,l)}),n.hooks.destroy.tap(t.tag,function(){o.removeEventListener(F.Dk.MOUNTED,s),o.removeEventListener(F.Dk.ATTR_MODIFIED,l)})}}])}();iS.tag="LoadImage";var iM=function(t){function e(){var t;(0,z.Z)(this,e);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=(0,V.Z)(this,e,[].concat(r))).name="image-loader",t}return(0,H.Z)(e,t),(0,W.Z)(e,[{key:"init",value:function(t){this.context.imagePool=new iE(this.context,t),this.addRenderingPlugin(new iS)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(F.F6),ik="__private_"+ig+++"_renderState",iO=function(){function t(e){(0,z.Z)(this,t),this.removedRBushNodeAABBs=[],this.renderQueue=[],Object.defineProperty(this,ik,{writable:!0,value:{restoreStack:[],prevObject:null,currentContext:new Map}}),this.clearFullScreenLastFrame=!1,this.clearFullScreen=!1,this.vpMatrix=q.create(),this.dprMatrix=q.create(),this.tmpMat4=q.create(),this.vec3a=K.Ue(),this.vec3b=K.Ue(),this.vec3c=K.Ue(),this.vec3d=K.Ue(),this.canvasRendererPluginOptions=e}return(0,W.Z)(t,[{key:"apply",value:function(e,n){var r=this;this.context=e;var i=this.context,o=i.config,a=i.camera,s=i.renderingService,l=i.renderingContext,u=i.rBushRoot,c=i.pathGeneratorFactory,h=o.renderer.getConfig().enableRenderingOptimization;o.renderer.getConfig().enableDirtyCheck=!1,o.renderer.getConfig().enableDirtyRectangleRendering=!1,this.rBush=u,this.pathGeneratorFactory=c;var d=e.contextService,p=l.root.ownerDocument.defaultView,f=function(t){var e=t.target.rBushNode;e.aabb&&r.removedRBushNodeAABBs.push(e.aabb)},g=function(t){var e=t.target.rBushNode;e.aabb&&r.removedRBushNodeAABBs.push(e.aabb)};s.hooks.init.tap(t.tag,function(){p.addEventListener(F.Dk.UNMOUNTED,f),p.addEventListener(F.Dk.CULLED,g);var t=d.getDPR(),e=o.width,n=o.height,i=d.getContext();r.clearRect(i,0,0,e*t,n*t,o.background)}),s.hooks.destroy.tap(t.tag,function(){p.removeEventListener(F.Dk.UNMOUNTED,f),p.removeEventListener(F.Dk.CULLED,g),r.renderQueue=[],r.removedRBushNodeAABBs=[],ip(r,ik)[ik]={restoreStack:[],prevObject:null,currentContext:null}}),s.hooks.beginFrame.tap(t.tag,function(){var t,e=d.getContext(),n=d.getDPR(),i=o.width,a=o.height,l=r.canvasRendererPluginOptions,u=l.dirtyObjectNumThreshold,c=l.dirtyObjectRatioThreshold,h=s.getStats(),f=h.total,g=h.rendered;r.clearFullScreen=r.clearFullScreenLastFrame||!(null!==(t=p.context.renderingPlugins[1])&&void 0!==t&&t.isFirstTimeRenderingFinished)||s.disableDirtyRectangleRendering()||g>u&&g/f>c,e&&("function"==typeof e.resetTransform?e.resetTransform():e.setTransform(1,0,0,1,0,0),r.clearFullScreen&&r.clearRect(e,0,0,i*n,a*n,o.background))});var m=function(t,e){for(var i=[t];i.length>0;){var o=i.pop();o.isVisible()&&!o.isCulled()&&(h?r.renderDisplayObjectOptimized(o,e,r.context,ip(r,ik)[ik],n):r.renderDisplayObject(o,e,r.context,ip(r,ik)[ik],n));for(var a=o.sortable.sorted||o.childNodes,s=a.length-1;s>=0;s--)i.push(a[s])}};s.hooks.endFrame.tap(t.tag,function(){if(0===l.root.childNodes.length){r.clearFullScreenLastFrame=!0;return}h=o.renderer.getConfig().enableRenderingOptimization,ip(r,ik)[ik]={restoreStack:[],prevObject:null,currentContext:ip(r,ik)[ik].currentContext},ip(r,ik)[ik].currentContext.clear(),r.clearFullScreenLastFrame=!1;var t=d.getContext(),e=d.getDPR();if(q.fromScaling(r.dprMatrix,[e,e,1]),q.multiply(r.vpMatrix,r.dprMatrix,a.getOrthoMatrix()),r.clearFullScreen)h?(t.save(),m(l.root,t),t.restore()):m(l.root,t),r.removedRBushNodeAABBs=[];else{var i=r.safeMergeAABB.apply(r,[r.mergeDirtyAABBs(r.renderQueue)].concat((0,X.Z)(r.removedRBushNodeAABBs.map(function(t){var e=t.minX,n=t.minY,r=t.maxX,i=t.maxY,o=new F.mN;return o.setMinMax([e,n,0],[r,i,0]),o}))));if(r.removedRBushNodeAABBs=[],F.mN.isEmpty(i)){r.renderQueue=[];return}var s=r.convertAABB2Rect(i),u=s.x,c=s.y,f=s.width,g=s.height,v=K.fF(r.vec3a,[u,c,0],r.vpMatrix),y=K.fF(r.vec3b,[u+f,c,0],r.vpMatrix),b=K.fF(r.vec3c,[u,c+g,0],r.vpMatrix),x=K.fF(r.vec3d,[u+f,c+g,0],r.vpMatrix),E=Math.min(v[0],y[0],x[0],b[0]),w=Math.min(v[1],y[1],x[1],b[1]),S=Math.max(v[0],y[0],x[0],b[0]),M=Math.max(v[1],y[1],x[1],b[1]),k=Math.floor(E),O=Math.floor(w),C=Math.ceil(S-E),A=Math.ceil(M-w);t.save(),r.clearRect(t,k,O,C,A,o.background),t.beginPath(),t.rect(k,O,C,A),t.clip(),t.setTransform(r.vpMatrix[0],r.vpMatrix[1],r.vpMatrix[4],r.vpMatrix[5],r.vpMatrix[12],r.vpMatrix[13]),o.renderer.getConfig().enableDirtyRectangleRenderingDebug&&p.dispatchEvent(new F.Aw(F.$6.DIRTY_RECTANGLE,{dirtyRect:{x:k,y:O,width:C,height:A}})),r.searchDirtyObjects(i).sort(function(t,e){return t.sortable.renderOrder-e.sortable.renderOrder}).forEach(function(e){e&&e.isVisible()&&!e.isCulled()&&r.renderDisplayObject(e,t,r.context,ip(r,ik)[ik],n)}),t.restore(),r.renderQueue.forEach(function(t){r.saveDirtyAABB(t)}),r.renderQueue=[]}ip(r,ik)[ik].restoreStack.forEach(function(){t.restore()}),ip(r,ik)[ik].restoreStack=[]}),s.hooks.render.tap(t.tag,function(t){r.clearFullScreen||r.renderQueue.push(t)})}},{key:"clearRect",value:function(t,e,n,r,i,o){t.clearRect(e,n,r,i),o&&(t.fillStyle=o,t.fillRect(e,n,r,i))}},{key:"renderDisplayObjectOptimized",value:function(t,e,n,r,i){var o=t.nodeName,a=!1,s=this.context.styleRendererFactory[o],l=this.pathGeneratorFactory[o],u=t.parsedStyle.clipPath;if(u){r.prevObject&&q.exactEquals(u.getWorldTransform(),r.prevObject.getWorldTransform())||(this.applyWorldTransform(e,u),r.prevObject=null);var c=this.pathGeneratorFactory[u.nodeName];c&&(e.save(),a=!0,e.beginPath(),c(e,u.parsedStyle),e.closePath(),e.clip())}if(s){r.prevObject&&q.exactEquals(t.getWorldTransform(),r.prevObject.getWorldTransform())||this.applyWorldTransform(e,t);var h=!r.prevObject;if(!h){var d=r.prevObject.nodeName;h=o===F.bn.TEXT?d!==F.bn.TEXT:o===F.bn.IMAGE?d!==F.bn.IMAGE:d===F.bn.TEXT||d===F.bn.IMAGE}s.applyStyleToContext(e,t,h,r),r.prevObject=t}l&&(e.beginPath(),l(e,t.parsedStyle),o!==F.bn.LINE&&o!==F.bn.PATH&&o!==F.bn.POLYLINE&&e.closePath()),s&&s.drawToContext(e,t,ip(this,ik)[ik],this,i),a&&e.restore(),t.renderable.dirty=!1}},{key:"renderDisplayObject",value:function(t,e,n,r,i){var o=t.nodeName,a=r.restoreStack[r.restoreStack.length-1];a&&!(t.compareDocumentPosition(a)&F.NB.DOCUMENT_POSITION_CONTAINS)&&(e.restore(),r.restoreStack.pop());var s=this.context.styleRendererFactory[o],l=this.pathGeneratorFactory[o],u=t.parsedStyle.clipPath;if(u){this.applyWorldTransform(e,u);var c=this.pathGeneratorFactory[u.nodeName];c&&(e.save(),r.restoreStack.push(t),e.beginPath(),c(e,u.parsedStyle),e.closePath(),e.clip())}s&&(this.applyWorldTransform(e,t),e.save(),this.applyAttributesToContext(e,t)),l&&(e.beginPath(),l(e,t.parsedStyle),o!==F.bn.LINE&&o!==F.bn.PATH&&o!==F.bn.POLYLINE&&e.closePath()),s&&(s.render(e,t.parsedStyle,t,n,this,i),e.restore()),t.renderable.dirty=!1}},{key:"applyAttributesToContext",value:function(t,e){var n=e.parsedStyle,r=n.stroke,i=n.fill,o=n.opacity,a=n.lineDash,s=n.lineDashOffset;a&&t.setLineDash(a),(0,tt.Z)(s)||(t.lineDashOffset=s),(0,tt.Z)(o)||(t.globalAlpha*=o),(0,tt.Z)(r)||Array.isArray(r)||r.isNone||(t.strokeStyle=e.attributes.stroke),(0,tt.Z)(i)||Array.isArray(i)||i.isNone||(t.fillStyle=e.attributes.fill)}},{key:"convertAABB2Rect",value:function(t){var e=t.getMin(),n=t.getMax(),r=Math.floor(e[0]),i=Math.floor(e[1]);return{x:r,y:i,width:Math.ceil(n[0])-r,height:Math.ceil(n[1])-i}}},{key:"mergeDirtyAABBs",value:function(t){var e=new F.mN;return t.forEach(function(t){var n=t.getRenderBounds();e.add(n);var r=t.renderable.dirtyRenderBounds;r&&e.add(r)}),e}},{key:"searchDirtyObjects",value:function(t){var e=t.getMin(),n=(0,J.Z)(e,2),r=n[0],i=n[1],o=t.getMax(),a=(0,J.Z)(o,2),s=a[0],l=a[1];return this.rBush.search({minX:r,minY:i,maxX:s,maxY:l}).map(function(t){return t.displayObject})}},{key:"saveDirtyAABB",value:function(t){var e=t.renderable;e.dirtyRenderBounds||(e.dirtyRenderBounds=new F.mN);var n=t.getRenderBounds();n&&e.dirtyRenderBounds.update(n.center,n.halfExtents)}},{key:"applyWorldTransform",value:function(t,e,n){n?(q.copy(this.tmpMat4,e.getLocalTransform()),q.multiply(this.tmpMat4,n,this.tmpMat4)):q.copy(this.tmpMat4,e.getWorldTransform()),q.multiply(this.tmpMat4,this.vpMatrix,this.tmpMat4),t.setTransform(this.tmpMat4[0],this.tmpMat4[1],this.tmpMat4[4],this.tmpMat4[5],this.tmpMat4[12],this.tmpMat4[13])}},{key:"safeMergeAABB",value:function(){for(var t=new F.mN,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach(function(e){t.add(e)}),t}}])}();function iC(t,e,n,r,i,o,a){if("rect"===t.image.nodeName){var s,l,u=t.image.parsedStyle,c=u.width,h=u.height;l=r.contextService.getDPR();var d=r.config.offscreenCanvas;(s=o.offscreenCanvasCreator.getOrCreateCanvas(d)).width=c*l,s.height=h*l;var p=o.offscreenCanvasCreator.getOrCreateContext(d),f={restoreStack:[],prevObject:null,currentContext:new Map};t.image.forEach(function(t){i.renderDisplayObject(t,p,r,f,o)}),f.restoreStack.forEach(function(){p.restore()})}return a.getOrCreatePatternSync(e,t,n,s,l,e.getGeometryBounds().min,function(){e.renderable.dirty=!0,r.renderingService.dirtify()})}function iA(t,e,n,r){var i;if(t.type===F.GL.LinearGradient||t.type===F.GL.RadialGradient){var o=e.getGeometryBounds(),a=o&&2*o.halfExtents[0]||1,s=o&&2*o.halfExtents[1]||1,l=o&&o.min||[0,0];i=r.getOrCreateGradient((0,rQ.Z)((0,rQ.Z)({type:t.type},t.value),{},{min:l,width:a,height:s}),n)}return i}iO.tag="CanvasRenderer";var iT=["shadowBlur","shadowOffsetX","shadowOffsetY"],iP=["lineCap","lineJoin","miterLimit"],iL={globalAlpha:1,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",filter:"none",globalCompositeOperation:"source-over",strokeStyle:"#000",strokeOpacity:1,lineWidth:1,lineDash:[],lineDashOffset:0,lineCap:"butt",lineJoin:"miter",miterLimit:10,fillStyle:"#000",fillOpacity:1},iR={};function iD(t,e,n,r){var i=r.has(e)?r.get(e):iL[e];return i!==n&&("lineDash"===e?t.setLineDash(n):t[e]=n,r.set(e,n)),i}var iN=function(t){function e(){return(0,z.Z)(this,e),(0,V.Z)(this,e,arguments)}return(0,H.Z)(e,t),(0,W.Z)(e,[{key:"render",value:function(t,e,n,r,i,o){var a=e.fill,s=e.fillRule,l=e.opacity,u=void 0===l?1:l,c=e.fillOpacity,h=e.stroke,d=e.strokeOpacity,p=e.lineWidth,f=void 0===p?1:p,g=e.lineCap,m=e.lineJoin,v=e.shadowType,y=e.shadowColor,b=e.shadowBlur,x=e.filter,E=e.miterLimit,w=a&&!a.isNone,S=h&&!h.isNone&&f>0,M=(null==a?void 0:a.alpha)===0,k=!!(x&&x.length),O=!(0,tt.Z)(y)&&b>0,C=n.nodeName,A="inner"===v,T=S&&O&&(C===F.bn.PATH||C===F.bn.LINE||C===F.bn.POLYLINE||M||A);w&&(t.globalAlpha=u*(void 0===c?1:c),T||iI(n,t,O),iZ(t,n,a,s,r,i,o,this.imagePool),T||this.clearShadowAndFilter(t,k,O)),S&&(t.globalAlpha=u*(void 0===d?1:d),t.lineWidth=f,(0,tt.Z)(E)||(t.miterLimit=E),(0,tt.Z)(g)||(t.lineCap=g),(0,tt.Z)(m)||(t.lineJoin=m),T&&(A&&(t.globalCompositeOperation="source-atop"),iI(n,t,!0),A&&(ij(t,n,h,r,i,o,this.imagePool),t.globalCompositeOperation=iL.globalCompositeOperation,this.clearShadowAndFilter(t,k,!0))),ij(t,n,h,r,i,o,this.imagePool))}},{key:"clearShadowAndFilter",value:function(t,e,n){if(n&&(t.shadowColor="transparent",t.shadowBlur=0),e){var r=t.filter;!(0,tt.Z)(r)&&r.indexOf("drop-shadow")>-1&&(t.filter=r.replace(/drop-shadow\([^)]*\)/,"").trim()||"none")}}}])}((0,W.Z)(function t(e){(0,z.Z)(this,t),this.imagePool=e},[{key:"applyAttributesToContext",value:function(t,e){}},{key:"render",value:function(t,e,n,r,i,o){}},{key:"applyCommonStyleToContext",value:function(t,e,n,r){var i=n?iR:r.prevObject.parsedStyle,o=e.parsedStyle;(n||o.opacity!==i.opacity)&&iD(t,"globalAlpha",(0,tt.Z)(o.opacity)?iL.globalAlpha:o.opacity,r.currentContext),(n||o.blend!==i.blend)&&iD(t,"globalCompositeOperation",(0,tt.Z)(o.blend)?iL.globalCompositeOperation:o.blend,r.currentContext)}},{key:"applyStrokeFillStyleToContext",value:function(t,e,n,r){var i=n?iR:r.prevObject.parsedStyle,o=e.parsedStyle,a=o.lineWidth,s=void 0===a?iL.lineWidth:a,l=o.fill&&!o.fill.isNone;if(o.stroke&&!o.stroke.isNone&&s>0){(n||e.attributes.stroke!==r.prevObject.attributes.stroke)&&iD(t,"strokeStyle",(0,tt.Z)(o.stroke)||Array.isArray(o.stroke)||o.stroke.isNone?iL.strokeStyle:e.attributes.stroke,r.currentContext),(n||o.lineWidth!==i.lineWidth)&&iD(t,"lineWidth",(0,tt.Z)(o.lineWidth)?iL.lineWidth:o.lineWidth,r.currentContext),(n||o.lineDash!==i.lineDash)&&iD(t,"lineDash",o.lineDash||iL.lineDash,r.currentContext),(n||o.lineDashOffset!==i.lineDashOffset)&&iD(t,"lineDashOffset",(0,tt.Z)(o.lineDashOffset)?iL.lineDashOffset:o.lineDashOffset,r.currentContext);for(var u=0;u<iP.length;u++){var c=iP[u];(n||o[c]!==i[c])&&iD(t,c,(0,tt.Z)(o[c])?iL[c]:o[c],r.currentContext)}}l&&(n||e.attributes.fill!==r.prevObject.attributes.fill)&&iD(t,"fillStyle",(0,tt.Z)(o.fill)||Array.isArray(o.fill)||o.fill.isNone?iL.fillStyle:e.attributes.fill,r.currentContext)}},{key:"applyStyleToContext",value:function(t,e,n,r){var i=e.nodeName;this.applyCommonStyleToContext(t,e,n,r),i===F.bn.IMAGE||this.applyStrokeFillStyleToContext(t,e,n,r)}},{key:"applyShadowAndFilterStyleToContext",value:function(t,e,n,r){var i=e.parsedStyle;if(n){iD(t,"shadowColor",i.shadowColor.toString(),r.currentContext);for(var o=0;o<iT.length;o++){var a=iT[o];iD(t,a,i[a]||iL[a],r.currentContext)}}i.filter&&i.filter.length&&iD(t,"filter",e.attributes.filter,r.currentContext)}},{key:"clearShadowAndFilterStyleForContext",value:function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(e){iD(t,"shadowColor",iL.shadowColor,r.currentContext);for(var o=0;o<iT.length;o++){var a=iT[o];iD(t,a,iL[a],r.currentContext)}}if(n){if(e&&i){var s=t.filter;!(0,tt.Z)(s)&&s.indexOf("drop-shadow")>-1&&iD(t,"filter",s.replace(/drop-shadow\([^)]*\)/,"").trim()||iL.filter,r.currentContext)}else iD(t,"filter",iL.filter,r.currentContext)}}},{key:"fillToContext",value:function(t,e,n,r,i){var o=this,a=e.parsedStyle,s=a.fill,l=a.fillRule,u=null;if(Array.isArray(s)&&s.length>0)s.forEach(function(r){var i,a=iD(t,"fillStyle",iA(r,e,t,o.imagePool),n.currentContext);u=null!==(i=u)&&void 0!==i?i:a,l?t.fill(l):t.fill()});else{if((0,F.R)(s)){var c=iC(s,e,t,e.ownerDocument.defaultView.context,r,i,this.imagePool);c&&(t.fillStyle=c,u=!0)}l?t.fill(l):t.fill()}null!==u&&iD(t,"fillStyle",u,n.currentContext)}},{key:"strokeToContext",value:function(t,e,n,r,i){var o=this,a=e.parsedStyle.stroke,s=null;if(Array.isArray(a)&&a.length>0)a.forEach(function(r){var i,a=iD(t,"strokeStyle",iA(r,e,t,o.imagePool),n.currentContext);s=null!==(i=s)&&void 0!==i?i:a,t.stroke()});else{if((0,F.R)(a)){var l=iC(a,e,t,e.ownerDocument.defaultView.context,r,i,this.imagePool);if(l){var u,c=iD(t,"strokeStyle",l,n.currentContext);s=null!==(u=s)&&void 0!==u?u:c}}t.stroke()}null!==s&&iD(t,"strokeStyle",s,n.currentContext)}},{key:"drawToContext",value:function(t,e,n,r,i){var o,a=e.nodeName,s=e.parsedStyle,l=s.opacity,u=void 0===l?iL.globalAlpha:l,c=s.fillOpacity,h=void 0===c?iL.fillOpacity:c,d=s.strokeOpacity,p=void 0===d?iL.strokeOpacity:d,f=s.lineWidth,g=void 0===f?iL.lineWidth:f,m=s.fill&&!s.fill.isNone,v=s.stroke&&!s.stroke.isNone&&g>0;if(m||v){var y=!(0,tt.Z)(s.shadowColor)&&s.shadowBlur>0,b="inner"===s.shadowType,x=(null===(o=s.fill)||void 0===o?void 0:o.alpha)===0,E=!!(s.filter&&s.filter.length),w=y&&v&&(a===F.bn.PATH||a===F.bn.LINE||a===F.bn.POLYLINE||x||b),S=null;if(m&&(w||this.applyShadowAndFilterStyleToContext(t,e,y,n),S=iD(t,"globalAlpha",u*h,n.currentContext),this.fillToContext(t,e,n,r,i),w||this.clearShadowAndFilterStyleForContext(t,y,E,n)),v){var M=!1,k=iD(t,"globalAlpha",u*p,n.currentContext);if(S=m?S:k,w&&(this.applyShadowAndFilterStyleToContext(t,e,y,n),M=!0,b)){var O=t.globalCompositeOperation;t.globalCompositeOperation="source-atop",this.strokeToContext(t,e,n,r,i),t.globalCompositeOperation=O,this.clearShadowAndFilterStyleForContext(t,y,E,n,!0)}this.strokeToContext(t,e,n,r,i),M&&this.clearShadowAndFilterStyleForContext(t,y,E,n)}null!==S&&iD(t,"globalAlpha",S,n.currentContext)}}}]));function iI(t,e,n){var r=t.parsedStyle,i=r.filter,o=r.shadowColor,a=r.shadowBlur,s=r.shadowOffsetX,l=r.shadowOffsetY;i&&i.length&&(e.filter=t.style.filter),n&&(e.shadowColor=o.toString(),e.shadowBlur=a||0,e.shadowOffsetX=s||0,e.shadowOffsetY=l||0)}function iZ(t,e,n,r,i,o,a,s){var l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];Array.isArray(n)?n.forEach(function(n){t.fillStyle=iA(n,e,t,s),l||(r?t.fill(r):t.fill())}):((0,F.R)(n)&&(t.fillStyle=iC(n,e,t,i,o,a,s)),l||(r?t.fill(r):t.fill()))}function ij(t,e,n,r,i,o,a){var s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];Array.isArray(n)?n.forEach(function(n){t.strokeStyle=iA(n,e,t,a),s||t.stroke()}):((0,F.R)(n)&&(t.strokeStyle=iC(n,e,t,r,i,o,a)),s||t.stroke())}var i_=function(t){function e(){return(0,z.Z)(this,e),(0,V.Z)(this,e,arguments)}return(0,H.Z)(e,t),(0,W.Z)(e,[{key:"renderDownSampled",value:function(t,e,n,r){var i=r.src,o=r.imageCache;if(!o.downSampled){this.imagePool.createDownSampledImage(i,n).then(function(t){n.renderable.dirty=!0,n.ownerDocument.defaultView.context.renderingService.dirtify()}).catch(function(){});return}t.drawImage(o.downSampled,Math.floor(r.drawRect[0]),Math.floor(r.drawRect[1]),Math.ceil(r.drawRect[2]),Math.ceil(r.drawRect[3]))}},{key:"renderTile",value:function(t,e,n,r){var i=r.src,o=r.imageCache,a=r.imageRect,s=r.drawRect,l=o.size,u=t.getTransform(),c=u.a,h=u.b,d=u.c,p=u.d,f=u.e,g=u.f;if(t.resetTransform(),!(null!=o&&o.gridSize)){this.imagePool.createImageTiles(i,[],function(){n.renderable.dirty=!0,n.ownerDocument.defaultView.context.renderingService.dirtify()},n).catch(function(){});return}for(var m=[l[0]/a[2],l[1]/a[3]],v=[o.tileSize[0]/m[0],o.tileSize[1]/m[1]],y=[Math.floor((s[0]-a[0])/v[0]),Math.ceil((s[0]+s[2]-a[0])/v[0])],b=y[0],x=y[1],E=[Math.floor((s[1]-a[1])/v[1]),Math.ceil((s[1]+s[3]-a[1])/v[1])],w=E[0],S=E[1],M=w;M<=S;M++)for(var k=b;k<=x;k++){var O=o.tiles[M][k];if(O){var C=[Math.floor(a[0]+O.tileX*v[0]),Math.floor(a[1]+O.tileY*v[1]),Math.ceil(v[0]),Math.ceil(v[1])];t.drawImage(O.data,C[0],C[1],C[2],C[3])}}t.setTransform(c,h,d,p,f,g)}},{key:"render",value:function(t,n,r){var i=n.x,o=void 0===i?0:i,a=n.y,s=void 0===a?0:a,l=n.width,u=n.height,c=n.src,h=n.shadowColor,d=n.shadowBlur,p=this.imagePool.getImageSync(c,r),f=null==p?void 0:p.img,g=l,m=u;if(f){g||(g=f.width),m||(m=f.height),iI(r,t,!(0,tt.Z)(h)&&d>0);try{var v,y,b,x,E,w,S,M,k,O,C,A,T,P,L,R,D,N,I,Z,j=r.ownerDocument.defaultView.getContextService().getDomElement(),_=j.width,B=j.height,F=t.getTransform(),z=F.a,W=F.b,V=F.c,H=F.d,G=F.e,$=F.f,U=q.fromValues(z,V,0,0,W,H,0,0,0,0,1,0,G,$,0,1),Y=(v=[o,s,g,m],y=K.fF(K.Ue(),[v[0],v[1],0],U),b=K.fF(K.Ue(),[v[0]+v[2],v[1],0],U),x=K.fF(K.Ue(),[v[0],v[1]+v[3],0],U),E=K.fF(K.Ue(),[v[0]+v[2],v[1]+v[3],0],U),[Math.min(y[0],b[0],x[0],E[0]),Math.min(y[1],b[1],x[1],E[1]),Math.max(y[0],b[0],x[0],E[0])-Math.min(y[0],b[0],x[0],E[0]),Math.max(y[1],b[1],x[1],E[1])-Math.min(y[1],b[1],x[1],E[1])]),X=(w=[0,0,_,B],M=(S=(0,J.Z)(w,4))[0],k=S[1],O=S[2],C=S[3],T=(A=(0,J.Z)(Y,4))[0],P=A[1],L=A[2],R=A[3],D=Math.max(M,T),N=Math.max(k,P),I=Math.min(M+O,T+L),Z=Math.min(k+C,P+R),I<=D||Z<=N?null:[D,N,I-D,Z-N]);if(!X)return;if(!r.ownerDocument.defaultView.getConfig().enableLargeImageOptimization){e.renderFull(t,n,r,{image:f,drawRect:[o,s,g,m]});return}if(Y[2]/p.size[0]<(p.downSamplingRate||.5)){this.renderDownSampled(t,n,r,{src:c,imageCache:p,drawRect:[o,s,g,m]});return}if(!iE.isSupportTile){e.renderFull(t,n,r,{image:f,drawRect:[o,s,g,m]});return}this.renderTile(t,n,r,{src:c,imageCache:p,imageRect:Y,drawRect:X})}catch(t){}}}},{key:"drawToContext",value:function(t,e,n,r,i){this.render(t,e.parsedStyle,e)}}],[{key:"renderFull",value:function(t,e,n,r){t.drawImage(r.image,Math.floor(r.drawRect[0]),Math.floor(r.drawRect[1]),Math.ceil(r.drawRect[2]),Math.ceil(r.drawRect[3]))}}])}(iN),iB=function(t){function e(){return(0,z.Z)(this,e),(0,V.Z)(this,e,arguments)}return(0,H.Z)(e,t),(0,W.Z)(e,[{key:"render",value:function(t,e,n,r,i,o){n.getBounds();var a=e.lineWidth,s=void 0===a?1:a,l=e.textAlign,u=void 0===l?"start":l,c=e.textBaseline,h=void 0===c?"alphabetic":c,d=e.lineJoin,p=e.miterLimit,f=void 0===p?10:p,g=e.letterSpacing,m=void 0===g?0:g,v=e.stroke,y=e.fill,b=e.fillRule,x=e.fillOpacity,E=void 0===x?1:x,w=e.strokeOpacity,S=void 0===w?1:w,M=e.opacity,k=void 0===M?1:M,O=e.metrics,C=e.x,A=e.y,T=e.dx,P=e.dy,L=e.shadowColor,R=e.shadowBlur,D=O.font,N=O.lines,I=O.height,Z=O.lineHeight,j=O.lineMetrics;t.font=D,t.lineWidth=s,t.textAlign="middle"===u?"center":u;var _=h;"alphabetic"===_&&(_="bottom"),t.lineJoin=void 0===d?"miter":d,(0,tt.Z)(f)||(t.miterLimit=f);var B=void 0===A?0:A;"middle"===h?B+=-I/2-Z/2:"bottom"===h||"alphabetic"===h||"ideographic"===h?B+=-I:("top"===h||"hanging"===h)&&(B+=-Z);var F=(void 0===C?0:C)+(T||0);B+=P||0,1===N.length&&("bottom"===_?(_="middle",B-=.5*I):"top"===_&&(_="middle",B+=.5*I)),t.textBaseline=_,iI(n,t,!(0,tt.Z)(L)&&R>0);for(var z=0;z<N.length;z++){var W=s/2+F;B+=Z,(0,tt.Z)(v)||v.isNone||!s||this.drawLetterSpacing(t,n,N[z],j[z],u,W,B,m,y,b,E,v,S,k,!0,r,i,o),(0,tt.Z)(y)||this.drawLetterSpacing(t,n,N[z],j[z],u,W,B,m,y,b,E,v,S,k,!1,r,i,o)}}},{key:"drawLetterSpacing",value:function(t,e,n,r,i,o,a,s,l,u,c,h,d,p,f,g,m,v){if(0===s){f?this.strokeText(t,e,n,o,a,h,d,g,m,v):this.fillText(t,e,n,o,a,l,u,c,p,g,m,v);return}var y=t.textAlign;t.textAlign="left";var b=o;"center"===i||"middle"===i?b=o-r.width/2:("right"===i||"end"===i)&&(b=o-r.width);for(var x=Array.from(n),E=t.measureText(n).width,w=0,S=0;S<x.length;++S){var M=x[S];f?this.strokeText(t,e,M,b,a,h,d,g,m,v):this.fillText(t,e,M,b,a,l,u,c,p,g,m,v),b+=E-(w=t.measureText(n.substring(S+1)).width)+s,E=w}t.textAlign=y}},{key:"fillText",value:function(t,e,n,r,i,o,a,s,l,u,c,h){iZ(t,e,o,a,u,c,h,this.imagePool,!0);var d,p=!(0,tt.Z)(s)&&1!==s;p&&(d=t.globalAlpha,t.globalAlpha=s*l),t.fillText(n,r,i),p&&(t.globalAlpha=d)}},{key:"strokeText",value:function(t,e,n,r,i,o,a,s,l,u){ij(t,e,o,s,l,u,this.imagePool,!0);var c,h=!(0,tt.Z)(a)&&1!==a;h&&(c=t.globalAlpha,t.globalAlpha=a),t.strokeText(n,r,i),h&&(t.globalAlpha=c)}},{key:"drawToContext",value:function(t,e,n,r,i){this.render(t,e.parsedStyle,e,e.ownerDocument.defaultView.context,r,i)}}])}(iN),iF=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,z.Z)(this,e),(t=(0,V.Z)(this,e)).name="canvas-renderer",t.options=n,t}return(0,H.Z)(e,t),(0,W.Z)(e,[{key:"init",value:function(){var t,e=(0,rQ.Z)({dirtyObjectNumThreshold:500,dirtyObjectRatioThreshold:.8},this.options),n=this.context.imagePool,r=new iN(n),i=(t={},(0,rB.Z)((0,rB.Z)((0,rB.Z)((0,rB.Z)((0,rB.Z)((0,rB.Z)((0,rB.Z)((0,rB.Z)((0,rB.Z)((0,rB.Z)(t,F.bn.CIRCLE,r),F.bn.ELLIPSE,r),F.bn.RECT,r),F.bn.IMAGE,new i_(n)),F.bn.TEXT,new iB(n)),F.bn.LINE,r),F.bn.POLYLINE,r),F.bn.POLYGON,r),F.bn.PATH,r),F.bn.GROUP,void 0),(0,rB.Z)((0,rB.Z)((0,rB.Z)(t,F.bn.HTML,void 0),F.bn.MESH,void 0),F.bn.FRAGMENT,void 0));this.context.defaultStyleRendererFactory=i,this.context.styleRendererFactory=i,this.addRenderingPlugin(new iO(e))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins(),delete this.context.defaultStyleRendererFactory,delete this.context.styleRendererFactory}}])}(F.F6),iz=function(){function t(){(0,z.Z)(this,t)}return(0,W.Z)(t,[{key:"apply",value:function(e,n){var r=this,i=e.renderingService,o=e.renderingContext,a=e.config;this.context=e;var s=o.root.ownerDocument.defaultView,l=function(t){i.hooks.pointerMove.call(t)},u=function(t){i.hooks.pointerUp.call(t)},c=function(t){i.hooks.pointerDown.call(t)},h=function(t){i.hooks.pointerOver.call(t)},d=function(t){i.hooks.pointerOut.call(t)},p=function(t){i.hooks.pointerCancel.call(t)},f=function(t){i.hooks.pointerWheel.call(t)},g=function(t){i.hooks.click.call(t)},m=function(t){n.globalThis.document.addEventListener("pointermove",l,!0),t.addEventListener("pointerdown",c,!0),t.addEventListener("pointerleave",d,!0),t.addEventListener("pointerover",h,!0),n.globalThis.addEventListener("pointerup",u,!0),n.globalThis.addEventListener("pointercancel",p,!0)},v=function(t){t.addEventListener("touchstart",c,!0),t.addEventListener("touchend",u,!0),t.addEventListener("touchmove",l,!0),t.addEventListener("touchcancel",p,!0)},y=function(t){n.globalThis.document.addEventListener("mousemove",l,!0),t.addEventListener("mousedown",c,!0),t.addEventListener("mouseout",d,!0),t.addEventListener("mouseover",h,!0),n.globalThis.addEventListener("mouseup",u,!0)},b=function(t){n.globalThis.document.removeEventListener("pointermove",l,!0),t.removeEventListener("pointerdown",c,!0),t.removeEventListener("pointerleave",d,!0),t.removeEventListener("pointerover",h,!0),n.globalThis.removeEventListener("pointerup",u,!0),n.globalThis.removeEventListener("pointercancel",p,!0)},x=function(t){t.removeEventListener("touchstart",c,!0),t.removeEventListener("touchend",u,!0),t.removeEventListener("touchmove",l,!0),t.removeEventListener("touchcancel",p,!0)},E=function(t){n.globalThis.document.removeEventListener("mousemove",l,!0),t.removeEventListener("mousedown",c,!0),t.removeEventListener("mouseout",d,!0),t.removeEventListener("mouseover",h,!0),n.globalThis.removeEventListener("mouseup",u,!0)};i.hooks.init.tap(t.tag,function(){var t=r.context.contextService.getDomElement();n.globalThis.navigator.msPointerEnabled?(t.style.msContentZooming="none",t.style.msTouchAction="none"):s.supportsPointerEvents&&(t.style.touchAction="none"),s.supportsPointerEvents?m(t):y(t),s.supportsTouchEvents&&v(t),a.useNativeClickEvent&&t.addEventListener("click",g,!0),t.addEventListener("wheel",f,{passive:!0,capture:!0})}),i.hooks.destroy.tap(t.tag,function(){var t=r.context.contextService.getDomElement();n.globalThis.navigator.msPointerEnabled?(t.style.msContentZooming="",t.style.msTouchAction=""):s.supportsPointerEvents&&(t.style.touchAction=""),s.supportsPointerEvents?b(t):E(t),s.supportsTouchEvents&&x(t),a.useNativeClickEvent&&t.removeEventListener("click",g,!0),t.removeEventListener("wheel",f,!0)})}}])}();iz.tag="DOMInteraction";var iW=function(t){function e(){var t;(0,z.Z)(this,e);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=(0,V.Z)(this,e,[].concat(r))).name="dom-interaction",t}return(0,H.Z)(e,t),(0,W.Z)(e,[{key:"init",value:function(){this.addRenderingPlugin(new iz)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(F.F6),iV=function(){function t(){(0,z.Z)(this,t),this.displayObjectHTMLElementMap=new WeakMap}return(0,W.Z)(t,[{key:"joinTransformMatrix",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return"matrix(".concat([t[0],t[1],t[4],t[5],t[12]+e[0],t[13]+e[1]].join(","),")")}},{key:"apply",value:function(e,n){var r=this,i=e.camera,o=e.renderingContext,a=e.renderingService;this.context=e;var s=o.root.ownerDocument.defaultView,l=s.context.eventService.nativeHTMLMap,u=function(t,e){e.style.transform=r.joinTransformMatrix(t.getWorldTransform(),t.getOrigin())},c=function(t){var e=t.target;if(e.nodeName===F.bn.HTML){r.$camera||(r.$camera=r.createCamera(i));var n=r.getOrCreateEl(e);r.$camera.appendChild(n),Object.keys(e.attributes).forEach(function(t){r.updateAttribute(t,e)}),u(e,n),l.set(n,e)}},h=function(t){var e=t.target;if(e.nodeName===F.bn.HTML&&r.$camera){var n=r.getOrCreateEl(e);n&&(n.remove(),l.delete(n))}},d=function(t){var e=t.target;if(e.nodeName===F.bn.HTML){var n=t.attrName;r.updateAttribute(n,e)}},p=function(t){var e=t.target;(e.nodeName===F.bn.FRAGMENT?e.childNodes:[e]).forEach(function(t){if(t.nodeName===F.bn.HTML){var e=r.getOrCreateEl(t);u(t,e)}})},f=function(){if(r.$camera){var t=r.context.config,e=t.width,n=t.height;r.$camera.parentElement.style.width="".concat(e||0,"px"),r.$camera.parentElement.style.height="".concat(n||0,"px")}};a.hooks.init.tap(t.tag,function(){s.addEventListener(F.$6.RESIZE,f),s.addEventListener(F.Dk.MOUNTED,c),s.addEventListener(F.Dk.UNMOUNTED,h),s.addEventListener(F.Dk.ATTR_MODIFIED,d),s.addEventListener(F.Dk.BOUNDS_CHANGED,p)}),a.hooks.endFrame.tap(t.tag,function(){r.$camera&&o.renderReasons.has(F.Rr.CAMERA_CHANGED)&&(r.$camera.style.transform=r.joinTransformMatrix(i.getOrthoMatrix()))}),a.hooks.destroy.tap(t.tag,function(){r.$camera&&r.$camera.remove(),s.removeEventListener(F.$6.RESIZE,f),s.removeEventListener(F.Dk.MOUNTED,c),s.removeEventListener(F.Dk.UNMOUNTED,h),s.removeEventListener(F.Dk.ATTR_MODIFIED,d),s.removeEventListener(F.Dk.BOUNDS_CHANGED,p)})}},{key:"createCamera",value:function(t){var e=this.context.config,n=e.document,r=e.width,i=e.height,o=this.context.contextService.getDomElement(),a=o.parentNode;if(a){var s="g-canvas-camera",l=a.querySelector("#".concat(s));if(!l){var u=(n||document).createElement("div");u.style.overflow="hidden",u.style.pointerEvents="none",u.style.position="absolute",u.style.left="0px",u.style.top="0px",u.style.width="".concat(r||0,"px"),u.style.height="".concat(i||0,"px");var c=(n||document).createElement("div");l=c,c.id=s,c.style.position="absolute",c.style.left="".concat(o.offsetLeft||0,"px"),c.style.top="".concat(o.offsetTop||0,"px"),c.style.transformOrigin="left top",c.style.transform=this.joinTransformMatrix(t.getOrthoMatrix()),c.style.pointerEvents="none",c.style.width="100%",c.style.height="100%",u.appendChild(c),a.appendChild(u)}return l}return null}},{key:"getOrCreateEl",value:function(t){var e=this.context.config.document,n=this.displayObjectHTMLElementMap.get(t);return n||(n=(e||document).createElement("div"),t.parsedStyle.$el=n,this.displayObjectHTMLElementMap.set(t,n),t.id&&(n.id=t.id),t.name&&n.setAttribute("name",t.name),t.className&&(n.className=t.className),n.style.position="absolute",n.style["will-change"]="transform",n.style.transform=this.joinTransformMatrix(t.getWorldTransform(),t.getOrigin())),n}},{key:"updateAttribute",value:function(t,e){var n=this.getOrCreateEl(e);switch(t){case"innerHTML":var r=e.parsedStyle.innerHTML;(0,G.Z)(r)?n.innerHTML=r:(n.innerHTML="",n.appendChild(r));break;case"x":n.style.left="".concat(e.parsedStyle.x,"px");break;case"y":n.style.top="".concat(e.parsedStyle.y,"px");break;case"transformOrigin":var i=e.parsedStyle.transformOrigin;n.style["transform-origin"]="".concat(i[0].buildCSSText(null,null,"")," ").concat(i[1].buildCSSText(null,null,""));break;case"width":var o=e.parsedStyle.width;n.style.width=(0,$.Z)(o)?"".concat(o,"px"):o.toString();break;case"height":var a=e.parsedStyle.height;n.style.height=(0,$.Z)(a)?"".concat(a,"px"):a.toString();break;case"zIndex":var s=e.parsedStyle.zIndex;n.style["z-index"]="".concat(s);break;case"visibility":var l=e.parsedStyle.visibility;n.style.visibility=l;break;case"pointerEvents":var u=e.parsedStyle.pointerEvents;n.style.pointerEvents=void 0===u?"auto":u;break;case"opacity":var c=e.parsedStyle.opacity;n.style.opacity="".concat(c);break;case"fill":var h=e.parsedStyle.fill,d="";(0,F.qA)(h)?d=h.isNone?"transparent":e.getAttribute("fill"):Array.isArray(h)?d=e.getAttribute("fill"):(0,F.R)(h),n.style.background=d;break;case"stroke":var p=e.parsedStyle.stroke,f="";(0,F.qA)(p)?f=p.isNone?"transparent":e.getAttribute("stroke"):Array.isArray(p)?f=e.getAttribute("stroke"):(0,F.R)(p),n.style["border-color"]=f,n.style["border-style"]="solid";break;case"lineWidth":var g=e.parsedStyle.lineWidth;n.style["border-width"]="".concat(g||0,"px");break;case"lineDash":n.style["border-style"]="dashed";break;case"filter":var m=e.style.filter;n.style.filter=m;break;default:(0,tt.Z)(e.style[t])||""===e.style[t]||(n.style[t]=e.style[t])}}}])}();iV.tag="HTMLRendering";var iH=function(t){function e(){var t;(0,z.Z)(this,e);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=(0,V.Z)(this,e,[].concat(r))).name="html-renderer",t}return(0,H.Z)(e,t),(0,W.Z)(e,[{key:"init",value:function(){this.addRenderingPlugin(new iV)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(F.F6),iG=(0,W.Z)(function t(e){(0,z.Z)(this,t),this.renderingContext=e.renderingContext,this.canvasConfig=e.config},[{key:"init",value:function(){var t=this.canvasConfig,e=t.container,n=t.canvas;if(n)this.$canvas=n,e&&n.parentElement!==e&&e.appendChild(n),this.$container=n.parentElement,this.canvasConfig.container=this.$container;else if(e&&(this.$container=(0,G.Z)(e)?document.getElementById(e):e,this.$container)){var r=document.createElement("canvas");this.$container.appendChild(r),this.$container.style.position||(this.$container.style.position="relative"),this.$canvas=r}this.context=this.$canvas.getContext("2d"),this.resize(this.canvasConfig.width,this.canvasConfig.height)}},{key:"getContext",value:function(){return this.context}},{key:"getDomElement",value:function(){return this.$canvas}},{key:"getDPR",value:function(){return this.dpr}},{key:"getBoundingClientRect",value:function(){if(this.$canvas.getBoundingClientRect)return this.$canvas.getBoundingClientRect()}},{key:"destroy",value:function(){this.$container&&this.$canvas&&this.$canvas.parentNode&&this.$container.removeChild(this.$canvas)}},{key:"resize",value:function(t,e){var n=this.canvasConfig.devicePixelRatio||F.jU&&window.devicePixelRatio||1;n=n>=1?Math.ceil(n):1,this.dpr=n,this.$canvas&&(this.$canvas.width=this.dpr*t,this.$canvas.height=this.dpr*e,(0,F.$p)(this.$canvas,t,e)),this.renderingContext.renderReasons.add(F.Rr.CAMERA_CHANGED)}},{key:"applyCursorStyle",value:function(t){this.$container&&this.$container.style&&(this.$container.style.cursor=t)}},{key:"toDataURL",value:(v=(0,rY.Z)((0,rK.Z)().mark(function t(){var e,n,r,i=arguments;return(0,rK.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=(e=i.length>0&&void 0!==i[0]?i[0]:{}).type,r=e.encoderOptions,t.abrupt("return",this.context.canvas.toDataURL(n,r));case 3:case"end":return t.stop()}},t,this)})),function(){return v.apply(this,arguments)})}]),i$=function(t){function e(){var t;(0,z.Z)(this,e);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=(0,V.Z)(this,e,[].concat(r))).name="canvas-context-register",t}return(0,H.Z)(e,t),(0,W.Z)(e,[{key:"init",value:function(){this.context.ContextService=iG}},{key:"destroy",value:function(){delete this.context.ContextService}}])}(F.F6),iU=function(t){function e(t){var n;return(0,z.Z)(this,e),(n=(0,V.Z)(this,e,[t])).registerPlugin(new i$),n.registerPlugin(new iM),n.registerPlugin(new rU),n.registerPlugin(new iF),n.registerPlugin(new iW),n.registerPlugin(new id),n.registerPlugin(new iH),n}return(0,H.Z)(e,t),(0,W.Z)(e)}(F.I8),iq=n(54391),iK=n(24212),iY=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)0>e.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class iX extends rC{constructor(t){super(Object.assign(Object.assign({},t),{style:Object.assign({},iX.defaultStyleProps,t.style)})),this.rootPointerEvent=new F.nR(null),this.forwardEvents=t=>{let e=this.context.canvas,n=e.context.renderingContext.root.ownerDocument.defaultView;this.normalizeToPointerEvent(t,n).forEach(r=>{let i=this.bootstrapEvent(this.rootPointerEvent,r,n,t);nJ(e.context.eventService,"mappingTable.pointerupoutside",[]),e.context.eventService.mapEvent(i)})}}get eventService(){return this.context.canvas.context.eventService}get events(){return[k.CLICK,k.POINTER_DOWN,k.POINTER_MOVE,k.POINTER_UP,k.POINTER_OVER,k.POINTER_LEAVE]}getDomElement(){return this.getShape("key").getDomElement()}render(t=this.parsedAttributes,e=this){this.drawKeyShape(t,e),this.drawPortShapes(t,e)}getKeyStyle(t){let e=(0,iq.Z)(t,["dx","dy","innerHTML","pointerEvents","cursor"]),{dx:n=0,dy:r=0}=e,i=iY(e,["dx","dy"]),[o,a]=this.getSize(t);return Object.assign(Object.assign({x:n,y:r},i),{width:o,height:a})}drawKeyShape(t,e){let n=this.getKeyStyle(t),{x:r,y:i,width:o=0,height:a=0}=n,s=this.upsert("key-container",F.UL,{x:r,y:i,width:o,height:a,opacity:0},e);return this.upsert("key",F.k9,n,s)}connectedCallback(){if(!(this.context.canvas.getRenderer("main") instanceof iU))return;let t=this.getDomElement();this.events.forEach(e=>{t.addEventListener(e,this.forwardEvents)})}attributeChangedCallback(t,e,n){"zIndex"===t&&e!==n&&(this.getDomElement().style.zIndex=n)}destroy(){let t=this.getDomElement();this.events.forEach(e=>{t.removeEventListener(e,this.forwardEvents)}),super.destroy()}normalizeToPointerEvent(t,e){let n=[];if(e.isTouchEvent(t))for(let e=0;e<t.changedTouches.length;e++){let r=t.changedTouches[e];(0,iK.Z)(r.button)&&(r.button=0),(0,iK.Z)(r.buttons)&&(r.buttons=1),(0,iK.Z)(r.isPrimary)&&(r.isPrimary=1===t.touches.length&&"touchstart"===t.type),(0,iK.Z)(r.width)&&(r.width=r.radiusX||1),(0,iK.Z)(r.height)&&(r.height=r.radiusY||1),(0,iK.Z)(r.tiltX)&&(r.tiltX=0),(0,iK.Z)(r.tiltY)&&(r.tiltY=0),(0,iK.Z)(r.pointerType)&&(r.pointerType="touch"),(0,iK.Z)(r.pointerId)&&(r.pointerId=r.identifier||0),(0,iK.Z)(r.pressure)&&(r.pressure=r.force||.5),(0,iK.Z)(r.twist)&&(r.twist=0),(0,iK.Z)(r.tangentialPressure)&&(r.tangentialPressure=0),r.isNormalized=!0,r.type=t.type,n.push(r)}else e.isMouseEvent(t)&&((0,iK.Z)(t.isPrimary)&&(t.isPrimary=!0),(0,iK.Z)(t.width)&&(t.width=1),(0,iK.Z)(t.height)&&(t.height=1),(0,iK.Z)(t.tiltX)&&(t.tiltX=0),(0,iK.Z)(t.tiltY)&&(t.tiltY=0),(0,iK.Z)(t.pointerType)&&(t.pointerType="mouse"),(0,iK.Z)(t.pointerId)&&(t.pointerId=1),(0,iK.Z)(t.pressure)&&(t.pressure=.5),(0,iK.Z)(t.twist)&&(t.twist=0),(0,iK.Z)(t.tangentialPressure)&&(t.tangentialPressure=0),t.isNormalized=!0),n.push(t);return n}transferMouseData(t,e){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.altKey=e.altKey,t.metaKey=e.metaKey,t.shiftKey=e.shiftKey,t.ctrlKey=e.ctrlKey,t.button=e.button,t.buttons=e.buttons,t.client.x=e.clientX,t.client.y=e.clientY,t.movement.x=e.movementX,t.movement.y=e.movementY,t.page.x=e.pageX,t.page.y=e.pageY,t.screen.x=e.screenX,t.screen.y=e.screenY,t.relatedTarget=null}bootstrapEvent(t,e,n,r){t.view=n,t.originalEvent=null,t.nativeEvent=r,t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist,this.transferMouseData(t,e);let{x:i,y:o}=this.getViewportXY(e);t.viewport.x=i,t.viewport.y=o;let[a,s]=this.context.canvas.getCanvasByViewport([i,o]);return t.canvas.x=a,t.canvas.y=s,t.global.copyFrom(t.canvas),t.offset.copyFrom(t.canvas),t.isTrusted=r.isTrusted,"pointerleave"===t.type&&(t.type="pointerout"),t}getViewportXY(t){let e,n;let{offsetX:r,offsetY:i,clientX:o,clientY:a}=t;if(!this.context.canvas.context.config.supportsCSSTransform||(0,tt.Z)(r)||(0,tt.Z)(i)){let t=this.eventService.client2Viewport({x:o,y:a});e=t.x,n=t.y}else e=r,n=i;return{x:e,y:n}}onframe(){super.onframe();let{opacity:t}=this.attributes;this.getDomElement().style.opacity=`${t}`}}iX.defaultStyleProps={size:[160,80],halo:!1,icon:!1,label:!1,pointerEvents:"auto"};var iJ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)0>e.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class iQ extends rC{constructor(t){super(n8({style:iQ.defaultStyleProps},t))}getKeyStyle(t){let[e,n]=this.getSize(t),r=super.getKeyStyle(t),{fillOpacity:i,opacity:o=i}=r;return Object.assign(Object.assign({opacity:o},iJ(r,["fillOpacity","opacity"])),{width:e,height:n,x:-e/2,y:-n/2})}getHaloStyle(t){if(!1===t.halo)return!1;let e=this.getShape("key").attributes,{fill:n,stroke:r}=e;iJ(e,["fill","stroke"]);let i=n1(this.getGraphicStyle(t),"halo"),o=Number(i.lineWidth),[a,s]=nc(this.getSize(t),[o,o]);return Object.assign(Object.assign({},i),{width:a,height:s,fill:"transparent",x:-a/2,y:-s/2})}getIconStyle(t){let e=super.getIconStyle(t),[n,r]=this.getSize(t);return!!e&&Object.assign({width:.8*n,height:.8*r},e)}drawKeyShape(t,e){let n=this.upsert("key",rb,this.getKeyStyle(t),e);return rw(this),n}drawHaloShape(t,e){this.upsert("halo",F.UL,this.getHaloStyle(t),e)}update(t){super.update(t),t&&("x"in t||"y"in t||"z"in t)&&rS(this)}}iQ.defaultStyleProps={size:32};class i0 extends rC{constructor(t){super(t)}getKeyStyle(t){let[e,n]=this.getSize(t);return Object.assign(Object.assign({},super.getKeyStyle(t)),{width:e,height:n,x:-e/2,y:-n/2})}getIconStyle(t){let e=super.getIconStyle(t),{width:n,height:r}=this.getShape("key").attributes;return!!e&&Object.assign({width:.8*n,height:.8*r},e)}drawKeyShape(t,e){return this.upsert("key",F.UL,this.getKeyStyle(t),e)}}class i1 extends rT{constructor(t){super(t)}getInnerR(t){return t.innerR||3*this.getOuterR(t)/8}getOuterR(t){return Math.min(...this.getSize(t))/2}getPoints(t){var e,n;return[[0,-(e=this.getOuterR(t))],[(n=this.getInnerR(t))*Math.cos(3*Math.PI/10),-n*Math.sin(3*Math.PI/10)],[e*Math.cos(Math.PI/10),-e*Math.sin(Math.PI/10)],[n*Math.cos(Math.PI/10),n*Math.sin(Math.PI/10)],[e*Math.cos(3*Math.PI/10),e*Math.sin(3*Math.PI/10)],[0,n],[-e*Math.cos(3*Math.PI/10),e*Math.sin(3*Math.PI/10)],[-n*Math.cos(Math.PI/10),n*Math.sin(Math.PI/10)],[-e*Math.cos(Math.PI/10),-e*Math.sin(Math.PI/10)],[-n*Math.cos(3*Math.PI/10),-n*Math.sin(3*Math.PI/10)]]}getIconStyle(t){let e=super.getIconStyle(t),n=2*this.getInnerR(t)*.8;return!!e&&Object.assign({width:n,height:n},e)}getPortXY(t,e){let{placement:n="top"}=e;return oq(this.getShape("key").getLocalBounds(),n,function(t,e){let n={};return n.top=[0,-t],n.left=[-t*Math.cos(Math.PI/10),-t*Math.sin(Math.PI/10)],n["left-bottom"]=[-t*Math.cos(3*Math.PI/10),t*Math.sin(3*Math.PI/10)],n.bottom=[0,e],n["right-bottom"]=[t*Math.cos(3*Math.PI/10),t*Math.sin(3*Math.PI/10)],n.right=n.default=[t*Math.cos(Math.PI/10),-t*Math.sin(Math.PI/10)],n}(this.getOuterR(t),this.getInnerR(t)),!1)}}class i2 extends rT{constructor(t){super(n8({style:i2.defaultStyleProps},t))}getPoints(t){let{direction:e}=t,[n,r]=this.getSize(t);return function(t,e,n){let r=e/2,i=t/2,o={up:[[-i,r],[i,r],[0,-r]],left:[[-i,0],[i,r],[i,-r]],right:[[-i,r],[-i,-r],[i,0]],down:[[-i,-r],[i,-r],[0,r]]};return o[n]||o.up}(n,r,e)}getPortXY(t,e){let{direction:n}=t,{placement:r="top"}=e,i=this.getShape("key").getLocalBounds(),[o,a]=this.getSize(t);return oq(i,r,function(t,e,n){let r=e/2,i=t/2,o={};return"down"===n?(o.bottom=o.default=[0,r],o.right=[i,-r],o.left=[-i,-r]):"left"===n?(o.top=[i,-r],o.bottom=[i,r],o.left=o.default=[-i,0]):"right"===n?(o.top=[-i,-r],o.bottom=[-i,r],o.right=o.default=[i,0]):(o.left=[-i,r],o.top=o.default=[0,-r],o.right=[i,r]),o}(o,a,n),!1)}getIconStyle(t){let{icon:e,iconText:n,iconSrc:r,direction:i}=t;if(!1===e||ru(n||r))return!1;let o=n1(this.getGraphicStyle(t),"icon"),a=this.getShape("key").getLocalBounds(),[s,l]=function(t,e){let{center:n}=t,[r,i]=ex(t);return["up"===e||"down"===e?n[0]:"right"===e?n[0]-r/6:n[0]+r/6,"left"===e||"right"===e?n[1]:"down"===e?n[1]-i/6:n[1]+i/6]}(a,i),u=2*function(t,e){let[n,r]=ex(t);return[n,r]="up"===e||"down"===e?[n,r]:[r,n],(Math.pow(r,2)-Math.pow(Math.sqrt(Math.pow(n/2,2)+Math.pow(r,2))-n/2,2))/(2*r)}(a,i)*.8;return Object.assign({x:s,y:l,width:u,height:u},o)}}i2.defaultStyleProps={size:40,direction:"up"};var i3=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)0>e.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class i6 extends rC{constructor(t){super(n8({style:i6.defaultStyleProps},t)),this.type="combo",this.updateComboPosition(this.parsedAttributes)}getKeySize(t){let{collapsed:e,childrenNode:n=[]}=t;return 0===n.length?this.getEmptyKeySize(t):e?this.getCollapsedKeySize(t):this.getExpandedKeySize(t)}getEmptyKeySize(t){let{padding:e,collapsedSize:n}=t,[r,i,o,a]=ev(e);return nc(n6(n),[a+i,r+o,0])}getCollapsedKeySize(t){return n6(t.collapsedSize)}getExpandedKeySize(t){let e=this.getContentBBox(t);return[ey(e),eb(e),0]}getContentBBox(t){let{childrenNode:e=[],padding:n}=t,r=e.map(t=>this.context.element.getElement(t)).filter(Boolean);if(0===r.length){let e=new F.mN,{x:n=0,y:r=0,size:i}=t,[o,a]=n6(i);return e.setMinMax([n-o/2,r-a/2,0],[n+o/2,r+a/2,0]),e}let i=eM(r.map(t=>t.getBounds()));return n?eS(i,n):i}drawCollapsedMarkerShape(t,e){let n=this.getCollapsedMarkerStyle(t);n7(this,"collapsedMarker",n)&&(this.upsert("collapsed-marker",rM,n,e),rw(this))}getCollapsedMarkerStyle(t){if(!t.collapsed||!t.collapsedMarker)return!1;let e=n1(this.getGraphicStyle(t),"collapsedMarker"),{type:n}=e,r=i3(e,["type"]),[i,o]=nA(this.getShape("key").getLocalBounds(),"center"),a=Object.assign(Object.assign({},r),{x:i,y:o});return n&&Object.assign(a,{text:this.getCollapsedMarkerText(n,t)}),a}getCollapsedMarkerText(t,e){let{childrenData:n=[]}=e,{model:r}=this.context;return"descendant-count"===t?r.getDescendantsData(this.id).length.toString():"child-count"===t?n.length.toString():"node-count"===t?r.getDescendantsData(this.id).filter(t=>"node"===r.getElementType(e2(t))).length.toString():(0,eu.Z)(t)?t(n):""}getComboPosition(t){let{x:e=0,y:n=0,collapsed:r,childrenData:i=[]}=t;if(0===i.length)return[+e,+n,0];if(r){let{model:t}=this.context,r=t.getDescendantsData(this.id).filter(e=>!t.isCombo(e2(e)));return r.length>0&&r.some(nC)?np(r.reduce((t,e)=>nc(t,nO(e)),[0,0,0]),r.length):[+e,+n,0]}return this.getContentBBox(t).center}getComboStyle(t){let[e,n]=this.getComboPosition(t);return{x:e,y:n,transform:[["translate",e,n]]}}updateComboPosition(t){let e=this.getComboStyle(t);Object.assign(this.style,e);let{x:n,y:r}=e;this.context.model.syncComboDatum({id:this.id,style:{x:n,y:r}}),rS(this)}render(t,e=this){super.render(t,e),this.drawCollapsedMarkerShape(t,e)}update(t={}){super.update(t),this.updateComboPosition(this.parsedAttributes)}onframe(){super.onframe(),this.attributes.collapsed||this.updateComboPosition(this.parsedAttributes),this.drawKeyShape(this.parsedAttributes,this)}animate(t,e){let n=super.animate(this.attributes.collapsed?t:t.map(t=>{var{x:e,y:n,z:r,transform:i}=t;return i3(t,["x","y","z","transform"])}),e);return n?new Proxy(n,{set:(t,e,n)=>("currentTime"===e&&Promise.resolve().then(()=>this.onframe()),Reflect.set(t,e,n))}):n}}i6.defaultStyleProps={childrenNode:[],droppable:!0,draggable:!0,collapsed:!1,collapsedSize:32,collapsedMarker:!0,collapsedMarkerZIndex:1,collapsedMarkerFontSize:12,collapsedMarkerTextAlign:"center",collapsedMarkerTextBaseline:"middle",collapsedMarkerType:"child-count"};class i5 extends i6{constructor(t){super(t)}drawKeyShape(t,e){return this.upsert("key",F.Cd,this.getKeyStyle(t),e)}getKeyStyle(t){let{collapsed:e}=t,n=super.getKeyStyle(t),[r]=this.getKeySize(t);return Object.assign(Object.assign(Object.assign({},n),e&&n1(n,"collapsed")),{r:r/2})}getCollapsedKeySize(t){let[e,n]=n6(t.collapsedSize),r=Math.max(e,n)/2;return[2*r,2*r,0]}getExpandedKeySize(t){let[e,n]=ex(this.getContentBBox(t)),r=Math.sqrt(Math.pow(e,2)+Math.pow(n,2))/2;return[2*r,2*r,0]}getIntersectPoint(t,e=!1){return nI(t,this.getShape("key").getBounds(),e)}}class i4 extends i6{constructor(t){super(t)}drawKeyShape(t,e){return this.upsert("key",F.UL,this.getKeyStyle(t),e)}getKeyStyle(t){let e=super.getKeyStyle(t),[n,r]=this.getKeySize(t);return Object.assign(Object.assign(Object.assign({},e),t.collapsed&&n1(e,"collapsed")),{width:n,height:r,x:-n/2,y:-r/2})}}var i8=function(t,e){if(!tX(t))return t;for(var n=[],r=0;r<t.length;r++){var i=t[r];e(i,r)&&n.push(i)}return n};let i9={padding:10};function i7(t,e,n,r,i,o){let{padding:a}=Object.assign(i9,o),s=eE(n,a),l=eE(r,a),u=[t,...i,e],c=null,h=[];for(let t=0,e=u.length;t<e-1;t++){var d,p;let n=t+1,r=u[t],i=u[n],o=(d=r,p=i,d[1]===p[1]||d[0]===p[0]),f=null;if(0===t){if(n===e-1){if(s.intersects(l))f=os(r,i,s,l);else if(eC(r,s)||eC(i,l))o||(f=function(t,e,n,r){let i=oo(t,e,n),o=nE(i.points[0]);if(ek(o,r)){let a=nE((i=oo(e,t,r)).points[0]);if(ek(a,n)){let s=nR(t,o,or(n,on(t,o))/2),l=nR(e,a,or(r,on(e,a))/2),u=[(s[0]+l[0])/2,(s[1]+l[1])/2],c=oo(t,u,n),h=oa(u,e,r,c.direction);i.points=[c.points[0],h.points[0]],i.direction=h.direction}}return i}(r,i,s,l));else{let t=eT(r,s),e=eT(i,l);(f=oi(t,e,on(t,e))).points.unshift(t),f.points.push(e)}}else ek(i,s)?f=os(r,i,s,eE(i,a),c):o||(f=oo(r,i,s))}else n===e-1?ek(r,l)?f=os(r,i,eE(r,a),l,c):o||(f=oa(r,i,l,c)):o||(f=oi(r,i,c));f?(h.push(...f.points),c=f.direction):c=on(r,i),n<e-1&&h.push(i)}return h.map(nx)}let ot={N:"S",S:"N",W:"E",E:"W"},oe={N:-Math.PI/2,S:Math.PI/2,E:0,W:Math.PI};function on(t,e){let[n,r]=t,[i,o]=e;return n===i?r>o?"N":"S":r===o?n>i?"W":"E":null}function or(t,e){return"N"===e||"S"===e?eb(t):ey(t)}function oi(t,e,n){let r=[t[0],e[1]],i=[e[0],t[1]],o=on(t,r),a=on(t,i),s=n?ot[n]:null,l=o===n||o!==s&&a!==n?r:i;return{points:[l],direction:on(l,e)}}function oo(t,e,n){if(eC(t,n)){let r=ol(t,e,n);return{points:[r],direction:on(r,e)}}{let r=eT(t,n),i=["left","right"].includes(eA(t,n))?[e[0],r[1]]:[r[0],e[1]];return{points:[i],direction:on(i,e)}}}function oa(t,e,n,r){let i=eC(e,n)?e:eT(e,n),o=[[i[0],t[1]],[t[0],i[1]]],a=o.filter(t=>!ek(t,n)&&!eO(t,n,!0)),s=a.filter(e=>on(e,t)!==r);if(s.length>0){let n=s.find(e=>on(t,e)===r)||s[0];return{points:[n],direction:on(n,e)}}{var l;let i=nR(e,(void 0===(l=a)&&(l=[]),i8(o,function(t){var e;return!(tX(e=l)&&e.indexOf(t)>-1)}))[0],or(n,r)/2);return{points:[ol(i,t,n),i],direction:on(i,e)}}}function os(t,e,n,r,i){let o;let a=eM([n,r]),s=ng(e,a.center)>ng(t,a.center),[l,u]=s?[e,t]:[t,e],c=eb(a)+ey(a);if(i){let t=[l[0]+c*Math.cos(oe[i]),l[1]+c*Math.sin(oe[i])];o=nR(eT(t,a),t,.01)}else o=nR(eT(l,a),l,-.01);let h=ol(o,u,a),d=[nL(o,2),nL(h,2)];if(tJ(nL(o),nL(h))){let t=ny(nh(o,l),[1,0,0])+Math.PI/2,e=ol(o,h=nL(nR(eT(h=[u[0]+c*Math.cos(t),u[1]+c*Math.sin(t),0],a),u,-.01),2),a);d=[o,e,h]}return{points:s?d.reverse():d,direction:s?on(o,e):on(h,e)}}function ol(t,e,n){let r=[t[0],e[1]];return ek(r,n)&&(r=[e[0],t[1]]),r}function ou(t,e,n,r,i){let o="number"==typeof e?e:.5;"start"===e&&(o=0),"end"===e&&(o=.99);let a=nT(t.getPoint(o)),s=nT(t.getPoint(o+.01)),l="start"===e?"left":"end"===e?"right":"center";if(a[1]===s[1]||!n){let[e,n]=oc(t,o,r,i);return{transform:[["translate",e,n]],textAlign:l}}let u=Math.atan2(s[1]-a[1],s[0]-a[0]);s[0]<a[0]&&(l="center"===l?l:"left"===l?"right":"left",r*=-1,u+=Math.PI);let[c,h]=oc(t,o,r,i,u);return{textAlign:l,transform:[["translate",c,h],["rotate",u/Math.PI*180]]}}function oc(t,e,n,r,i){let[o,a]=nT(t.getPoint(e)),s=n,l=r;return i&&(s=n*Math.cos(i)-r*Math.sin(i),l=n*Math.sin(i)+r*Math.cos(i)),[o+s,a+l]}function oh(t,e,n,r){if(tJ(t,e))return t;let i=nh(e,t),o=[t[0]+n*i[0],t[1]+n*i[1]],a=nv(nb(i,!1));return o[0]+=r*a[0],o[1]+=r*a[1],o}function od(t,e,n){return[["M",t[0],t[1]],["C",n[0][0],n[0][1],n[1][0],n[1][1],e[0],e[1]]]}function op(t,e=0,n=!1){let r=t[0],i=t[t.length-1],o=t.slice(1,t.length-1),a=[["M",r[0],r[1]]];return o.forEach((t,n)=>{let s=o[n-1]||r,l=o[n+1]||i;if(!nS([s,t],[t,l])&&e){let[n,r]=function(t,e,n,r){let i=nm(t,e),o=nm(n,e),a=Math.min(r,Math.min(i,o)/2);return[[e[0]-a/i*(e[0]-t[0]),e[1]-a/i*(e[1]-t[1])],[e[0]-a/o*(e[0]-n[0]),e[1]-a/o*(e[1]-n[1])]]}(s,t,l,e);a.push(["L",n[0],n[1]],["Q",t[0],t[1],r[0],r[1]],["L",r[0],r[1]])}else a.push(["L",t[0],t[1]])}),a.push(["L",i[0],i[1]]),n&&a.push(["Z"]),a}let of=t=>{let e=Math.PI/2,n=eb(t)/2,r=ey(t)/2,i=Math.atan2(n,r)/2,o=Math.atan2(r,n)/2;return{top:[-e-o,-e+o],"top-right":[-e+o,-i],"right-top":[-e+o,-i],right:[-i,i],"bottom-right":[i,e-o],"right-bottom":[i,e-o],bottom:[e-o,e+o],"bottom-left":[e+o,Math.PI-i],"left-bottom":[e+o,Math.PI-i],left:[Math.PI-i,Math.PI+i],"top-left":[Math.PI+i,-e-o],"left-top":[Math.PI+i,-e-o]}};function og(t,e,n,r,i){let o=eE(t),a=t.getCenter(),s=r&&oX(r),l=i&&oX(i);if(!s||!l){let r=of(o),i=r[e][0],u=r[e][1],[c,h]=ex(o),d=Math.max(c,h),p=nc(a,[d*Math.cos(i),d*Math.sin(i),0]),f=nc(a,[d*Math.cos(u),d*Math.sin(u),0]);s=o1(t,p),l=o1(t,f),n||([s,l]=[l,s])}return[s,l]}function om(t,e){let n=new Set,r=new Set,i=new Set;return t.forEach(o=>{e(o).forEach(e=>{n.add(e),t.includes(e.source)&&t.includes(e.target)?r.add(e):i.add(e)})}),{edges:Array.from(n),internal:Array.from(r),external:Array.from(i)}}function ov(t,e){let n=[],r=t;for(;r;){n.push(r);let t=e(e2(r));if(t)r=t;else break}if(n.some(t=>{var e;return null===(e=t.style)||void 0===e?void 0:e.collapsed})){let t=n.reverse().findIndex(nY);return n[t]||n.at(-1)}return t}let oy=(t,e)=>{let n=Math.max(t,e)/2;return[["M",-t/2,0],["A",n,n,0,1,0,2*n-t/2,0],["A",n,n,0,1,0,-t/2,0],["Z"]]},ob=(t,e)=>[["M",-t/2,0],["L",t/2,-e/2],["L",t/2,e/2],["Z"]],ox=(t,e)=>[["M",-t/2,0],["L",0,-e/2],["L",t/2,0],["L",0,e/2],["Z"]],oE=(t,e)=>[["M",-t/2,0],["L",t/2,-e/2],["L",4*t/5-t/2,0],["L",t/2,e/2],["Z"]],ow=(t,e)=>[["M",-t/2,-e/2],["L",t/2,-e/2],["L",t/2,e/2],["L",-t/2,e/2],["Z"]],oS=(t,e)=>{let n=t/2,r=t/7,i=t-r;return[["M",-n,0],["L",0,-e/2],["L",0,e/2],["Z"],["M",i-n,-e/2],["L",i+r-n,-e/2],["L",i+r-n,e/2],["L",i-n,e/2],["Z"]]},oM=(t,e)=>[["M",t/2,-e/2],["L",-t/2,0],["L",t/2,0],["L",-t/2,0],["L",t/2,e/2]];var ok=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)0>e.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class oO extends rk{constructor(t){super(n8({style:oO.defaultStyleProps},t)),this.type="edge"}get sourceNode(){let{sourceNode:t}=this.parsedAttributes;return this.context.element.getElement(t)}get targetNode(){let{targetNode:t}=this.parsedAttributes;return this.context.element.getElement(t)}getKeyStyle(t){let e=this.getGraphicStyle(t),{loop:n}=e,r=ok(e,["loop"]),{sourceNode:i,targetNode:o}=this;return Object.assign({d:n&&i&&o&&i===o?this.getLoopPath(t):this.getKeyPath(t)},n3(r,["halo","label","startArrow","endArrow"]))}getLoopPath(t){let{sourcePort:e,targetPort:n}=t,r=this.sourceNode,i=eE(r),o=Math.max(ey(i),eb(i)),{placement:a,clockwise:s,dist:l=o}=n1(this.getGraphicStyle(t),"loop");return function(t,e,n,r,i,o){let a=t.getPorts()[i||o],s=t.getPorts()[o||i],[l,u]=og(t,e,n,a,s),c=function(t,e,n,r){let i=t.getCenter();if(tJ(e,n)){let t=nh(e,i),o=[r*Math.sign(t[0])||r/2,r*Math.sign(t[1])||-r/2,0];return[nc(e,o),nc(n,nd(o,[1,-1,1]))]}return[nR(i,e,ng(i,e)+r),nR(i,n,ng(i,n)+r)]}(t,l,u,r);return a&&(l=o0(a,c[0])),s&&(u=o0(s,c[c.length-1])),od(l,u,c)}(r,a,s,l,e,n)}getEndpoints(t,e=!0,n=[]){let{sourcePort:r,targetPort:i}=t,{sourceNode:o,targetNode:a}=this,[s,l]=[oJ(o,a,r,i),oJ(a,o,i,r)];if(!e)return[s?oX(s):o.getCenter(),l?oX(l):a.getCenter()];let u="function"==typeof n?n():n;return[oQ(s||o,u[0]||l||a),oQ(l||a,u[u.length-1]||s||o)]}getHaloStyle(t){if(!1===t.halo)return!1;let e=this.getKeyStyle(t),n=n1(this.getGraphicStyle(t),"halo");return Object.assign(Object.assign({},e),n)}getLabelStyle(t){if(!1===t.label||!t.labelText)return!1;let e=n1(this.getGraphicStyle(t),"label"),{placement:n,offsetX:r,offsetY:i,autoRotate:o,maxWidth:a}=e,s=ok(e,["placement","offsetX","offsetY","autoRotate","maxWidth"]),l=ou(this.shapeMap.key,n,o,r,i),u=this.shapeMap.key.getLocalBounds();return Object.assign({wordWrapWidth:function(t,e,n=1){return rr(ng(t[0],t[1])*n,e)}([u.min,u.max],a)},l,s)}getBadgeStyle(t){if(!1===t.badge||!t.badgeText)return!1;let e=n1(t,"badge"),{offsetX:n,offsetY:r,placement:i}=e;return Object.assign(ok(e,["offsetX","offsetY","placement"]),function(t,e,n,r,i){var o,a;let s=(null===(o=t.badge)||void 0===o?void 0:o.getGeometryBounds().halfExtents[0])*2||0,l=(null===(a=t.label)||void 0===a?void 0:a.getGeometryBounds().halfExtents[0])*2||0;return ou(t.key,n,!0,(l?(l/2+s/2)*("suffix"===e?1:-1):0)+r,i)}(this.shapeMap,i,t.labelPlacement,n,r))}drawArrow(t,e){var n;let r="start"===e,i=t["start"===e?"startArrow":"endArrow"],o=this.shapeMap.key;if(i){let n=this.getArrowStyle(t,r);if(!n7(this,`arrow-${e}`,n))return;let[i,a,s]=r?["markerStart","markerStartOffset","startArrowOffset"]:["markerEnd","markerEndOffset","endArrowOffset"],l=o.parsedStyle[i];if(l)l.attr(n);else{let t=new(n.src?F.Ee:F.y$)({style:n});o.style[i]=t}o.style[a]=t[s]||n.width/2+ +n.lineWidth}else{let t=r?"markerStart":"markerEnd";null===(n=o.style[t])||void 0===n||n.destroy(),o.style[t]=null}}getArrowStyle(t,e){var n;let r=this.getShape("key").attributes,i=n1(this.getGraphicStyle(t),e?"startArrow":"endArrow"),{size:o,type:a}=i,s=ok(i,["size","type"]),[l,u]=n6((n=r.lineWidth,o||(n<4?10:4===n?12:2.5*n))),c=((0,eu.Z)(a)?a:B[a]||ob)(l,u);return Object.assign((0,iq.Z)(r,["stroke","strokeOpacity","fillOpacity"]),{width:l,height:u},Object.assign({},c&&{d:c,fill:"simple"===a?"":r.stroke}),s)}drawLabelShape(t,e){let n=this.getLabelStyle(t);n7(this,"label",n)&&this.upsert("label",rp,n,e)}drawHaloShape(t,e){let n=this.getHaloStyle(t);n7(this,"halo",n)&&this.upsert("halo",F.y$,n,e)}drawBadgeShape(t,e){let n=this.getBadgeStyle(t);n7(this,"badge",n)&&this.upsert("badge",rf,n,e)}drawSourceArrow(t){this.drawArrow(t,"start")}drawTargetArrow(t){this.drawArrow(t,"end")}drawKeyShape(t,e){let n=this.getKeyStyle(t);if(n7(this,"key",n))return this.upsert("key",F.y$,n,e)}render(t=this.parsedAttributes,e=this){this.drawKeyShape(t,e),this.getShape("key")&&(this.drawSourceArrow(t),this.drawTargetArrow(t),this.drawLabelShape(t,e),this.drawHaloShape(t,e),this.drawBadgeShape(t,e))}onframe(){this.drawKeyShape(this.parsedAttributes,this),this.drawSourceArrow(this.parsedAttributes),this.drawTargetArrow(this.parsedAttributes),this.drawHaloShape(this.parsedAttributes,this),this.drawLabelShape(this.parsedAttributes,this),this.drawBadgeShape(this.parsedAttributes,this)}animate(t,e){let n=super.animate(t,e);return n?new Proxy(n,{set:(t,e,n)=>("currentTime"===e&&Promise.resolve().then(()=>this.onframe()),Reflect.set(t,e,n))}):n}}oO.defaultStyleProps={badge:!0,badgeOffsetX:0,badgeOffsetY:0,badgePlacement:"suffix",isBillboard:!0,label:!0,labelAutoRotate:!0,labelIsBillboard:!0,labelMaxWidth:"80%",labelOffsetX:4,labelOffsetY:0,labelPlacement:"center",labelTextBaseline:"middle",labelWordWrap:!1,halo:!1,haloDroppable:!1,haloLineDash:0,haloLineWidth:12,haloPointerEvents:"none",haloStrokeOpacity:.25,haloZIndex:-1,loop:!0,startArrow:!1,startArrowLineDash:0,startArrowLineJoin:"round",startArrowLineWidth:1,startArrowTransformOrigin:"center",startArrowType:"vee",endArrow:!1,endArrowLineDash:0,endArrowLineJoin:"round",endArrowLineWidth:1,endArrowTransformOrigin:"center",endArrowType:"vee",loopPlacement:"top",loopClockwise:!0};class oC extends oO{constructor(t){super(n8({style:oC.defaultStyleProps},t))}getKeyPath(t){let[e,n]=this.getEndpoints(t),{controlPoints:r,curvePosition:i,curveOffset:o}=t,a=this.getControlPoints(e,n,(0,$.Z)(i)?[i,1-i]:i,(0,$.Z)(o)?[o,-o]:o,r);return od(e,n,a)}getControlPoints(t,e,n,r,i){return(null==i?void 0:i.length)===2?i:[oh(t,e,n[0],r[0]),oh(t,e,n[1],r[1])]}}oC.defaultStyleProps={curvePosition:.5,curveOffset:20};class oA extends oC{constructor(t){super(n8({style:oA.defaultStyleProps},t))}getControlPoints(t,e,n,r){let i=e[0]-t[0];return[[t[0]+i*n[0]+r[0],t[1]],[e[0]-i*n[1]+r[1],e[1]]]}}oA.defaultStyleProps={curvePosition:[.5,.5],curveOffset:[0,0]};class oT extends oC{constructor(t){super(n8({style:oT.defaultStyleProps},t))}get ref(){return this.context.model.getRootsData()[0]}getEndpoints(t){if(this.sourceNode.id===this.ref.id)return super.getEndpoints(t);let e=nO(this.ref);return[this.sourceNode.getIntersectPoint(e,!0),this.targetNode.getIntersectPoint(e)]}toRadialCoordinate(t){let e=nO(this.ref);return[ng(t,e),nw(nh(t,e))]}getControlPoints(t,e,n,r){let[i,o]=this.toRadialCoordinate(t),[a]=this.toRadialCoordinate(e),s=a-i;return[[t[0]+(s*n[0]+r[0])*Math.cos(o),t[1]+(s*n[0]+r[0])*Math.sin(o)],[e[0]-(s*n[1]-r[0])*Math.cos(o),e[1]-(s*n[1]-r[0])*Math.sin(o)]]}}oT.defaultStyleProps={curvePosition:.5,curveOffset:20};class oP extends oC{constructor(t){super(n8({style:oP.defaultStyleProps},t))}getControlPoints(t,e,n,r){let i=e[1]-t[1];return[[t[0],t[1]+i*n[0]+r[0]],[e[0],e[1]-i*n[1]+r[1]]]}}oP.defaultStyleProps={curvePosition:[.5,.5],curveOffset:[0,0]};class oL extends oO{constructor(t){super(n8({style:oL.defaultStyleProps},t))}getKeyPath(t){let[e,n]=this.getEndpoints(t);return[["M",e[0],e[1]],["L",n[0],n[1]]]}}oL.defaultStyleProps={};let oR={enableObstacleAvoidance:!1,offset:10,maxAllowedDirectionChange:Math.PI/2,maximumLoops:3e3,gridSize:5,startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{right:{stepX:1,stepY:0},left:{stepX:-1,stepY:0},bottom:{stepX:0,stepY:1},top:{stepX:0,stepY:-1}},penalties:{0:0,90:0},distFunc:nm},oD=t=>`${Math.round(t[0])}|||${Math.round(t[1])}`;function oN(t,e){let n=t=>Math.round(t/e);return(0,$.Z)(t)?n(t):t.map(n)}function oI(t,e){let n=e[0]-t[0],r=e[1]-t[1];return n||r?Math.atan2(r,n):0}function oZ(t,e,n,r){let i=oI(t,e);return function(t,e){let n=Math.abs(t-e);return n>Math.PI?2*Math.PI-n:n}(oI(n[oD(t)]||r,t),i)}let oj=(t,e)=>{let{offset:n,gridSize:r}=e,i={};return t.forEach(t=>{if(!t||t.destroyed||!t.isVisible())return;let e=eS(t.getRenderBounds(),n);for(let t=oN(e.min[0],r);t<=oN(e.max[0],r);t+=1)for(let n=oN(e.min[1],r);n<=oN(e.max[1],r);n+=1)i[`${t}|||${n}`]=!0}),i};function o_(t,e,n){return Math.min(...e.map(e=>n(t,e)))}let oB=(t,e,n,r)=>{if(!e)return[t];let{directionMap:i,offset:o}=r,a=eS(e.getRenderBounds(),o),s=Object.keys(i).reduce((e,r)=>{if(n.includes(r)){let n=i[r],[o,s]=ex(a),l=[t[0]+n.stepX*o,t[1]+n.stepY*s],u=function(t){let{min:[e,n],max:[r,i]}=t,o=[e,i],a=[r,i],s=[r,n],l=[e,n];return[[o,a],[a,s],[s,l],[l,o]]}(a);for(let n=0;n<u.length;n++){let r=nM([t,l],u[n]);r&&eO(r,a)&&e.push(r)}}return e},[]);return ek(t,a)||s.push(t),s.map(t=>oN(t,r.gridSize))},oF=(t,e,n,r,i,o,a)=>{let s=[],l=[o[0]===r[0]?r[0]:t[0]*a,o[1]===r[1]?r[1]:t[1]*a];s.unshift(l);let u=t,c=e[oD(u)];for(;c;){let t=c,r=u;oZ(t,r,e,n)&&(l=[t[0]===r[0]?l[0]:t[0]*a,t[1]===r[1]?l[1]:t[1]*a],s.unshift(l)),c=e[oD(t)],u=t}let h=function(t,e,n){let r=t[0],i=n(t[0],e);for(let o=0;o<t.length;o++){let a=t[o],s=n(a,e);s<i&&(r=a,i=s)}return r}(i.map(t=>[t[0]*a,t[1]*a]),l,nm);return s.unshift(h),s};class oz{constructor(){this.arr=[],this.map={},this.arr=[],this.map={}}_innerAdd(t,e){let n=0,r=e-1;for(;r-n>1;){let e=Math.floor((n+r)/2);if(this.arr[e].value>t.value)r=e;else if(this.arr[e].value<t.value)n=e;else{this.arr.splice(e,0,t),this.map[t.id]=!0;return}}this.arr.splice(r,0,t),this.map[t.id]=!0}add(t){delete this.map[t.id];let e=this.arr.length;if(!e||this.arr[e-1].value<t.value){this.arr.push(t),this.map[t.id]=!0;return}this._innerAdd(t,e)}remove(t){this.map[t]&&delete this.map[t]}_clearAndGetMinId(){let t;for(let e=this.arr.length-1;e>=0;e--)this.map[this.arr[e].id]?t=this.arr[e].id:this.arr.splice(e,1);return t}_findFirstId(){for(;this.arr.length;){let t=this.arr.shift();if(this.map[t.id])return t.id}}minId(t){return t?this._clearAndGetMinId():this._findFirstId()}}class oW extends oO{constructor(t){super(n8({style:oW.defaultStyleProps},t))}getControlPoints(t){let{router:e}=t,{sourceNode:n,targetNode:r}=this,[i,o]=this.getEndpoints(t,!1),a=[];return e?"shortest-path"===e.type?(a=function(t,e,n,r){let i;let o=nx(t.getCenter()),a=nx(e.getCenter()),s=Object.assign(oR,r),{gridSize:l}=s,u=oj(s.enableObstacleAvoidance?n:[t,e],s),c=oN(o,l),h=oN(a,l),d=oB(o,t,s.startDirections,s),p=oB(a,e,s.endDirections,s);d.forEach(t=>delete u[oD(t)]),p.forEach(t=>delete u[oD(t)]);let f={},g={},m={},v={},y={},b=new oz;for(let t=0;t<d.length;t++){let e=d[t],n=oD(e);f[n]=e,v[n]=0,y[n]=o_(e,p,s.distFunc),b.add({id:n,value:y[n]})}let x=p.map(t=>oD(t)),E=s.maximumLoops,w=1/0;for(let[t,e]of Object.entries(f))y[t]<=w&&(w=y[t],i=e);for(;Object.keys(f).length>0&&E>0;){let t=b.minId(!1);if(t)i=f[t];else break;let e=oD(i);if(x.includes(e))return oF(i,m,c,a,d,h,l);for(let t of(delete f[e],b.remove(e),g[e]=!0,Object.values(s.directionMap))){let n=nc(i,[t.stepX,t.stepY]),r=oD(n);if(g[r])continue;let o=oZ(i,n,m,c);if(o>s.maxAllowedDirectionChange||u[r])continue;f[r]||(f[r]=n);let a=s.penalties[o],h=s.distFunc(i,n)+(isNaN(a)?l:a),d=v[e]+h,x=v[r];x&&d>=x||(m[r]=i,v[r]=d,y[r]=d+o_(n,p,s.distFunc),b.add({id:r,value:y[r]}))}E-=1}return[]}(n,r,this.context.element.getNodes(),e)).length||(a=i7(i,o,n,r,t.controlPoints,{padding:e.offset})):"orth"===e.type&&(a=i7(i,o,n,r,t.controlPoints,e)):a=t.controlPoints,a}getPoints(t){let e=this.getControlPoints(t),[n,r]=this.getEndpoints(t,!0,e);return[n,...e,r]}getKeyPath(t){return op(this.getPoints(t),t.radius)}getLoopPath(t){let{sourcePort:e,targetPort:n,radius:r}=t,i=this.sourceNode,o=eE(i),a=Math.max(ey(o),eb(o))/4,{placement:s,clockwise:l,dist:u=a}=n1(this.getGraphicStyle(t),"loop");return function(t,e,n,r,i,o,a){let s=oK(t),l=s[o||a],u=s[a||o],[c,h]=og(t,n,r,l,u),d=function(t,e,n,r){let i=[],o=eE(t);if(tJ(e,n))switch(eA(e,o)){case"left":i.push([e[0]-r,e[1]]),i.push([e[0]-r,e[1]+r]),i.push([e[0],e[1]+r]);break;case"right":i.push([e[0]+r,e[1]]),i.push([e[0]+r,e[1]+r]),i.push([e[0],e[1]+r]);break;case"top":i.push([e[0],e[1]-r]),i.push([e[0]+r,e[1]-r]),i.push([e[0]+r,e[1]]);break;case"bottom":i.push([e[0],e[1]+r]),i.push([e[0]+r,e[1]+r]),i.push([e[0]+r,e[1]])}else{let t=eA(e,o),a=eA(n,o);if(t===a){let o,a;switch(t){case"left":o=Math.min(e[0],n[0])-r,i.push([o,e[1]]),i.push([o,n[1]]);break;case"right":o=Math.max(e[0],n[0])+r,i.push([o,e[1]]),i.push([o,n[1]]);break;case"top":a=Math.min(e[1],n[1])-r,i.push([e[0],a]),i.push([n[0],a]);break;case"bottom":a=Math.max(e[1],n[1])+r,i.push([e[0],a]),i.push([n[0],a])}}else{let s=(t,e)=>({left:[e[0]-r,e[1]],right:[e[0]+r,e[1]],top:[e[0],e[1]-r],bottom:[e[0],e[1]+r]})[t],l=s(t,e),u=s(a,n),c=ol(l,u,o);i.push(l,c,u)}}return i}(t,c,h,i);return l&&(c=o0(l,d[0])),u&&(h=o0(u,d[d.length-1])),op([c,...d,h],e)}(i,r,s,l,u,e,n)}}oW.defaultStyleProps={radius:0,controlPoints:[],router:!1};class oV extends oO{constructor(t){super(n8({style:oV.defaultStyleProps},t))}getKeyPath(t){let{curvePosition:e,curveOffset:n}=t,[r,i]=this.getEndpoints(t),o=t.controlPoint||oh(r,i,e,n);return[["M",r[0],r[1]],["Q",o[0],o[1],i[0],i[1]]]}}function oH(t){return t instanceof rC&&"node"===t.type}function oG(t){return t instanceof oO}function o$(t){return t instanceof i6}oV.defaultStyleProps={curvePosition:.5,curveOffset:30};let oU={top:[.5,0],right:[1,.5],bottom:[.5,1],left:[0,.5],default:[.5,.5]};function oq(t,e,n=oU,r=!0){let i=[.5,.5],o=(0,G.Z)(e)?nX(n,e.toLocaleLowerCase(),i):e;if(!r&&(0,G.Z)(e))return o;let[a,s]=o||i;return[t.min[0]+ey(t)*a,t.min[1]+eb(t)*s]}function oK(t){if(!t)return{};let e=t.getPorts();return(t.attributes.ports||[]).forEach((n,r)=>{var i;let{key:o,placement:a}=n;oY(n)&&(e[i=o||r]||(e[i]=nA(t.getShape("key").getBounds(),a)))}),e}function oY(t){let{r:e}=t;return!e||0===Number(e)}function oX(t){return eg(t)?t:t.getPosition()}function oJ(t,e,n,r){let i,o;let a=oK(t);if(n)return a[n];let s=Object.values(a);if(0===s.length)return;let l=s.map(t=>oX(t)),u=function(t,e){let n=oK(t);if(e)return[oX(n[e])];let r=Object.values(n);return r.length>0?r.map(t=>oX(t)):[t.getCenter()]}(e,r),[c]=(i=1/0,o=[l[0],u[0]],l.forEach(t=>{u.forEach(e=>{let n=ng(t,e);n<i&&(i=n,o=[t,e])})}),o);return s.find(t=>oX(t)===c)}function oQ(t,e){return o$(t)||oH(t)?o1(t,e):o0(t,e)}function o0(t,e){return t&&e?eg(t)?t:t.attributes.linkToCenter?t.getPosition():nI(eg(e)?e:oH(e)?e.getCenter():e.getPosition(),t.getBounds()):[0,0,0]}function o1(t,e){if(!t||!e)return[0,0,0];let n=eg(e)?e:oH(e)?e.getCenter():e.getPosition();return t.getIntersectPoint(n)||t.getCenter()}function o2(t,e="bottom",n=0,r=0,i=!1){let o=e.split("-"),[a,s]=nA(t,e),l=o.includes("left")?"right":o.includes("right")?"left":"center",u=o.includes("top")?"bottom":o.includes("bottom")?"top":"middle";return i&&(u="top"===u?"bottom":"bottom"===u?"top":u),{transform:[["translate",a+n,s+r]],textBaseline:u,textAlign:l}}function o3(t,e){"update"in t?t.update(e):t.attr(e)}function o6(t){return nX(t,"__to_be_destroyed__",!1)}class o5 extends na{constructor(t,e){super(t,Object.assign({},o5.defaultOptions,e)),this.onCollapseExpand=t=>{var e,n,r,i;return e=this,n=void 0,r=void 0,i=function*(){if(!this.validate(t))return;let{target:e}=t;if(!(oH(e)||oG(e)||o$(e)))return;let n=e.id,{model:r,graph:i}=this.context,o=r.getElementDataById(n);if(!o)return!1;let{onCollapse:a,onExpand:s,animation:l,align:u}=this.options;nY(o)?(yield i.expandElement(n,{animation:l,align:u}),null==s||s(n)):(yield i.collapseElement(n,{animation:l,align:u}),null==a||a(n))},new(r||(r=Promise))(function(t,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(e){var n;e.done?t(e.value):((n=e.value)instanceof r?n:new r(function(t){t(n)})).then(a,s)}l((i=i.apply(e,n||[])).next())})},this.bindEvents()}update(t){this.unbindEvents(),super.update(t),this.bindEvents()}bindEvents(){let{graph:t}=this.context,{trigger:e}=this.options;t.on(`node:${e}`,this.onCollapseExpand),t.on(`combo:${e}`,this.onCollapseExpand)}unbindEvents(){let{graph:t}=this.context,{trigger:e}=this.options;t.off(`node:${e}`,this.onCollapseExpand),t.off(`combo:${e}`,this.onCollapseExpand)}validate(t){if(this.destroyed)return!1;let{enable:e}=this.options;return(0,eu.Z)(e)?e(t):!!e}destroy(){this.unbindEvents(),super.destroy()}}o5.defaultOptions={enable:!0,animation:!0,trigger:k.DBLCLICK,align:!0};var o4={},o8=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(a,s)}l((r=r.apply(t,e||[])).next())})};let o9="g6-create-edge-assist-node-id";class o7 extends na{constructor(t,e){super(t,Object.assign({},o7.defaultOptions,e)),this.drop=t=>o8(this,void 0,void 0,function*(){let{targetType:e}=t;["combo","node"].includes(e)&&this.source?yield this.handleCreateEdge(t):yield this.cancelEdge()}),this.handleCreateEdge=t=>o8(this,void 0,void 0,function*(){var e,n,r;if(!this.validate(t))return;let{graph:i,canvas:o,batch:a,element:s}=this.context,{style:l}=this.options;if(this.source){this.createEdge(t),yield this.cancelEdge();return}a.startBatch(),o.setCursor("crosshair"),this.source=this.getSelectedNodeIDs([t.target.id])[0];let u=i.getElementData(this.source);i.addNodeData([{id:o9,style:{visibility:"hidden",ports:[{key:"port-1",placement:[.5,.5]}],x:null===(e=u.style)||void 0===e?void 0:e.x,y:null===(n=u.style)||void 0===n?void 0:n.y}}]),i.addEdgeData([{id:"g6-create-edge-assist-edge-id",source:this.source,target:o9,style:Object.assign({pointerEvents:"none"},l)}]),yield null===(r=s.draw({animation:!1}))||void 0===r?void 0:r.finished}),this.updateAssistEdge=t=>o8(this,void 0,void 0,function*(){var e;if(!this.source)return;let{model:n,element:r}=this.context;n.translateNodeTo(o9,[t.canvas.x,t.canvas.y]),yield null===(e=r.draw({animation:!1,silence:!0}))||void 0===e?void 0:e.finished}),this.createEdge=t=>{var e,n,r;let{graph:i}=this.context,{style:o,onFinish:a,onCreate:s}=this.options;if(void 0===(null===(e=t.target)||void 0===e?void 0:e.id)||void 0===this.source)return;let l=null===(n=this.getSelectedNodeIDs([t.target.id]))||void 0===n?void 0:n[0],u=s({id:`${this.source}-${l}-${(o4[r=r||"g"]?o4[r]+=1:o4[r]=1,r+o4[r])}`,source:this.source,target:l,style:o});i.addEdgeData([u]),a(u)},this.cancelEdge=()=>o8(this,void 0,void 0,function*(){var t;if(!this.source)return;let{graph:e,element:n,batch:r}=this.context;e.removeNodeData([o9]),this.source=void 0,yield null===(t=n.draw({animation:!1}))||void 0===t?void 0:t.finished,r.endBatch()}),this.bindEvents()}update(t){super.update(t),this.bindEvents()}bindEvents(){let{graph:t}=this.context,{trigger:e}=this.options;this.unbindEvents(),"click"===e?(t.on(P.CLICK,this.handleCreateEdge),t.on(M.CLICK,this.handleCreateEdge),t.on(S.CLICK,this.cancelEdge),t.on(C.CLICK,this.cancelEdge)):(t.on(P.DRAG_START,this.handleCreateEdge),t.on(M.DRAG_START,this.handleCreateEdge),t.on(k.POINTER_UP,this.drop)),t.on(k.POINTER_MOVE,this.updateAssistEdge)}getSelectedNodeIDs(t){return Array.from(new Set(this.context.graph.getElementDataByState("node",this.options.state).map(t=>t.id).concat(t)))}validate(t){if(this.destroyed)return!1;let{enable:e}=this.options;return(0,eu.Z)(e)?e(t):!!e}unbindEvents(){let{graph:t}=this.context;t.off(P.CLICK,this.handleCreateEdge),t.off(M.CLICK,this.handleCreateEdge),t.off(S.CLICK,this.cancelEdge),t.off(C.CLICK,this.cancelEdge),t.off(P.DRAG_START,this.handleCreateEdge),t.off(M.DRAG_START,this.handleCreateEdge),t.off(k.POINTER_UP,this.drop),t.off(k.POINTER_MOVE,this.updateAssistEdge)}destroy(){this.unbindEvents(),super.destroy()}}o7.defaultOptions={animation:!0,enable:!0,style:{},trigger:"drag",onCreate:t=>t,onFinish:()=>{}};var at=function(t,e,n){var r;return function(){var i=this,o=arguments,a=n&&!r;clearTimeout(r),r=setTimeout(function(){r=null,n||t.apply(i,o)},e),a&&t.apply(i,o)}},ae=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(a,s)}l((r=r.apply(t,e||[])).next())})};class an extends na{constructor(t,e){super(t,Object.assign({},an.defaultOptions,e)),this.isDragging=!1,this.onDragStart=t=>{this.validate(t)&&(this.isDragging=!0,this.context.canvas.setCursor("grabbing"))},this.onDrag=t=>{if(!this.isDragging)return;let{x:e,y:n}=t.movement;(e|n)!=0&&this.translate([e,n],!1)},this.onDragEnd=()=>{var t,e;this.isDragging=!1,this.context.canvas.setCursor(this.defaultCursor),null===(e=(t=this.options).onFinish)||void 0===e||e.call(t)},this.invokeOnFinish=at(()=>{var t,e;null===(e=(t=this.options).onFinish)||void 0===e||e.call(t)},300),this.shortcut=new nF(t.graph),this.bindEvents(),this.defaultCursor=this.context.canvas.getConfig().cursor||"default"}update(t){this.unbindEvents(),super.update(t),this.bindEvents()}bindEvents(){let{trigger:t}=this.options;if((0,tQ.Z)(t)){let{up:e=[],down:n=[],left:r=[],right:i=[]}=t;this.shortcut.bind(e,t=>this.onTranslate([0,1],t)),this.shortcut.bind(n,t=>this.onTranslate([0,-1],t)),this.shortcut.bind(r,t=>this.onTranslate([1,0],t)),this.shortcut.bind(i,t=>this.onTranslate([-1,0],t))}else{let{graph:t}=this.context;t.on(k.DRAG_START,this.onDragStart),t.on(k.DRAG,this.onDrag),t.on(k.DRAG_END,this.onDragEnd)}}onTranslate(t,e){return ae(this,void 0,void 0,function*(){if(!this.validate(e))return;let{sensitivity:n}=this.options;yield this.translate(nd(t,-1*n),this.options.animation),this.invokeOnFinish()})}translate(t,e){return ae(this,void 0,void 0,function*(){t=this.clampByDirection(t),t=this.clampByRange(t),yield this.context.graph.translateBy(t,e)})}clampByDirection([t,e]){let{direction:n}=this.options;return"x"===n?e=0:"y"===n&&(t=0),[t,e]}clampByRange([t,e]){let{viewport:n,canvas:r}=this.context,[i,o]=r.getSize(),[a,s,l,u]=ev(this.options.range),c=eS(ew(n.getCanvasCenter()),[o*a,i*s,o*l,i*u]),h=nh(n.getViewportCenter(),[t,e,0]);if(!ek(h,c)){let{min:[n,r],max:[i,o]}=c;(h[0]<n&&t>0||h[0]>i&&t<0)&&(t=0),(h[1]<r&&e>0||h[1]>o&&e<0)&&(e=0)}return[t,e]}validate(t){if(this.destroyed)return!1;let{enable:e}=this.options;return"function"==typeof e?e(t):!!e}unbindEvents(){this.shortcut.unbindAll();let{graph:t}=this.context;t.off(k.DRAG_START,this.onDragStart),t.off(k.DRAG,this.onDrag),t.off(k.DRAG_END,this.onDragEnd)}destroy(){this.shortcut.destroy(),this.unbindEvents(),this.context.canvas.setCursor(this.defaultCursor),super.destroy()}}an.defaultOptions={enable:t=>!("targetType"in t)||"canvas"===t.targetType,sensitivity:10,direction:"both",range:1/0};var ar=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(a,s)}l((r=r.apply(t,e||[])).next())})};class ai extends na{constructor(t,e){super(t,Object.assign({},ai.defaultOptions,e)),this.enable=!1,this.enableElements=["node","combo"],this.target=[],this.shadowOrigin=[0,0],this.hiddenEdges=[],this.isDragging=!1,this.onDrop=t=>ar(this,void 0,void 0,function*(){var e;if("link"!==this.options.dropEffect)return;let{model:n,element:r}=this.context,i=t.target.id;this.target.forEach(t=>{let e=n.getParentData(t,t2);e&&e2(e)===i&&n.refreshComboData(i),n.setParent(t,i,t2)}),yield null===(e=null==r?void 0:r.draw({animation:!0}))||void 0===e?void 0:e.finished}),this.setCursor=t=>{if(this.isDragging)return;let{type:e}=t,{canvas:n}=this.context,{cursor:r}=this.options;e===k.POINTER_ENTER?n.setCursor((null==r?void 0:r.grab)||"grab"):n.setCursor((null==r?void 0:r.default)||"default")},this.onDragStart=this.onDragStart.bind(this),this.onDrag=this.onDrag.bind(this),this.onDragEnd=this.onDragEnd.bind(this),this.onDrop=this.onDrop.bind(this),this.bindEvents()}update(t){this.unbindEvents(),super.update(t),this.bindEvents()}bindEvents(){let{graph:t,canvas:e}=this.context,n=e.getLayer().getContextService().$canvas;n&&(n.addEventListener("blur",this.onDragEnd),n.addEventListener("contextmenu",this.onDragEnd)),this.enableElements.forEach(e=>{t.on(`${e}:${k.DRAG_START}`,this.onDragStart),t.on(`${e}:${k.DRAG}`,this.onDrag),t.on(`${e}:${k.DRAG_END}`,this.onDragEnd),t.on(`${e}:${k.POINTER_ENTER}`,this.setCursor),t.on(`${e}:${k.POINTER_LEAVE}`,this.setCursor)}),["link"].includes(this.options.dropEffect)&&(t.on(M.DROP,this.onDrop),t.on(S.DROP,this.onDrop))}getSelectedNodeIDs(t){return Array.from(new Set(this.context.graph.getElementDataByState("node",this.options.state).map(t=>t.id).concat(t)))}getDelta(t){let e=this.context.graph.getZoom();return np([t.dx,t.dy],e)}onDragStart(t){var e;if(this.enable=this.validate(t),!this.enable)return;let{batch:n,canvas:r}=this.context;r.setCursor((null===(e=this.options.cursor)||void 0===e?void 0:e.grabbing)||"grabbing"),this.isDragging=!0,n.startBatch(),this.target=this.getSelectedNodeIDs([t.target.id]),this.hideEdge(),this.context.graph.frontElement(this.target),this.options.shadow&&this.createShadow(this.target)}onDrag(t){if(!this.enable)return;let e=this.getDelta(t);this.options.shadow?this.moveShadow(e):this.moveElement(this.target,e)}onDragEnd(){var t,e,n;if(this.enable=!1,this.options.shadow){if(!this.shadow)return;this.shadow.style.visibility="hidden";let{x:t=0,y:e=0}=this.shadow.attributes,[n,r]=nh([+t,+e],this.shadowOrigin);this.moveElement(this.target,[n,r])}this.showEdges(),null===(e=(t=this.options).onFinish)||void 0===e||e.call(t,this.target);let{batch:r,canvas:i}=this.context;r.endBatch(),i.setCursor((null===(n=this.options.cursor)||void 0===n?void 0:n.grab)||"grab"),this.isDragging=!1,this.target=[]}validate(t){if(this.destroyed)return!1;let{enable:e}=this.options;return(0,eu.Z)(e)?e(t):!!e}moveElement(t,e){return ar(this,void 0,void 0,function*(){let{graph:n,model:r}=this.context,{dropEffect:i}=this.options;"move"===i&&t.forEach(t=>r.refreshComboData(t)),n.translateElementBy(Object.fromEntries(t.map(t=>[t,e])),!1)})}moveShadow(t){if(!this.shadow)return;let{x:e=0,y:n=0}=this.shadow.attributes,[r,i]=t;this.shadow.attr({x:+e+r,y:+n+i})}createShadow(t){let e=n1(this.options,"shadow"),n=eM(t.map(t=>this.context.element.getElement(t).getBounds())),[r,i]=n.min;this.shadowOrigin=[r,i];let[o,a]=ex(n),s={width:o,height:a,x:r,y:i};this.shadow?this.shadow.attr(Object.assign(Object.assign(Object.assign({},e),s),{visibility:"visible"})):(this.shadow=new F.UL({style:Object.assign(Object.assign(Object.assign({$layer:"transient"},e),s),{pointerEvents:"none"})}),this.context.canvas.appendChild(this.shadow))}showEdges(){this.options.shadow||0===this.hiddenEdges.length||(this.context.graph.showElement(this.hiddenEdges),this.hiddenEdges=[])}hideEdge(){let{hideEdge:t,shadow:e}=this.options;if("none"===t||e)return;let{graph:n}=this.context;"all"===t?this.hiddenEdges=n.getEdgeData().map(e2):this.hiddenEdges=Array.from(new Set(this.target.map(e=>n.getRelatedEdgesData(e,t).map(e2)).flat())),n.hideElement(this.hiddenEdges)}unbindEvents(){let{graph:t,canvas:e}=this.context,n=e.getLayer().getContextService().$canvas;n&&(n.removeEventListener("blur",this.onDragEnd),n.removeEventListener("contextmenu",this.onDragEnd)),this.enableElements.forEach(e=>{t.off(`${e}:${k.DRAG_START}`,this.onDragStart),t.off(`${e}:${k.DRAG}`,this.onDrag),t.off(`${e}:${k.DRAG_END}`,this.onDragEnd),t.off(`${e}:${k.POINTER_ENTER}`,this.setCursor),t.off(`${e}:${k.POINTER_LEAVE}`,this.setCursor)}),t.off(`combo:${k.DROP}`,this.onDrop),t.off(`canvas:${k.DROP}`,this.onDrop)}destroy(){var t;this.unbindEvents(),null===(t=this.shadow)||void 0===t||t.destroy(),super.destroy()}}ai.defaultOptions={animation:!0,enable:t=>["node","combo"].includes(t.targetType),dropEffect:"move",state:"selected",hideEdge:"none",shadow:!1,shadowZIndex:100,shadowFill:"#F3F9FF",shadowFillOpacity:.5,shadowStroke:"#1890FF",shadowStrokeOpacity:.9,shadowLineDash:[5,5],cursor:{default:"default",grab:"grab",grabbing:"grabbing"}};var ao=n(92526);class aa{constructor(t,e){this.context=t,this.options=e||{}}}var as=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)0>e.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function al(t){let{nodes:e,edges:n}=t,r={nodes:[],edges:[],combos:[]};return e.forEach(t=>{let e=t.data._isCombo?r.combos:r.nodes,{x:n,y:i,z:o=0}=t.data;null==e||e.push({id:t.id,style:{x:n,y:i,z:o}})}),n.forEach(t=>{let{id:e,source:n,target:i,data:{points:o=[],controlPoints:a=o.slice(1,o.length-1)}}=t;r.edges.push({id:e,source:n,target:i,style:Object.assign({},(null==a?void 0:a.length)?{controlPoints:a.map(nT)}:{})})}),r}function au(t,e,...n){if(e in t)return t[e](...n);if("instance"in t){let r=t.instance;if(e in r)return r[e](...n)}return null}function ac(t,e){if(e in t)return t[e];if("instance"in t){let n=t.instance;if(e in n)return n[e]}return null}class ah extends ai{get forceLayoutInstance(){return this.context.layout.getLayoutInstance().find(t=>["d3-force","d3-force-3d"].includes(null==t?void 0:t.id))}validate(t){return!!this.context.layout&&(this.forceLayoutInstance?super.validate(t):(t8.warn("DragElementForce only works with d3-force or d3-force-3d layout"),!1))}moveElement(t,e){var n,r,i,o;return n=this,r=void 0,i=void 0,o=function*(){let n=this.forceLayoutInstance;this.context.graph.getNodeData(t).forEach((r,i)=>{let{x:o=0,y:a=0}=r.style||{};n&&au(n,"setFixedPosition",t[i],[...nc([+o,+a],e)])})},new(i||(i=Promise))(function(t,e){function a(t){try{l(o.next(t))}catch(t){e(t)}}function s(t){try{l(o.throw(t))}catch(t){e(t)}}function l(e){var n;e.done?t(e.value):((n=e.value)instanceof i?n:new i(function(t){t(n)})).then(a,s)}l((o=o.apply(n,r||[])).next())})}onDragStart(t){if(this.enable=this.validate(t),!this.enable)return;this.target=this.getSelectedNodeIDs([t.target.id]),this.hideEdge(),this.context.graph.frontElement(this.target);let e=this.forceLayoutInstance;e&&ac(e,"simulation").alphaTarget(.3).restart(),this.context.graph.getNodeData(this.target).forEach(t=>{let{x:n=0,y:r=0}=t.style||{};e&&au(e,"setFixedPosition",e2(t),[+n,+r])})}onDrag(t){if(!this.enable)return;let e=this.getDelta(t);this.moveElement(this.target,e)}onDragEnd(){let t=this.forceLayoutInstance;t&&ac(t,"simulation").alphaTarget(0),this.context.graph.getNodeData(this.target).forEach(e=>{t&&au(t,"setFixedPosition",e2(e),[null,null,null])})}}var ad=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(a,s)}l((r=r.apply(t,e||[])).next())})};class ap extends na{constructor(t,e){super(t,Object.assign({},ap.defaultOptions,e)),this.isZoomEvent=t=>!!(t.data&&"scale"in t.data),this.relatedEdgeToUpdate=new Set,this.zoom=this.context.graph.getZoom(),this.fixElementSize=t=>ad(this,void 0,void 0,function*(){if(!this.validate(t))return;let{graph:e}=this.context,{state:n,nodeFilter:r,edgeFilter:i,comboFilter:o}=this.options,a=(n?e.getElementDataByState("node",n):e.getNodeData()).filter(r),s=(n?e.getElementDataByState("edge",n):e.getEdgeData()).filter(i),l=(n?e.getElementDataByState("combo",n):e.getComboData()).filter(o),u=this.isZoomEvent(t)?this.zoom=Math.max(.01,Math.min(t.data.scale,10)):this.zoom,c=[...a,...l];c.length>0&&c.forEach(t=>this.fixNodeLike(t,u)),this.updateRelatedEdges(),s.length>0&&s.forEach(t=>this.fixEdge(t,u))}),this.cachedStyles=new Map,this.getOriginalFieldValue=(t,e,n)=>{var r;let i=this.cachedStyles.get(t)||[],o=(null===(r=i.find(t=>t.shape===e))||void 0===r?void 0:r.style)||{};return n in o||(o[n]=e.attributes[n],this.cachedStyles.set(t,[...i.filter(t=>t.shape!==e),{shape:e,style:o}])),o[n]},this.scaleEntireElement=(t,e,n)=>{e.setLocalScale(1/n);let r=this.cachedStyles.get(t)||[];r.push({shape:e}),this.cachedStyles.set(t,r)},this.scaleSpecificShapes=(t,e,n)=>{let r=function(t){let e=[],n=t=>{(null==t?void 0:t.children.length)&&t.children.forEach(t=>{e.push(t),n(t)})};return n(t),e}(t);(Array.isArray(n)?n:[n]).forEach(n=>{let{shape:i,fields:o}=n,a="function"==typeof i?i(r):t.getShape(i);if(a){if(!o){this.scaleEntireElement(t.id,a,e);return}o.forEach(n=>{let r=this.getOriginalFieldValue(t.id,a,n);(0,$.Z)(r)&&(a.style[n]=r/e)})}})},this.skipIfExceedViewport=t=>{let{viewport:e}=this.context;return!(null==e?void 0:e.isInViewport(t.getRenderBounds(),!1,30))},this.fixNodeLike=(t,e)=>{let n=e2(t),{element:r,model:i}=this.context,o=r.getElement(n);if(!o||this.skipIfExceedViewport(o))return;i.getRelatedEdgesData(n).forEach(t=>this.relatedEdgeToUpdate.add(e2(t)));let a=this.options[o.type];if(!a){this.scaleEntireElement(n,o,e);return}this.scaleSpecificShapes(o,e,a)},this.fixEdge=(t,e)=>{let n=e2(t),r=this.context.element.getElement(n);if(!r||this.skipIfExceedViewport(r))return;let i=this.options.edge;if(!i){r.style.transformOrigin="center",this.scaleEntireElement(n,r,e);return}this.scaleSpecificShapes(r,e,i)},this.updateRelatedEdges=()=>{let{element:t}=this.context;this.relatedEdgeToUpdate.size>0&&this.relatedEdgeToUpdate.forEach(e=>{let n=t.getElement(e);null==n||n.update({})}),this.relatedEdgeToUpdate.clear()},this.resetTransform=t=>ad(this,void 0,void 0,function*(){var e;null!==(e=t.data)&&void 0!==e&&e.firstRender||(this.options.reset?this.restoreCachedStyles():this.fixElementSize({data:{scale:this.zoom}}))}),this.bindEvents()}restoreCachedStyles(){if(this.cachedStyles.size>0){this.cachedStyles.forEach(t=>{t.forEach(({shape:t,style:e})=>{if(ru(e))t.setLocalScale(1);else{if(this.options.state)return;Object.entries(e).forEach(([e,n])=>t.style[e]=n)}})});let{graph:t,element:e}=this.context,n=Object.keys(Object.fromEntries(this.cachedStyles)).filter(e=>e&&"node"===t.getElementType(e));if(n.length>0){let r=new Set;n.forEach(e=>{t.getRelatedEdgesData(e).forEach(t=>r.add(e2(t)))}),r.forEach(t=>{let n=null==e?void 0:e.getElement(t);null==n||n.update({})})}}}bindEvents(){let{graph:t}=this.context;t.on(A.AFTER_DRAW,this.resetTransform),t.on(A.AFTER_TRANSFORM,this.fixElementSize)}unbindEvents(){let{graph:t}=this.context;t.off(A.AFTER_DRAW,this.resetTransform),t.off(A.AFTER_TRANSFORM,this.fixElementSize)}validate(t){if(this.destroyed)return!1;let{enable:e}=this.options;return(0,eu.Z)(e)?e(t):!!e}destroy(){this.unbindEvents(),super.destroy()}}ap.defaultOptions={enable:t=>t.data.scale<1,nodeFilter:()=>!0,edgeFilter:()=>!0,comboFilter:()=>!0,edge:[{shape:"key",fields:["lineWidth"]},{shape:"halo",fields:["lineWidth"]},{shape:"label"}],reset:!1};class af extends na{constructor(t,e){super(t,Object.assign({},af.defaultOptions,e)),this.focus=t=>{var e,n,r,i;return e=this,n=void 0,r=void 0,i=function*(){if(!this.validate(t))return;let{graph:e}=this.context;yield e.focusElement(t.target.id,this.options.animation)},new(r||(r=Promise))(function(t,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(e){var n;e.done?t(e.value):((n=e.value)instanceof r?n:new r(function(t){t(n)})).then(a,s)}l((i=i.apply(e,n||[])).next())})},this.bindEvents()}bindEvents(){let{graph:t}=this.context;this.unbindEvents(),nV.forEach(e=>{t.on(`${e}:${k.CLICK}`,this.focus)})}validate(t){if(this.destroyed)return!1;let{enable:e}=this.options;return(0,eu.Z)(e)?e(t):!!e}unbindEvents(){let{graph:t}=this.context;nV.forEach(e=>{t.off(`${e}:${k.CLICK}`,this.focus)})}destroy(){this.unbindEvents(),super.destroy()}}af.defaultOptions={animation:{easing:"ease-in",duration:500},enable:!0};class ag extends na{constructor(t,e){super(t,Object.assign({},ag.defaultOptions,e)),this.isFrozen=!1,this.toggleFrozen=t=>{this.isFrozen="dragstart"===t.type},this.hoverElement=t=>{if(!this.validate(t))return;let e=t.type===k.POINTER_ENTER;this.updateElementsState(t,e);let{onHover:n,onHoverEnd:r}=this.options;e?null==n||n(t):null==r||r(t)},this.updateElementsState=(t,e)=>{if(!this.options.state&&!this.options.inactiveState)return;let{graph:n}=this.context,{state:r,animation:i,inactiveState:o}=this.options,a=this.getActiveIds(t),s={};if(r&&Object.assign(s,this.getElementsState(a,r,e)),o){let t=e3(n.getData(),!0).filter(t=>!a.includes(t));Object.assign(s,this.getElementsState(t,o,e))}n.setElementState(s,i)},this.getElementsState=(t,e,n)=>{let{graph:r}=this.context,i={};return t.forEach(t=>{let o=r.getElementState(t);n?i[t]=o.includes(e)?o:[...o,e]:i[t]=o.filter(t=>t!==e)}),i},this.bindEvents()}bindEvents(){let{graph:t}=this.context;this.unbindEvents(),nV.forEach(e=>{t.on(`${e}:${k.POINTER_ENTER}`,this.hoverElement),t.on(`${e}:${k.POINTER_LEAVE}`,this.hoverElement)});let e=this.context.canvas.document;e.addEventListener(`${k.DRAG_START}`,this.toggleFrozen),e.addEventListener(`${k.DRAG_END}`,this.toggleFrozen)}getActiveIds(t){let{graph:e}=this.context,{degree:n,direction:r}=this.options,i=t.target.id;return n?nG(e,t.targetType,i,"function"==typeof n?n(t):n,r):[i]}validate(t){if(this.destroyed||this.isFrozen||o6(t.target)||this.context.graph.isCollapsingExpanding)return!1;let{enable:e}=this.options;return(0,eu.Z)(e)?e(t):!!e}unbindEvents(){let{graph:t}=this.context;nV.forEach(e=>{t.off(`${e}:${k.POINTER_ENTER}`,this.hoverElement),t.off(`${e}:${k.POINTER_LEAVE}`,this.hoverElement)});let e=this.context.canvas.document;e.removeEventListener(`${k.DRAG_START}`,this.toggleFrozen),e.removeEventListener(`${k.DRAG_END}`,this.toggleFrozen)}destroy(){this.unbindEvents(),super.destroy()}}ag.defaultOptions={animation:!1,enable:!0,degree:0,direction:"both",state:"active",inactiveState:void 0};class am extends nz{onPointerDown(t){if(!super.validate(t)||!super.isKeydown()||this.points)return;let{canvas:e}=this.context;this.pathShape=new F.y$({id:"g6-lasso-select",style:this.options.style}),e.appendChild(this.pathShape),this.points=[nW(t)]}onPointerMove(t){var e;if(!this.points)return;let{immediately:n,mode:r}=this.options;this.points.push(nW(t)),null===(e=this.pathShape)||void 0===e||e.setAttribute("d",function(t,e=!0){let n=[];return t.forEach((t,e)=>{n.push([0===e?"M":"L",...t])}),e&&n.push(["Z"]),n}(this.points)),n&&"default"===r&&this.points.length>2&&super.updateElementsStates(this.points)}onPointerUp(){if(this.points){if(this.points.length<2){this.clearLasso();return}super.updateElementsStates(this.points),this.clearLasso()}}clearLasso(){var t;null===(t=this.pathShape)||void 0===t||t.remove(),this.pathShape=void 0,this.points=void 0}}class av extends na{constructor(t,e){super(t,Object.assign({},av.defaultOptions,e)),this.hiddenShapes=[],this.isVisible=!0,this.setElementsVisibility=(t,e,n)=>{t.filter(Boolean).forEach(t=>{"hidden"!==e||t.isVisible()?"visible"===e&&this.hiddenShapes.includes(t)?this.hiddenShapes.splice(this.hiddenShapes.indexOf(t),1):nr(t,e,n):this.hiddenShapes.push(t)})},this.filterShapes=(t,e)=>{if((0,eu.Z)(e))return n=>!e(t,n);let n=null==e?void 0:e[t];return t=>!t.className||!(null==n?void 0:n.includes(t.className))},this.hideShapes=t=>{if(!this.validate(t)||!this.isVisible)return;let{element:e}=this.context,{shapes:n={}}=this.options;this.setElementsVisibility(e.getNodes(),"hidden",this.filterShapes("node",n)),this.setElementsVisibility(e.getEdges(),"hidden",this.filterShapes("edge",n)),this.setElementsVisibility(e.getCombos(),"hidden",this.filterShapes("combo",n)),this.isVisible=!1},this.showShapes=at(t=>{if(!this.validate(t)||this.isVisible)return;let{element:e}=this.context;this.setElementsVisibility(e.getNodes(),"visible"),this.setElementsVisibility(e.getEdges(),"visible"),this.setElementsVisibility(e.getCombos(),"visible"),this.isVisible=!0},this.options.debounce),this.bindEvents()}bindEvents(){let{graph:t}=this.context;t.on(A.BEFORE_TRANSFORM,this.hideShapes),t.on(A.AFTER_TRANSFORM,this.showShapes)}unbindEvents(){let{graph:t}=this.context;t.off(A.BEFORE_TRANSFORM,this.hideShapes),t.off(A.AFTER_TRANSFORM,this.showShapes)}validate(t){if(this.destroyed)return!1;let{enable:e}=this.options;return(0,eu.Z)(e)?e(t):!!e}update(t){this.unbindEvents(),super.update(t),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy()}}av.defaultOptions={enable:!0,debounce:200,shapes:t=>"node"===t};var ay=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(a,s)}l((r=r.apply(t,e||[])).next())})};class ab extends na{constructor(t,e){super(t,Object.assign({},ab.defaultOptions,e)),this.onWheel=t=>ay(this,void 0,void 0,function*(){this.options.preventDefault&&t.preventDefault();let e=t.deltaX,n=t.deltaY;yield this.scroll([-e,-n],t)}),this.shortcut=new nF(t.graph),this.bindEvents()}update(t){super.update(t),this.bindEvents()}bindEvents(){var t,e;let{trigger:n}=this.options;if(this.shortcut.unbindAll(),(0,tQ.Z)(n)){null===(t=this.graphDom)||void 0===t||t.removeEventListener(k.WHEEL,this.onWheel);let{up:e=[],down:r=[],left:i=[],right:o=[]}=n;this.shortcut.bind(e,t=>this.scroll([0,-10],t)),this.shortcut.bind(r,t=>this.scroll([0,10],t)),this.shortcut.bind(i,t=>this.scroll([-10,0],t)),this.shortcut.bind(o,t=>this.scroll([10,0],t))}else null===(e=this.graphDom)||void 0===e||e.addEventListener(k.WHEEL,this.onWheel,{passive:!1})}get graphDom(){return this.context.graph.getCanvas().getContextService().getDomElement()}formatDisplacement(t){let{sensitivity:e}=this.options;return t=nd(t,e),t=this.clampByDirection(t),t=this.clampByRange(t)}clampByDirection([t,e]){let{direction:n}=this.options;return"x"===n?e=0:"y"===n&&(t=0),[t,e]}clampByRange([t,e]){let{viewport:n,canvas:r}=this.context,[i,o]=r.getSize(),[a,s,l,u]=ev(this.options.range),c=eS(ew(n.getCanvasCenter()),[o*a,i*s,o*l,i*u]),h=nh(n.getViewportCenter(),[t,e,0]);if(!ek(h,c)){let{min:[n,r],max:[i,o]}=c;(h[0]<n&&t>0||h[0]>i&&t<0)&&(t=0),(h[1]<r&&e>0||h[1]>o&&e<0)&&(e=0)}return[t,e]}scroll(t,e){return ay(this,void 0,void 0,function*(){if(!this.validate(e))return;let{onFinish:n}=this.options,r=this.context.graph,i=this.formatDisplacement(t);yield r.translateBy(i,!1),null==n||n()})}validate(t){if(this.destroyed)return!1;let{enable:e}=this.options;return(0,eu.Z)(e)?e(t):!!e}destroy(){var t;this.shortcut.destroy(),null===(t=this.graphDom)||void 0===t||t.removeEventListener(k.WHEEL,this.onWheel),super.destroy()}}ab.defaultOptions={enable:!0,sensitivity:1,preventDefault:!0,range:1/0};var ax=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(a,s)}l((r=r.apply(t,e||[])).next())})};class aE extends na{constructor(t,e){super(t,Object.assign({},aE.defaultOptions,e)),this.zoom=(t,e,n)=>ax(this,void 0,void 0,function*(){let r;if(!this.validate(e))return;let{graph:i}=this.context;"viewport"in e&&(r=nT(e.viewport));let{sensitivity:o,onFinish:a}=this.options,s=1+(0,Q.Z)(t,-50,50)*o/100,l=i.getZoom();yield i.zoomTo(l*s,n,r),null==a||a()}),this.onReset=()=>ax(this,void 0,void 0,function*(){yield this.context.graph.zoomTo(1,this.options.animation)}),this.preventDefault=t=>{this.options.preventDefault&&t.preventDefault()},this.shortcut=new nF(t.graph),this.bindEvents()}update(t){super.update(t),this.bindEvents()}bindEvents(){var t;let{trigger:e}=this.options;if(this.shortcut.unbindAll(),Array.isArray(e)&&(null===(t=this.context.canvas.getContainer())||void 0===t||t.addEventListener(k.WHEEL,this.preventDefault),this.shortcut.bind([...e,k.WHEEL],t=>{let{deltaX:e,deltaY:n}=t;this.zoom(-(null!=n?n:e),t,!1)})),"object"==typeof e){let{zoomIn:t=[],zoomOut:n=[],reset:r=[]}=e;this.shortcut.bind(t,t=>this.zoom(10,t,this.options.animation)),this.shortcut.bind(n,t=>this.zoom(-10,t,this.options.animation)),this.shortcut.bind(r,this.onReset)}}validate(t){if(this.destroyed)return!1;let{enable:e}=this.options;return(0,eu.Z)(e)?e(t):!!e}destroy(){var t;this.shortcut.destroy(),null===(t=this.context.canvas.getContainer())||void 0===t||t.removeEventListener(k.WHEEL,this.preventDefault),super.destroy()}}aE.defaultOptions={animation:{duration:200},enable:!0,sensitivity:1,trigger:[],preventDefault:!0};var aw=n(77695),aS=n(67534),aM=n(92703),ak=n(71166),aO=n(32970),aC=n(24800),aA=n(19535),aT=n(55628),aP=n(74243),aL=n(32062),aR=n(20710),aD=n(87188),aN=n(88292),aI=n(15886),aZ=new Map;function aj(t,e,n){return void 0===n&&(n=128),function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=e?e.apply(this,r):r[0];aZ.has(t)||aZ.set(t,function(t){var e,n,r,i=t||1;function o(t,o){++e>i&&(r=n,a(1),++e),n[t]=o}function a(t){e=0,n=Object.create(null),t||(r=Object.create(null))}return a(),{clear:a,has:function(t){return void 0!==n[t]||void 0!==r[t]},get:function(t){var e=n[t];return void 0!==e?e:void 0!==(e=r[t])?(o(t,e),e):void 0},set:function(t,e){void 0!==n[t]?n[t]=e:o(t,e)}}}(n));var a=aZ.get(t);if(a.has(o))return a.get(o);var s=t.apply(this,r);return a.set(o,s),s}}class a_ extends aa{constructor(){super(...arguments),this.id="fishbone"}getRoot(){let t=this.context.model.getRootsData();if(!ru(t)&&!(t.length>2))return t[0]}formatSize(t){let e="function"==typeof t?t:()=>t;return t=>n6(e(t))}doLayout(t,e){let{hGap:n,getRibSep:r,vGap:i,nodeSize:o,height:a}=e,{model:s}=this.context,l=this.formatSize(o),u=l(t)[0]+r(t),c=(t,e=0)=>{var r;return e+=n*((t.children||[]).length+1),null===(r=t.children)||void 0===r||r.forEach(t=>{var n;null===(n=s.getNodeLikeDatum(t).children)||void 0===n||n.forEach(t=>{e=c(s.getNodeLikeDatum(t),e)})}),e},h=t=>{if(1===t.depth)return u;let e=s.getParentData(t.id,"tree");if(az(t)){let r=s.getParentData(e.id,"tree"),o=f(t)-f(r);return h(e)+o*n/i}{let n=(e.children||[]).indexOf(t.id),r=s.getNodeData((e.children||[]).slice(n));return d(e)-r.reduce((t,e)=>t+c(e),0)-l(e)[0]/2}},d=aj(t=>{if(aF(t))return l(t)[0]/2;let e=s.getParentData(t.id,"tree");if(az(t))return h(t)+c(t)+l(t)[0]/2;{let r=f(t)-f(e);return h(t)+n/i*r}},t=>t.id),p=t=>f(s.getParentData(t,"tree")),f=aj(t=>{if(aF(t))return a/2;if(az(t)){let e=s.getParentData(t.id,"tree"),n=e.children.indexOf(t.id);if(0===n)return p(e.id)+i;let r=s.getNodeLikeDatum(e.children[n-1]);return ru(r.children)?f(r)+i:Math.max(...s.getDescendantsData(r.id).map(t=>az(t)?p(t.id):f(t)))+i}{if(ru(t.children))return p(t.id)+i;let e=s.getNodeLikeDatum(t.children.slice(-1)[0]);if(ru(e.children))return f(e)+i;let n=s.getDescendantsData(t.id).slice(-1)[0];return(az(n)?p(n.id):f(n))+i}},t=>t.id),g=0,m={nodes:[],edges:[]},v=t=>{var e;null===(e=t.children)||void 0===e||e.forEach(t=>v(s.getNodeLikeDatum(t)));let n=f(t),i=d(t);if(m.nodes.push({id:t.id,x:i,y:n}),aF(t))return;let o=s.getRelatedEdgesData(t.id,"in")[0],a=[h(t),az(t)?n:p(t.id)];m.edges.push({id:e2(o),controlPoints:[a],relatedNodeId:t.id}),g=Math.max(g,i+r(t)),1===t.depth&&(u=g)};return v(t),m}placeAlterative(t,e){let n=(e.children||[]).filter((t,e)=>e%2!=0);if(0===n.length)return t;let{model:r}=this.context,i=t.nodes.find(t=>t.id===e.id).y,o=t=>{let e=r.getAncestorsData(t,"tree");if(ru(e))return!1;let i=1===e.length?t:e[e.length-2].id;return n.includes(i)};t.nodes.forEach(t=>{o(t.id)&&(t.y=2*i-t.y)}),t.edges.forEach(t=>{o(t.relatedNodeId)&&(t.controlPoints=t.controlPoints.map(t=>[t[0],2*i-t[1]]))})}rightToLeft(t,e){return t.nodes.forEach(t=>t.x=e.width-t.x),t.edges.forEach(t=>{t.controlPoints=t.controlPoints.map(t=>[e.width-t[0],t[1]])}),t}execute(t,e){var n,r,i,o;return n=this,r=void 0,i=void 0,o=function*(){let n=Object.assign(Object.assign(Object.assign({},a_.defaultOptions),this.options),e),{direction:r,nodeSize:i}=n,o=this.getRoot();if(!o)return t;let a=this.formatSize(i);n.vGap||(n.vGap=Math.max(...(t.nodes||[]).map(t=>a(t)[1]))),n.hGap||(n.hGap=Math.max(...(t.nodes||[]).map(t=>a(t)[0])));let s=this.doLayout(o,n);this.placeAlterative(s,o),"RL"===r&&(s=this.rightToLeft(s,n));let{model:l}=this.context,u=[],c=[];return s.nodes.forEach(t=>{let{id:e,x:n,y:r}=t,i=l.getNodeLikeDatum(e);u.push(aB(i,{x:n,y:r}))}),s.edges.forEach(t=>{let{id:e,controlPoints:n}=t,r=l.getEdgeDatum(e);c.push(aB(r,{controlPoints:n}))}),{nodes:u,edges:c}},new(i||(i=Promise))(function(t,e){function a(t){try{l(o.next(t))}catch(t){e(t)}}function s(t){try{l(o.throw(t))}catch(t){e(t)}}function l(e){var n;e.done?t(e.value):((n=e.value)instanceof i?n:new i(function(t){t(n)})).then(a,s)}l((o=o.apply(n,r||[])).next())})}}a_.defaultOptions={direction:"RL",getRibSep:()=>60};let aB=(t,e)=>Object.assign(Object.assign({},t),{style:Object.assign(Object.assign({},t.style||{}),e)}),aF=t=>0===t.depth,az=t=>(t.depth||(t.depth=0))%2==0;class aW extends aa{constructor(){super(...arguments),this.id="snake"}formatSize(t,e){let n="function"==typeof e?e:()=>e;return t.reduce((t,e)=>{let[r,i]=n6(n(e))||[0,0];return[Math.max(t[0],r),Math.max(t[1],i)]},[0,0])}validate(t){let{nodes:e=[],edges:n=[]}=t,r={},i={},o={};e.forEach(t=>{r[t.id]=0,i[t.id]=0,o[t.id]=[]}),n.forEach(t=>{r[t.target]++,i[t.source]++,o[t.source].push(t.target)});let a=new Set,s=t=>{a.has(t)||(a.add(t),o[t].forEach(s))};if(s(e[0].id),a.size!==e.length)return!1;let l=e.filter(t=>0===r[t.id]),u=e.filter(t=>0===i[t.id]);return 1===l.length&&1===u.length&&e.filter(t=>1===r[t.id]&&1===i[t.id]).length===e.length-2}execute(t,e){var n,r,i,o;return n=this,r=void 0,i=void 0,o=function*(){var n;if(!this.validate(t))return t;let{nodeSize:r,padding:i,sortBy:o,cols:a,colGap:s,rowGap:l,clockwise:u,width:c,height:h}=Object.assign({},aW.defaultOptions,this.options,e),[d,p,f,g]=ev(i),m=this.formatSize(t.nodes||[],r),v=Math.ceil((t.nodes||[]).length/a),y=s||(c-g-p-a*m[0])/(a-1),b=l||(h-d-f-v*m[1])/(v-1);return(b===1/0||b<0)&&(b=0),(y===1/0||y<0)&&(y=0),{nodes:((o?null===(n=t.nodes)||void 0===n?void 0:n.sort(o):function(t){let{nodes:e=[],edges:n=[]}=t,r={},i={};e.forEach(t=>{r[t.id]=0,i[t.id]=[]}),n.forEach(t=>{r[t.target]++,i[t.source].push(t.target)});let o=[],a=[];for(e.forEach(t=>{0===r[t.id]&&o.push(t.id)});o.length>0;){let t=o.shift(),n=e.find(e=>e.id===t);a.push(n),i[t].forEach(t=>{r[t]--,0===r[t]&&o.push(t)})}return a}(t))||[]).map((t,e)=>{let n=Math.floor(e/a),r=e%a,i=g+(u?n%2==0?r:a-1-r:n%2==0?a-1-r:r)*(m[0]+y)+m[0]/2,o=d+n*(m[1]+b)+m[1]/2;return{id:t.id,style:{x:i,y:o}}})}},new(i||(i=Promise))(function(t,e){function a(t){try{l(o.next(t))}catch(t){e(t)}}function s(t){try{l(o.throw(t))}catch(t){e(t)}}function l(e){var n;e.done?t(e.value):((n=e.value)instanceof i?n:new i(function(t){t(n)})).then(a,s)}l((o=o.apply(n,r||[])).next())})}}aW.defaultOptions={padding:0,cols:5,clockwise:!0};var aV=n(75354),aH=n(5428),aG=function(t,e,n){if(!(0,ec.Z)(t)&&!(0,aH.Z)(t))return t;var r=n;return(0,aV.Z)(t,function(t,n){r=e(r,t,n)}),r},a$=function(t,e){return aG(t,function(t,n,r){return e.includes(r)||(t[r]=n),t},{})};class aU extends no{}function aq(t,e=!0,n){let r=document.createElement("div");return r.setAttribute("class",`g6-${t}`),Object.assign(r.style,{position:"absolute",display:"block"}),e&&Object.assign(r.style,{position:"unset",gridArea:"1 / 1 / 2 / 2",inset:"0px",height:"100%",width:"100%",overflow:"hidden",pointerEvents:"none"}),n&&Object.assign(r.style,n),r}function aK(t,e="div",n={},r="",i=document.body){let o=document.getElementById(t);o&&o.remove();let a=document.createElement(e);return a.innerHTML=r,a.id=t,Object.assign(a.style,n),i.appendChild(a),a}class aY extends aU{constructor(t,e){super(t,Object.assign({},aY.defaultOptions,e)),this.$element=aq("background"),this.context.canvas.getContainer().prepend(this.$element),this.update(e)}update(t){var e,n,r,i;let o=Object.create(null,{update:{get:()=>super.update}});return e=this,n=void 0,r=void 0,i=function*(){o.update.call(this,t),Object.assign(this.$element.style,a$(this.options,["key","type"]))},new(r||(r=Promise))(function(t,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(e){var n;e.done?t(e.value):((n=e.value)instanceof r?n:new r(function(t){t(n)})).then(a,s)}l((i=i.apply(e,n||[])).next())})}destroy(){super.destroy(),this.$element.remove()}}function aX(t,e,n,r,i,o){let a=n-t,s=r-e,l=i-t,u=o-e,c=l*a+u*s,h=0;h=c<=0?0:(c=(l=a-l)*a+(u=s-u)*s)<=0?0:c*c/(a*a+s*s);let d=l*l+u*u-h;return d<0?0:d}function aJ(t,e,n,r){return(t-n)*(t-n)+(e-r)*(e-r)}function aQ(t){let e=Math.min(t.x1,t.x2),n=Math.max(t.x1,t.x2),r=Math.min(t.y1,t.y2),i=Math.max(t.y1,t.y2);return{x:e,y:r,x2:n,y2:i,width:n-e,height:i-r}}aY.defaultOptions={transition:"background 0.5s",backgroundSize:"cover"};class a0{constructor(t,e,n,r){this.x1=t,this.y1=e,this.x2=n,this.y2=r}equals(t){return this.x1===t.x1&&this.y1===t.y1&&this.x2===t.x2&&this.y2===t.y2}draw(t){t.moveTo(this.x1,this.y1),t.lineTo(this.x2,this.y2)}toString(){return`Line(from=(${this.x1},${this.y1}),to=(${this.x2},${this.y2}))`}static from(t){return new a0(t.x1,t.y1,t.x2,t.y2)}cuts(t,e){return this.y1!==this.y2&&(!(e<this.y1)||!(e<=this.y2))&&(!(e>this.y1)||!(e>=this.y2))&&(!(t>this.x1)||!(t>=this.x2))&&(t<this.x1&&t<=this.x2||t<=this.x1+(e-this.y1)*(this.x2-this.x1)/(this.y2-this.y1))}distSquare(t,e){return aX(this.x1,this.y1,this.x2,this.y2,t,e)}ptClose(t,e,n){if(this.x1<this.x2){if(t<this.x1-n||t>this.x2+n)return!1}else if(t<this.x2-n||t>this.x1+n)return!1;if(this.y1<this.y2){if(e<this.y1-n||e>this.y2+n)return!1}else if(e<this.y2-n||e>this.y1+n)return!1;return!0}}(y=N||(N={}))[y.POINT=1]="POINT",y[y.PARALLEL=2]="PARALLEL",y[y.COINCIDENT=3]="COINCIDENT",y[y.NONE=4]="NONE";class a1{constructor(t,e=0,n=0){this.state=t,this.x=e,this.y=n}}function a2(t,e){let n=(e.x2-e.x1)*(t.y1-e.y1)-(e.y2-e.y1)*(t.x1-e.x1),r=(t.x2-t.x1)*(t.y1-e.y1)-(t.y2-t.y1)*(t.x1-e.x1),i=(e.y2-e.y1)*(t.x2-t.x1)-(e.x2-e.x1)*(t.y2-t.y1);if(i){let e=n/i,o=r/i;return 0<=e&&e<=1&&0<=o&&o<=1?new a1(N.POINT,t.x1+e*(t.x2-t.x1),t.y1+e*(t.y2-t.y1)):new a1(N.NONE)}return new a1(0===n||0===r?N.COINCIDENT:N.PARALLEL)}function a3(t,e){let n=(e.x2-e.x1)*(t.y1-e.y1)-(e.y2-e.y1)*(t.x1-e.x1),r=(t.x2-t.x1)*(t.y1-e.y1)-(t.y2-t.y1)*(t.x1-e.x1),i=(e.y2-e.y1)*(t.x2-t.x1)-(e.x2-e.x1)*(t.y2-t.y1);if(i){let t=n/i,e=r/i;if(0<=t&&t<=1&&0<=e&&e<=1)return t}return Number.POSITIVE_INFINITY}function a6(t,e,n){let r=new Set;return t.width<=0?(r.add(I.LEFT),r.add(I.RIGHT)):e<t.x?r.add(I.LEFT):e>t.x+t.width&&r.add(I.RIGHT),t.height<=0?(r.add(I.TOP),r.add(I.BOTTOM)):n<t.y?r.add(I.TOP):n>t.y+t.height&&r.add(I.BOTTOM),r}function a5(t,e){let n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=Array.from(a6(t,i,o));if(0===a.length)return!0;let s=a6(t,n,r);for(;0!==s.size;){for(let t of a)if(s.has(t))return!1;if(s.has(I.RIGHT)||s.has(I.LEFT)){let e=t.x;s.has(I.RIGHT)&&(e+=t.width),r+=(e-n)*(o-r)/(i-n),n=e}else{let e=t.y;s.has(I.BOTTOM)&&(e+=t.height),n+=(e-r)*(i-n)/(o-r),r=e}s=a6(t,n,r)}return!0}(b=I||(I={}))[b.LEFT=0]="LEFT",b[b.TOP=1]="TOP",b[b.RIGHT=2]="RIGHT",b[b.BOTTOM=3]="BOTTOM";class a4{constructor(t,e,n,r){this.x=t,this.y=e,this.width=n,this.height=r}get x2(){return this.x+this.width}get y2(){return this.y+this.height}get cx(){return this.x+this.width/2}get cy(){return this.y+this.height/2}get radius(){return Math.max(this.width,this.height)/2}static from(t){return new a4(t.x,t.y,t.width,t.height)}equals(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height}clone(){return new a4(this.x,this.y,this.width,this.height)}add(t){let e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),r=Math.max(this.x2,t.x+t.width),i=Math.max(this.y2,t.y+t.height);this.x=e,this.y=n,this.width=r-e,this.height=i-n}addPoint(t){let e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),r=Math.max(this.x2,t.x),i=Math.max(this.y2,t.y);this.x=e,this.y=n,this.width=r-e,this.height=i-n}toString(){return`Rectangle[x=${this.x}, y=${this.y}, w=${this.width}, h=${this.height}]`}draw(t){t.rect(this.x,this.y,this.width,this.height)}containsPt(t,e){return t>=this.x&&t<=this.x2&&e>=this.y&&e<=this.y2}get area(){return this.width*this.height}intersects(t){return!(this.area<=0)&&!(t.width<=0)&&!(t.height<=0)&&t.x+t.width>this.x&&t.y+t.height>this.y&&t.x<this.x2&&t.y<this.y2}distSquare(t,e){if(this.containsPt(t,e))return 0;let n=a6(this,t,e);return n.has(I.TOP)?n.has(I.LEFT)?aJ(t,e,this.x,this.y):n.has(I.RIGHT)?aJ(t,e,this.x2,this.y):(this.y-e)*(this.y-e):n.has(I.BOTTOM)?n.has(I.LEFT)?aJ(t,e,this.x,this.y2):n.has(I.RIGHT)?aJ(t,e,this.x2,this.y2):(e-this.y2)*(e-this.y2):n.has(I.LEFT)?(this.x-t)*(this.x-t):n.has(I.RIGHT)?(t-this.x2)*(t-this.x2):0}}class a8{constructor(t,e,n){this.cx=t,this.cy=e,this.radius=n}get x(){return this.cx-this.radius}get x2(){return this.cx+this.radius}get width(){return 2*this.radius}get y(){return this.cy-this.radius}get y2(){return this.cy+this.radius}get height(){return 2*this.radius}static from(t){return new a8(t.cx,t.cy,t.radius)}containsPt(t,e){return aJ(this.cx,this.cy,t,e)<this.radius*this.radius}distSquare(t,e){let n=aJ(this.cx,this.cy,t,e);if(n<this.radius*this.radius)return 0;let r=Math.sqrt(n)-this.radius;return r*r}draw(t){t.ellipse(this.cx,this.cy,this.radius,this.radius,0,0,2*Math.PI)}}class a9{constructor(t,e=0,n=0,r=0,i=0,o=10,a=10,s=new Float32Array(Math.max(0,o*a)).fill(0)){this.pixelGroup=t,this.i=e,this.j=n,this.pixelX=r,this.pixelY=i,this.width=o,this.height=a,this.area=s}createSub(t,e){return new a9(this.pixelGroup,t.x,t.y,e.x,e.y,t.width,t.height)}static fromPixelRegion(t,e){return new a9(e,0,0,t.x,t.y,Math.ceil(t.width/e),Math.ceil(t.height/e))}copy(t,e){return new a9(this.pixelGroup,this.scaleX(e.x),this.scaleY(e.y),e.x,e.y,t.width,t.height,t.area)}boundX(t){return t<this.i?this.i:t>=this.width?this.width-1:t}boundY(t){return t<this.j?this.j:t>=this.height?this.height-1:t}scaleX(t){return this.boundX(Math.floor((t-this.pixelX)/this.pixelGroup))}scaleY(t){return this.boundY(Math.floor((t-this.pixelY)/this.pixelGroup))}scale(t){let e=this.scaleX(t.x),n=this.scaleY(t.y);return new a4(e,n,this.boundX(Math.ceil((t.x+t.width-this.pixelX)/this.pixelGroup))-e,this.boundY(Math.ceil((t.y+t.height-this.pixelY)/this.pixelGroup))-n)}invertScaleX(t){return Math.round(t*this.pixelGroup+this.pixelX)}invertScaleY(t){return Math.round(t*this.pixelGroup+this.pixelY)}addPadding(t,e){let n=Math.ceil(e/this.pixelGroup),r=this.boundX(t.x-n),i=this.boundY(t.y-n);return new a4(r,i,this.boundX(t.x2+n)-r,this.boundY(t.y2+n)-i)}get(t,e){return t<0||e<0||t>=this.width||e>=this.height?Number.NaN:this.area[t+e*this.width]}inc(t,e,n){t<0||e<0||t>=this.width||e>=this.height||(this.area[t+e*this.width]+=n)}set(t,e,n){t<0||e<0||t>=this.width||e>=this.height||(this.area[t+e*this.width]=n)}incArea(t,e){if(t.width<=0||t.height<=0||0===e)return;let n=this.width,r=t.width,i=Math.max(0,t.i),o=Math.max(0,t.j),a=Math.min(t.i+t.width,n),s=Math.min(t.j+t.height,this.height);if(!(s<=0)&&!(a<=0)&&!(i>=n)&&!(s>=this.height))for(let l=o;l<s;l++){let o=(l-t.j)*r,s=l*n;for(let n=i;n<a;n++){let r=t.area[n-t.i+o];0!==r&&(this.area[n+s]+=e*r)}}}fill(t){this.area.fill(t)}fillArea(t,e){let n=t.x+t.y*this.width;for(let r=0;r<t.height;r++){let i=n+r*this.width;this.area.fill(e,i,i+t.width)}}fillHorizontalLine(t,e,n,r){let i=t+e*this.width;this.area.fill(r,i,i+n)}fillVerticalLine(t,e,n,r){let i=t+e*this.width;for(let t=0;t<n;t++)this.area[i+t*this.width]=r}clear(){this.area.fill(0)}toString(){let t="";for(let e=0;e<this.height;e++){let n=e*this.width;for(let e=0;e<this.width;e++)t+=this.area[n+e].toFixed(1).padStart(6)+" ";t+="\n"}return t}draw(t,e=!0){if(this.width<=0||this.height<=0)return;t.save(),e&&t.translate(this.pixelX,this.pixelY);let n=this.area.reduce((t,e)=>Math.min(t,e),Number.POSITIVE_INFINITY),r=this.area.reduce((t,e)=>Math.max(t,e),Number.NEGATIVE_INFINITY),i=t=>(t-n)/(r-n);t.scale(this.pixelGroup,this.pixelGroup);for(let e=0;e<this.width;e++)for(let n=0;n<this.height;n++){let r=this.area[e+n*this.width];t.fillStyle=`rgba(0, 0, 0, ${i(r)})`,t.fillRect(e,n,1,1)}t.restore()}drawThreshold(t,e,n=!0){if(!(this.width<=0)&&!(this.height<=0)){t.save(),n&&t.translate(this.pixelX,this.pixelY),t.scale(this.pixelGroup,this.pixelGroup);for(let n=0;n<this.width;n++)for(let r=0;r<this.height;r++){let i=this.area[n+r*this.width];t.fillStyle=i>e?"black":"white",t.fillRect(n,r,1,1)}t.restore()}}}function a7(t,e){let n=t=>({x:t.x-e,y:t.y-e,width:t.width+2*e,height:t.height+2*e});return Array.isArray(t)?t.map(n):n(t)}function st(t,e,n){return se(Object.assign(aQ(t),{distSquare:(e,n)=>aX(t.x1,t.y1,t.x2,t.y2,e,n)}),e,n)}function se(t,e,n){let r=a7(t,n),i=e.scale(r),o=e.createSub(i,r);return function(t,e,n,r){let i=n*n;for(let o=0;o<t.height;o++)for(let a=0;a<t.width;a++){let s=r(e.invertScaleX(t.i+a),e.invertScaleY(t.j+o));if(0===s){t.set(a,o,i);continue}if(s<i){let e=n-Math.sqrt(s);t.set(a,o,e*e)}}}(o,e,n,(e,n)=>t.distSquare(e,n)),o}function sn(t,e){return e.some(e=>e.containsPt(t.x,t.y))}function sr(t,e){return e.some(e=>{var n,r,i,o;return n=e.x1,r=e.y1,1e-6>aJ(n,r,t.x,t.y)||(i=e.x2,o=e.y2,1e-6>aJ(i,o,t.x,t.y))})}function si(t,e){let n=Number.POSITIVE_INFINITY,r=null;for(let i of t){if(!a5(i,e))continue;let t=function(t,e){let n=Number.POSITIVE_INFINITY,r=0;function i(t,i,o,a){let s=a3(e,new a0(t,i,o,a));(s=Math.abs(s-.5))>=0&&s<=1&&(r++,s<n&&(n=s))}return(i(t.x,t.y,t.x2,t.y),i(t.x,t.y,t.x,t.y2),r>1)?n:(i(t.x,t.y2,t.x2,t.y2),r>1)?n:(i(t.x2,t.y,t.x2,t.y2),0===r)?-1:n}(i,e);t>=0&&t<n&&(r=i,n=t)}return r}function so(t,e,n,r){let i=n.top,o=n.left,a=n.bottom,s=n.right;if(r){if(o.state===N.POINT){if(i.state===N.POINT)return{x:t.x-e,y:t.y-e};if(a.state===N.POINT)return{x:t.x-e,y:t.y2+e};let n=t.width*t.height;return t.width*((o.y-t.y+(s.y-t.y))*.5)<.5*n?o.y>s.y?{x:t.x-e,y:t.y-e}:{x:t.x2+e,y:t.y-e}:o.y<s.y?{x:t.x-e,y:t.y2+e}:{x:t.x2+e,y:t.y2+e}}if(s.state===N.POINT){if(i.state===N.POINT)return{x:t.x2+e,y:t.y-e};if(a.state===N.POINT)return{x:t.x2+e,y:t.y2+e}}let n=t.height*t.width;return t.height*((i.x-t.x+(s.x-t.x))*.5)<.5*n?i.x>a.x?{x:t.x-e,y:t.y-e}:{x:t.x-e,y:t.y2+e}:i.x<a.x?{x:t.x2+e,y:t.y-e}:{x:t.x2+e,y:t.y2+e}}if(o.state===N.POINT){if(i.state===N.POINT)return{x:t.x2+e,y:t.y2+e};if(a.state===N.POINT)return{x:t.x2+e,y:t.y-e};let n=t.height*t.width;return t.width*((o.y-t.y+(s.y-t.y))*.5)<.5*n?o.y>s.y?{x:t.x2+e,y:t.y2+e}:{x:t.x-e,y:t.y2+e}:o.y<s.y?{x:t.x2+e,y:t.y-e}:{x:t.x-e,y:t.y-e}}if(s.state===N.POINT){if(i.state===N.POINT)return{x:t.x-e,y:t.y2+e};if(a.state===N.POINT)return{x:t.x-e,y:t.y-e}}let l=t.height*t.width;return t.height*((i.x-t.x+(s.x-t.x))*.5)<.5*l?i.x>a.x?{x:t.x2+e,y:t.y2+e}:{x:t.x2+e,y:t.y-e}:i.x<a.x?{x:t.x-e,y:t.y2+e}:{x:t.x-e,y:t.y-e}}class sa{constructor(t=[],e=!0){this.points=t,this.closed=e}get(t){let e=this.points.length;return t<0?this.closed?this.get(t+e):this.points[0]:t>=e?this.closed?this.get(t-e):this.points[e-1]:this.points[t]}get length(){return this.points.length}toString(t=1/0){let e=this.points;if(0===e.length)return"";let n="function"==typeof t?t:function(t){if(!Number.isFinite(t))return t=>t;if(0===t)return Math.round;let e=Math.pow(10,t);return t=>Math.round(t*e)/e}(t),r="M";for(let t of e)r+=`${n(t.x)},${n(t.y)} L`;return r=r.slice(0,-1),this.closed&&(r+=" Z"),r}draw(t){let e=this.points;if(0!==e.length){for(let n of(t.beginPath(),t.moveTo(e[0].x,e[0].y),e))t.lineTo(n.x,n.y);this.closed&&t.closePath()}}sample(t){return(function(t=8){return e=>{let n=t,r=e.length;if(n>1)for(r=Math.floor(e.length/n);r<3&&n>1;)n-=1,r=Math.floor(e.length/n);let i=[];for(let t=0,o=0;o<r;o++,t+=n)i.push(e.get(t));return new sa(i)}})(t)(this)}simplify(t){return(function(t=0){return e=>{if(t<0||e.length<3)return e;let n=[],r=0,i=t*t;for(;r<e.length;){let t=r+1;for(;function(t,e,n,r){if(!(t.closed?n<t.length:n<t.length-1))return!1;let i=t.get(e),o=t.get(n+1);for(let a=e+1;a<=n;a++){let e=t.get(a);if(aX(i.x,i.y,o.x,o.y,e.x,e.y)>r)return!1}return!0}(e,r,t,i);)t++;n.push(e.get(r)),r=t}return new sa(n)}})(t)(this)}bSplines(t){return(function(t=6){function e(t,e,n){let r=0,i=0;for(let o=-2;o<=1;o++){let a=t.get(e+o),s=function(t,e){switch(t){case -2:return(((-e+3)*e-3)*e+1)/6;case -1:return((3*e-6)*e*e+4)/6;case 0:return(((-3*e+3)*e+3)*e+1)/6;case 1:return e*e*e/6;default:throw Error("unknown error")}}(o,n);r+=s*a.x,i+=s*a.y}return{x:r,y:i}}return n=>{if(n.length<3)return n;let r=[],i=n.closed,o=n.length+3-1+(i?0:2);r.push(e(n,2-(i?0:2),0));for(let a=2-(i?0:2);a<o;a++)for(let i=1;i<=t;i++)r.push(e(n,a,i/t));return new sa(r)}})(t)(this)}apply(t){return t(this)}containsElements(t){let e=function(t){if(0===t.length)return null;let e=t[0],n=new a4(e.x,e.y,0,0);for(let e of t)n.addPoint(e);return n}(this.points);return!!e&&t.every(t=>e.containsPt(t.cx,t.cy)&&this.withinArea(t.cx,t.cy))}withinArea(t,e){if(0===this.length)return!1;let n=0,r=this.points[0],i=new a0(r.x,r.y,r.x,r.y);for(let r=1;r<this.points.length;r++){let o=this.points[r];i.x1=i.x2,i.y1=i.y2,i.x2=o.x,i.y2=o.y,i.cuts(t,e)&&n++}return i.x1=i.x2,i.y1=i.y2,i.x2=r.x,i.y2=r.y,i.cuts(t,e)&&n++,n%2==1}}class ss{constructor(t=0){this.count=0,this.arr=[],this.set=new Set,this.arr.length=t}add(t){this.set.add(`${t.x}x${t.y}`),this.arr[this.count++]=t}contains(t){return this.set.has(`${t.x}x${t.y}`)}isFirst(t){if(0===this.count)return!1;let e=this.arr[0];return null!=e&&e.x===t.x&&e.y===t.y}path(){return new sa(this.arr.slice(0,this.count))}clear(){this.set.clear(),this.count=0}get(t){return this.arr[t]}get length(){return this.count}}let sl={maxRoutingIterations:100,maxMarchingIterations:20,pixelGroup:4,edgeR0:10,edgeR1:20,nodeR0:15,nodeR1:50,morphBuffer:10,threshold:1,memberInfluenceFactor:1,edgeInfluenceFactor:1,nonMemberInfluenceFactor:-.8,virtualEdges:!0};function su(t){return null!=t&&"number"==typeof t.radius}function sc(t,e){return su(t)===su(e)&&(su(t)?t.cx===e.cx&&t.cy===e.cy&&t.radius===e.radius:t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height)}(x=Z||(Z={}))[x.MEMBERS=0]="MEMBERS",x[x.NON_MEMBERS=1]="NON_MEMBERS",x[x.EDGES=2]="EDGES";class sh{constructor(t={}){this.dirty=new Set,this.members=[],this.nonMembers=[],this.virtualEdges=[],this.edges=[],this.activeRegion=new a4(0,0,0,0),this.potentialArea=new a9(1,0,0,0,0,0,0),this.o=Object.assign({},sl,t)}pushMember(...t){if(0!==t.length)for(let e of(this.dirty.add(Z.MEMBERS),t))this.members.push({raw:e,obj:su(e)?a8.from(e):a4.from(e),area:null})}removeMember(t){let e=this.members.findIndex(e=>sc(e.raw,t));return!(e<0)&&(this.members.splice(e,1),this.dirty.add(Z.MEMBERS),!0)}removeNonMember(t){let e=this.nonMembers.findIndex(e=>sc(e.raw,t));return!(e<0)&&(this.nonMembers.splice(e,1),this.dirty.add(Z.NON_MEMBERS),!0)}removeEdge(t){let e=this.edges.findIndex(e=>e.obj.equals(t));return!(e<0)&&(this.edges.splice(e,1),this.dirty.add(Z.NON_MEMBERS),!0)}pushNonMember(...t){if(0!==t.length)for(let e of(this.dirty.add(Z.NON_MEMBERS),t))this.nonMembers.push({raw:e,obj:su(e)?a8.from(e):a4.from(e),area:null})}pushEdge(...t){if(0!==t.length)for(let e of(this.dirty.add(Z.EDGES),t))this.edges.push({raw:e,obj:a0.from(e),area:null})}update(){let t=this.dirty.has(Z.MEMBERS),e=this.dirty.has(Z.NON_MEMBERS),n=this.dirty.has(Z.EDGES);this.dirty.clear();let r=this.members.map(t=>t.obj);if(this.o.virtualEdges&&(t||e)){let t=function(t,e,n,r){if(0===t.length)return[];let i=function(t){if(t.length<2)return t;let e=0,n=0;return t.forEach(t=>{e+=t.cx,n+=t.cy}),e/=t.length,n/=t.length,t.map(t=>{let r=e-t.cx,i=n-t.cy;return[t,r*r+i*i]}).sort((t,e)=>t[1]-e[1]).map(t=>t[0])}(t);return i.map((t,o)=>(function(t,e,n,r,i){let o;let a={x:e.cx,y:e.cy},s=(o=Number.POSITIVE_INFINITY,n.reduce((e,n)=>{var r;let i=aJ(a.x,a.y,n.cx,n.cy);if(i>o)return e;let s=(r=new a0(a.x,a.y,n.cx,n.cy),t.reduce((t,e)=>a5(e,r)&&function(t,e){function n(t,n,r,i){let o=a3(e,new a0(t,n,r,i));return(o=Math.abs(o-.5))>=0&&o<=1?1:0}let r=n(t.x,t.y,t.x2,t.y);return!!((r+=n(t.x,t.y,t.x,t.y2))>1||(r+=n(t.x,t.y2,t.x2,t.y2))>1)||(r+=n(t.x2,t.y,t.x2,t.y2))>0}(e,r)?t+1:t,0));return i*(s+1)*(s+1)<o&&(e=n,o=i*(s+1)*(s+1)),e},null));return null==s?[]:function(t,e){let n=[];for(;t.length>0;){let r=t.pop();if(0===t.length){n.push(r);break}let i=t.pop(),o=new a0(r.x1,r.y1,i.x2,i.y2);si(e,o)?(n.push(r),t.push(i)):t.push(o)}return n}(function(t,e,n,r){let i=[],o=[];o.push(t);let a=!0;for(let t=0;t<n&&a;t++)for(a=!1;!a&&o.length>0;){let t=o.pop(),n=si(e,t),s=n?function(t,e){let n=0,r=a2(t,new a0(e.x,e.y,e.x2,e.y));n+=r.state===N.POINT?1:0;let i=a2(t,new a0(e.x,e.y,e.x,e.y2));n+=i.state===N.POINT?1:0;let o=a2(t,new a0(e.x,e.y2,e.x2,e.y2));n+=o.state===N.POINT?1:0;let a=a2(t,new a0(e.x2,e.y,e.x2,e.y2));return n+=a.state===N.POINT?1:0,{top:r,left:i,bottom:o,right:a,count:n}}(t,n):null;if(!n||!s||2!==s.count){a||i.push(t);continue}let l=r,u=so(n,l,s,!0),c=sr(u,o)||sr(u,i),h=sn(u,e);for(;!c&&h&&l>=1;)l/=1.5,c=sr(u=so(n,l,s,!0),o)||sr(u,i),h=sn(u,e);if(!u||c||h||(o.push(new a0(t.x1,t.y1,u.x,u.y)),o.push(new a0(u.x,u.y,t.x2,t.y2)),a=!0),a)continue;let d=sr(u=so(n,l=r,s,!1),o)||sr(u,i);for(h=sn(u,e);!d&&h&&l>=1;)l/=1.5,d=sr(u=so(n,l,s,!1),o)||sr(u,i),h=sn(u,e);u&&!d&&(o.push(new a0(t.x1,t.y1,u.x,u.y)),o.push(new a0(u.x,u.y,t.x2,t.y2)),a=!0),a||i.push(t)}for(;o.length>0;)i.push(o.pop());return i}(new a0(a.x,a.y,s.cx,s.cy),t,r,i),t)})(e,t,i.slice(0,o),n,r)).flat()}(r,this.nonMembers.map(t=>t.obj),this.o.maxRoutingIterations,this.o.morphBuffer),e=new Map(this.virtualEdges.map(t=>[t.obj.toString(),t.area]));this.virtualEdges=t.map(t=>{var n;return{raw:t,obj:t,area:null!==(n=e.get(t.toString()))&&void 0!==n?n:null}}),n=!0}let i=!1;if(t||n){let t=function(t,e){if(0===t.length)return new a4(0,0,0,0);let n=a4.from(t[0]);for(let e of t)n.add(e);for(let t of e)n.add(aQ(t));return n}(r,this.virtualEdges.concat(this.edges).map(t=>t.obj)),e=Math.max(this.o.edgeR1,this.o.nodeR1)+this.o.morphBuffer,n=a4.from(a7(t,e));n.equals(this.activeRegion)||(i=!0,this.activeRegion=n)}if(i){let t=Math.ceil(this.activeRegion.width/this.o.pixelGroup),e=Math.ceil(this.activeRegion.height/this.o.pixelGroup);this.activeRegion.x!==this.potentialArea.pixelX||this.activeRegion.y!==this.potentialArea.pixelY?(this.potentialArea=a9.fromPixelRegion(this.activeRegion,this.o.pixelGroup),this.members.forEach(t=>t.area=null),this.nonMembers.forEach(t=>t.area=null),this.edges.forEach(t=>t.area=null),this.virtualEdges.forEach(t=>t.area=null)):(t!==this.potentialArea.width||e!==this.potentialArea.height)&&(this.potentialArea=a9.fromPixelRegion(this.activeRegion,this.o.pixelGroup))}let o=new Map,a=t=>{if(t.area){let e=`${t.obj.width}x${t.obj.height}x${t.obj instanceof a4?"R":"C"}`;o.set(e,t.area)}},s=t=>{if(t.area)return;let e=`${t.obj.width}x${t.obj.height}x${t.obj instanceof a4?"R":"C"}`;if(o.has(e)){let n=o.get(e);t.area=this.potentialArea.copy(n,{x:t.obj.x-this.o.nodeR1,y:t.obj.y-this.o.nodeR1});return}let n=t.obj instanceof a4?function(t,e,n){let r=e.scale(t),i=e.addPadding(r,n),o=e.createSub(i,{x:t.x-n,y:t.y-n}),a=r.x-i.x,s=r.y-i.y,l=i.x2-r.x2,u=i.y2-r.y2,c=i.width-a-l,h=i.height-s-u,d=n*n;o.fillArea({x:a,y:s,width:c+1,height:h+1},d);let p=[0],f=Math.max(s,a,l,u);{let i=e.invertScaleX(r.x+r.width/2);for(let o=1;o<f;o++){let a=e.invertScaleY(r.y-o),s=t.distSquare(i,a);if(s<d){let t=n-Math.sqrt(s);p.push(t*t)}else break}}let g=[],m=Math.max(a,l),v=Math.max(s,l);for(let i=1;i<m;i++){let o=e.invertScaleX(r.x-i),a=[];for(let i=1;i<v;i++){let s=e.invertScaleY(r.y-i),l=t.distSquare(o,s);if(l<d){let t=n-Math.sqrt(l);a.push(t*t)}else a.push(0)}g.push(a)}for(let t=1;t<Math.min(s,p.length);t++){let e=p[t];o.fillHorizontalLine(a,s-t,c+1,e)}for(let t=1;t<Math.min(u,p.length);t++){let e=p[t];o.fillHorizontalLine(a,s+h+t,c+1,e)}for(let t=1;t<Math.min(a,p.length);t++){let e=p[t];o.fillVerticalLine(a-t,s,h+1,e)}for(let t=1;t<Math.min(u,p.length);t++){let e=p[t];o.fillVerticalLine(a+c+t,s,h+1,e)}for(let t=1;t<a;t++){let e=g[t-1],n=a-t;for(let t=1;t<s;t++)o.set(n,s-t,e[t-1]);for(let t=1;t<u;t++)o.set(n,s+h+t,e[t-1])}for(let t=1;t<l;t++){let e=g[t-1],n=a+c+t;for(let t=1;t<s;t++)o.set(n,s-t,e[t-1]);for(let t=1;t<u;t++)o.set(n,s+h+t,e[t-1])}return o}(t.obj,this.potentialArea,this.o.nodeR1):se(t.obj,this.potentialArea,this.o.nodeR1);t.area=n,o.set(e,n)};this.members.forEach(a),this.nonMembers.forEach(a),this.members.forEach(s),this.nonMembers.forEach(t=>{this.activeRegion.intersects(t.obj)?s(t):t.area=null}),this.edges.forEach(t=>{t.area||(t.area=st(t.obj,this.potentialArea,this.o.edgeR1))}),this.virtualEdges.forEach(t=>{t.area||(t.area=st(t.obj,this.potentialArea,this.o.edgeR1))})}drawMembers(t){for(let e of this.members)e.obj.draw(t)}drawNonMembers(t){for(let e of this.nonMembers)e.obj.draw(t)}drawEdges(t){for(let e of this.edges)e.obj.draw(t)}drawPotentialArea(t,e=!0){this.potentialArea.draw(t,e)}compute(){if(0===this.members.length)return new sa([]);this.dirty.size>0&&this.update();let{o:t,potentialArea:e}=this,n=this.members.map(t=>t.area),r=this.virtualEdges.concat(this.edges).map(t=>t.area),i=this.nonMembers.filter(t=>null!=t.area).map(t=>t.area),o=this.members.map(t=>t.obj);return function(t,e,n,r,i,o={}){let a=Object.assign({},sl,o),s=a.threshold,l=a.memberInfluenceFactor,u=a.edgeInfluenceFactor,c=a.nonMemberInfluenceFactor,h=(a.nodeR0-a.nodeR1)*(a.nodeR0-a.nodeR1),d=(a.edgeR0-a.edgeR1)*(a.edgeR0-a.edgeR1);for(let o=0;o<a.maxMarchingIterations;o++){if(t.clear(),0!==l){let n=l/h;for(let r of e)t.incArea(r,n)}if(0!==u){let e=u/d;for(let r of n)t.incArea(r,e)}if(0!==c){let e=c/h;for(let n of r)t.incArea(n,e)}let p=function(t,e){let n=new ss((Math.floor(t.width)+Math.floor(t.height))*2);function r(n,r,i,o){let a=t.get(n,r);return Number.isNaN(a)?Number.NaN:a>e?i+o:i}function i(t,e){let n=0;return(n=r(t,e,0,1),n=r(t+1,e,n,2),n=r(t,e+1,n,4),Number.isNaN(n=r(t+1,e+1,n,8)))?-1:n}let o=1;for(let r=0;r<t.width;r++)for(let a=0;a<t.height;a++){if(t.get(r,a)<=e)continue;let s=i(r,a);if(!(s<0)&&15!==s&&function(e,r){let a=e,s=r,l=t.invertScaleX(a),u=t.invertScaleY(s);for(let e=0;e<t.width*t.height;e++){let e={x:l,y:u};if(n.contains(e)){if(n.isFirst(e))break}else n.add(e);let r=i(a,s);switch(r){case -1:return!0;case 0:case 3:case 2:case 7:o=2;break;case 12:case 14:case 4:o=3;break;case 6:o=0===o?3:2;break;case 1:case 13:case 5:o=0;break;case 9:o=2===o?0:1;break;case 10:case 8:case 11:o=1;break;default:return console.warn("Marching squares invalid state: "+r),!0}switch(o){case 0:s--,u-=t.pixelGroup;break;case 1:s++,u+=t.pixelGroup;break;case 3:a--,l-=t.pixelGroup;break;case 2:a++,l+=t.pixelGroup;break;default:return console.warn("Marching squares invalid state: "+r),!0}}return!0}(r,a))return n.path()}return null}(t,s);if(p&&i(p))return p;if(s*=.95,o<=.5*a.maxMarchingIterations)l*=1.2,u*=1.2;else if(0!==c&&r.length>0)c*=.8;else break}return new sa([])}(e,n,r,i,t=>t.containsElements(o),t)}}var sd=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)0>e.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class sp extends aU{constructor(t,e){super(t,(0,nl.Z)({},sp.defaultOptions,e)),this.members=new Map,this.avoidMembers=new Map,this.bubbleSetOptions={},this.drawBubbleSets=()=>{let{style:t,bubbleSetOptions:e}=this.parseOptions();tJ(this.bubbleSetOptions,e)||this.init(),this.bubbleSetOptions=Object.assign({},e);let n=Object.assign(Object.assign({},t),{d:this.getPath()});this.shape?this.shape.update(n):(this.shape=new ry({style:n}),this.context.canvas.appendChild(this.shape))},this.updateBubbleSetsPath=t=>{if(!this.shape)return;let e=e2(t.data);[...this.options.members,...this.options.avoidMembers].includes(e)&&this.shape.update(Object.assign(Object.assign({},this.parseOptions().style),{d:this.getPath(e)}))},this.getPath=t=>{let{graph:e}=this.context,n=this.options.members,r=[...this.members.keys()],i=this.options.avoidMembers,o=[...this.avoidMembers.keys()];if(!t&&tJ(n,r)&&tJ(i,o))return this.path;let{enter:a=[],exit:s=[]}=nn(r,n,t=>t),{enter:l=[],exit:u=[]}=nn(o,i,t=>t);t&&(s.push(t),a.push(t));let c=(t,n,r)=>{t.forEach(t=>{let i=r?this.members:this.avoidMembers;if(n){let n;"edge"===e.getElementType(t)?([n]=sg(e,t),this.bubbleSets.pushEdge(n)):([n]=sf(e,t),this.bubbleSets[r?"pushMember":"pushNonMember"](n)),i.set(t,n)}else{let n=i.get(t);n&&("edge"===e.getElementType(t)?this.bubbleSets.removeEdge(n):this.bubbleSets[r?"removeMember":"removeNonMember"](n),i.delete(t))}})};c(s,!1,!0),c(a,!0,!0),c(u,!1,!1),c(l,!0,!1);let h=this.bubbleSets.compute().sample(8).simplify(0).bSplines().simplify(0);return this.path=rm(h.points.map(nT)),this.path},this.bindEvents(),this.bubbleSets=new sh(this.options)}bindEvents(){this.context.graph.on(A.AFTER_RENDER,this.drawBubbleSets),this.context.graph.on(A.AFTER_ELEMENT_UPDATE,this.updateBubbleSetsPath)}init(){this.bubbleSets=new sh(this.options),this.members=new Map,this.avoidMembers=new Map}parseOptions(){let t=this.options,{type:e,key:n,members:r,avoidMembers:i}=t,o=sd(t,["type","key","members","avoidMembers"]);return Object.assign({type:e,key:n,members:r,avoidMembers:i},Object.keys(o).reduce((t,e)=>(e in sl?t.bubbleSetOptions[e]=o[e]:t.style[e]=o[e],t),{style:{},bubbleSetOptions:{}}))}addMember(t){let e=Array.isArray(t)?t:[t];e.some(t=>this.options.avoidMembers.includes(t))&&(this.options.avoidMembers=this.options.avoidMembers.filter(t=>!e.includes(t))),this.options.members=[...new Set([...this.options.members,...e])],this.drawBubbleSets()}removeMember(t){let e=Array.isArray(t)?t:[t];this.options.members=this.options.members.filter(t=>!e.includes(t)),this.drawBubbleSets()}updateMember(t){this.options.members=(0,eu.Z)(t)?t(this.options.members):t,this.drawBubbleSets()}getMember(){return this.options.members}addAvoidMember(t){let e=Array.isArray(t)?t:[t];e.some(t=>this.options.members.includes(t))&&(this.options.members=this.options.members.filter(t=>!e.includes(t))),this.options.avoidMembers=[...new Set([...this.options.avoidMembers,...e])],this.drawBubbleSets()}removeAvoidMember(t){let e=Array.isArray(t)?t:[t];this.options.avoidMembers.some(t=>e.includes(t))&&(this.options.avoidMembers=this.options.avoidMembers.filter(t=>!e.includes(t)),this.drawBubbleSets())}updateAvoidMember(t){this.options.avoidMembers=Array.isArray(t)?t:[t],this.drawBubbleSets()}getAvoidMember(){return this.options.avoidMembers}destroy(){this.context.graph.off(A.AFTER_RENDER,this.drawBubbleSets),this.context.graph.off(A.AFTER_ELEMENT_UPDATE,this.updateBubbleSetsPath),this.shape.destroy(),super.destroy()}}sp.defaultOptions=Object.assign({members:[],avoidMembers:[],fill:"lightblue",fillOpacity:.2,stroke:"blue",strokeOpacity:.2},sl);let sf=(t,e)=>(Array.isArray(e)?e:[e]).map(e=>{let n=t.getElementRenderBounds(e);return new a4(n.min[0],n.min[1],ey(n),eb(n))}),sg=(t,e)=>(Array.isArray(e)?e:[e]).map(e=>{let n=t.getEdgeData(e),r=t.getElementPosition(n.source),i=t.getElementPosition(n.target);return a0.from({x1:r[0],y1:r[1],x2:i[0],y2:i[1]})}),sm=`
  .g6-contextmenu {
    font-size: 12px;
    background-color: rgba(255, 255, 255, 0.96);
    border-radius: 4px;
    overflow: hidden;
    box-shadow: rgba(0, 0, 0, 0.12) 0px 6px 12px 0px;
    transition: visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1) 0s, left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s;
  }

  .g6-contextmenu-ul {
    max-width: 256px;
    min-width: 96px;
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .g6-contextmenu-li {
    padding: 8px 12px;
    cursor: pointer;
    user-select: none;
  }

  .g6-contextmenu-li:hover {
    background-color: #f5f5f5;
    cursor: pointer;
  }
`;var sv=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(a,s)}l((r=r.apply(t,e||[])).next())})};class sy extends aU{constructor(t,e){super(t,Object.assign({},sy.defaultOptions,e)),this.targetElement=null,this.onTriggerEvent=t=>{var e;null===(e=t.preventDefault)||void 0===e||e.call(t),this.show(t)},this.onMenuItemClick=t=>{let{onClick:e,trigger:n}=this.options;if(t.target instanceof HTMLElement&&t.target.className.includes("g6-contextmenu-li")){let n=t.target.getAttribute("value");null==e||e(n,t.target,this.targetElement),this.hide()}"click"!==n&&this.hide()},this.initElement(),this.update(e)}initElement(){this.$element=aq("contextmenu",!1,{zIndex:"99"});let{className:t}=this.options;t&&this.$element.classList.add(t),this.context.canvas.getContainer().appendChild(this.$element),aK("g6-contextmenu-css","style",{},sm,document.head)}show(t){return sv(this,void 0,void 0,function*(){let{enable:e,offset:n}=this.options;if("function"==typeof e&&!e(t)||!e){this.hide();return}let r=yield this.getDOMContent(t);r instanceof HTMLElement?(this.$element.innerHTML="",this.$element.appendChild(r)):this.$element.innerHTML=r;let i=this.context.graph.getCanvas().getContainer().getBoundingClientRect();this.$element.style.left=`${t.client.x-i.left+n[0]}px`,this.$element.style.top=`${t.client.y-i.top+n[1]}px`,this.$element.style.display="block",this.targetElement=t.target})}hide(){this.$element.style.display="none",this.targetElement=null}update(t){this.unbindEvents(),super.update(t),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy(),this.$element.remove()}getDOMContent(t){return sv(this,void 0,void 0,function*(){let{getContent:e,getItems:n}=this.options;if(n){var r;return r=yield n(t),`
    <ul class="g6-contextmenu-ul">
      ${r.map(t=>`<li  class="g6-contextmenu-li" value="${t.value}">${t.name}</li>`).join("")}
    </ul>
  `}return yield e(t)})}bindEvents(){let{graph:t}=this.context,{trigger:e}=this.options;t.on(`canvas:${e}`,this.onTriggerEvent),t.on(`node:${e}`,this.onTriggerEvent),t.on(`edge:${e}`,this.onTriggerEvent),t.on(`combo:${e}`,this.onTriggerEvent),document.addEventListener("click",this.onMenuItemClick)}unbindEvents(){let{graph:t}=this.context,{trigger:e}=this.options;t.off(`canvas:${e}`,this.onTriggerEvent),t.off(`node:${e}`,this.onTriggerEvent),t.off(`edge:${e}`,this.onTriggerEvent),t.off(`combo:${e}`,this.onTriggerEvent),document.removeEventListener("click",this.onMenuItemClick)}}sy.defaultOptions={trigger:"contextmenu",offset:[4,4],loadingContent:'<div class="g6-contextmenu-loading">Loading...</div>',getContent:()=>"It is a empty context menu.",enable:()=>!0};class sb extends aU{constructor(t,e){super(t,Object.assign({},sb.defaultOptions,e)),this.edgeBundles={},this.edgePoints={},this.onBundle=()=>{let{model:t,element:e}=this.context,n=t.getEdgeData();this.divideEdges(this.options.divisions);let{cycles:r,iterRate:i,divRate:o}=this.options,{lambda:a,divisions:s,iterations:l}=this.options;for(let t=0;t<r;t++){for(let t=0;t<l;t++){let t={};n.forEach(e=>{var n;if(e.source===e.target)return;let r=e2(e);t[r]=this.getEdgeForces(e,s,a);for(let e=0;e<s+1;e++)(n=this.edgePoints)[r]||(n[r]=[]),this.edgePoints[r][e]=nc(this.edgePoints[r][e],t[r][e])})}a/=2,s*=o,l*=i,this.divideEdges(s)}n.forEach(t=>{let n=e2(t),r=e.getElement(n);null==r||r.update({d:op(this.edgePoints[n])})})},this.bindEvents()}get nodeMap(){return Object.fromEntries(this.context.model.getNodeData().map(t=>[e2(t),nx(nO(t))]))}divideEdges(t){this.context.model.getEdgeData().forEach(e=>{var n;let r=e2(e);(n=this.edgePoints)[r]||(n[r]=[]);let i=this.nodeMap[e.source],o=this.nodeMap[e.target];if(1===t)this.edgePoints[r].push(i),this.edgePoints[r].push(np(nc(i,o),2)),this.edgePoints[r].push(o);else{let e=(0===this.edgePoints[r].length?ng(i,o):sO(this.edgePoints[r]))/(t+1),n=e,a=[i];for(let t=1;t<this.edgePoints[r].length;t++){let i=this.edgePoints[r][t-1],o=this.edgePoints[r][t],s=ng(o,i);for(;s>n;){let t=n/s,r=nc(i,nd(nh(o,i),t));a.push(r),s-=n,n=e}n-=s}a.push(o),this.edgePoints[r]=a}})}getVectorPosition(t){let e=this.nodeMap[t.source],n=this.nodeMap[t.target],[r,i]=nh(n,e),o=ng(e,n);return{source:e,target:n,vx:r,vy:i,length:o}}measureEdgeCompatibility(t,e){let n=this.getVectorPosition(t),r=this.getVectorPosition(e),i=sx(n,r);return i*sE(n,r)*sw(n,r)*sk(n,r)}getEdgeBundles(){let t={},e=this.options.bundleThreshold,n=this.context.model.getEdgeData();return n.forEach((r,i)=>{n.forEach((n,o)=>{var a,s;!(o<=i)&&this.measureEdgeCompatibility(r,n)>=e&&(t[a=e2(r)]||(t[a]=[]),t[e2(r)].push(n),t[s=e2(n)]||(t[s]=[]),t[e2(n)].push(r))})}),t}getSpringForce(t,e){let{pre:n,cur:r,next:i}=t;return nd(nh(nc(n,i),nd(r,2)),e)}getElectrostaticForce(t,e){ru(this.edgeBundles)&&(this.edgeBundles=this.getEdgeBundles());let n=this.edgeBundles[e2(e)],r=[0,0];return null==n||n.forEach(n=>{let i=this.edgePoints[e2(n)][t],o=this.edgePoints[e2(e)][t],a=nh(i,o),s=ng(i,o);r=nc(r,nd(a,1/s))}),r}getEdgeForces(t,e,n){let r=this.nodeMap[t.source],i=this.nodeMap[t.target],o=this.options.K/(ng(r,i)*(e+1)),a=[[0,0]],s=e2(t);for(let r=1;r<e;r++){let e=this.getSpringForce({pre:this.edgePoints[s][r-1],cur:this.edgePoints[s][r],next:this.edgePoints[s][r+1]||[0,0]},o),i=this.getElectrostaticForce(r,t);a.push(nd(nc(e,i),n))}return a.push([0,0]),a}bindEvents(){let{graph:t}=this.context;t.on(A.AFTER_RENDER,this.onBundle)}unbindEvents(){let{graph:t}=this.context;t.off(A.AFTER_RENDER,this.onBundle)}destroy(){this.unbindEvents(),super.destroy()}}sb.defaultOptions={K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:2/3,bundleThreshold:.6};let sx=(t,e)=>{var n,r;return Math.abs((n=[t.vx,t.vy],r=[e.vx,e.vy],n.reduce((t,e,n)=>t+e*r[n],0)/(t.length*e.length)))},sE=(t,e)=>{let n=(t.length+e.length)/2;return 2/(n/Math.min(t.length,e.length)+Math.max(t.length,e.length)/n)},sw=(t,e)=>{let n=(t.length+e.length)/2;return n/(n+ng(np(nc(t.source,t.target),2),np(nc(e.source,e.target),2)))},sS=(t,e)=>{if(e.source[0]===e.target[0])return[e.source[0],t[1]];if(e.source[1]===e.target[1])return[t[0],e.source[1]];let n=(e.source[1]-e.target[1])/(e.source[0]-e.target[0]),r=(n*n*e.source[0]+n*(t[1]-e.source[1])+t[0])/(n*n+1),i=n*(r-e.source[0])+e.source[1];return[r,i]},sM=(t,e)=>{let n=sS(e.source,t),r=sS(e.target,t),i=np(nc(n,r),2),o=np(nc(t.source,t.target),2);return 0===ng(n,r)?0:Math.max(0,1-2*ng(o,i)/ng(n,r))},sk=(t,e)=>Math.min(sM(t,e),sM(e,t)),sO=t=>{let e=0;for(let n=1;n<t.length;n++)e+=ng(t[n],t[n-1]);return e},sC={fill:"#fff",fillOpacity:1,lineWidth:1,stroke:"#000",strokeOpacity:.8,zIndex:-1/0};class sA extends aU{constructor(t,e){super(t,Object.assign({},sA.defaultOptions,e)),this.shapes=new Map,this.r=this.options.r,this.onEdgeFilter=t=>{if("drag"===this.options.trigger&&this.isLensOn)return;let e=nT(t.canvas);this.renderLens(e),this.renderFocusElements()},this.renderLens=t=>{let e=Object.assign({},sC,this.options.style);this.isLensOn||(this.lens=new rA({style:e}),this.canvas.appendChild(this.lens)),Object.assign(e,nP(t),{size:2*this.r}),this.lens.update(e)},this.getFilterData=()=>{let{filter:t}=this.options,{model:e}=this.context,n=e.getData();if(!t)return n;let{nodes:r,edges:i,combos:o}=n;return{nodes:r.filter(e=>t(e2(e),"node")),edges:i.filter(e=>t(e2(e),"edge")),combos:o.filter(e=>t(e2(e),"combo"))}},this.getFocusElements=t=>{let{nodes:e,edges:n}=this.getFilterData(),r=e.filter(e=>ng(nO(e),t)<this.r),i=r.map(t=>e2(t));return{nodes:r,edges:n.filter(t=>{let{source:e,target:n}=t,r=i.includes(e),o=i.includes(n);switch(this.options.nodeType){case"both":return r&&o;case"either":return r!==o;case"source":return r&&!o;case"target":return!r&&o;default:return!1}})}},this.renderFocusElements=()=>{let{element:t,graph:e}=this.context;if(!this.isLensOn)return;let n=this.lens.getCenter(),{nodes:r,edges:i}=this.getFocusElements(n),o=new Set,a=n=>{let r=e2(n);o.add(r);let i=t.getElement(r);if(!i)return;let a=this.shapes.get(r)||i.cloneNode();a.setPosition(i.getPosition()),a.id=i.id,this.shapes.has(r)?Object.entries(i.attributes).forEach(([t,e])=>{a.style[t]!==e&&(a.style[t]=e)}):(this.canvas.appendChild(a),this.shapes.set(r,a));let s=e.getElementType(r),l=this.getElementStyle(s,n);a.update(l)};r.forEach(a),i.forEach(a),this.shapes.forEach((t,e)=>{o.has(e)||(t.destroy(),this.shapes.delete(e))})},this.scaleRByWheel=t=>{var e;this.options.preventDefault&&t.preventDefault();let{clientX:n,clientY:r,deltaX:i,deltaY:o}=t,{graph:a,canvas:s}=this.context,l=a.getCanvasByClient([n,r]),u=null===(e=this.lens)||void 0===e?void 0:e.getCenter();if(!this.isLensOn||ng(l,u)>this.r)return;let{maxR:c,minR:h}=this.options,d=Math.min(...s.getSize())/2;this.r=Math.max(h||0,Math.min(c||d,this.r*(i+o>0?1/.95:.95))),this.renderLens(u),this.renderFocusElements()},this.isLensDragging=!1,this.onDragStart=t=>{var e;let n=nT(t.canvas),r=null===(e=this.lens)||void 0===e?void 0:e.getCenter();!this.isLensOn||ng(n,r)>this.r||(this.isLensDragging=!0)},this.onDrag=t=>{if(!this.isLensDragging)return;let e=nT(t.canvas);this.renderLens(e),this.renderFocusElements()},this.onDragEnd=()=>{this.isLensDragging=!1},this.bindEvents()}get canvas(){return this.context.canvas.getLayer("transient")}get isLensOn(){return this.lens&&!this.lens.destroyed}getElementStyle(t,e){let n="node"===t?this.options.nodeStyle:this.options.edgeStyle;return"function"==typeof n?n(e):n}get graphDom(){return this.context.graph.getCanvas().getContextService().getDomElement()}bindEvents(){var t;let{graph:e}=this.context,{trigger:n,scaleRBy:r}=this.options,i=e.getCanvas().getLayer();["click","drag"].includes(n)&&i.addEventListener(k.CLICK,this.onEdgeFilter),"pointermove"===n?i.addEventListener(k.POINTER_MOVE,this.onEdgeFilter):"drag"===n&&(i.addEventListener(k.DRAG_START,this.onDragStart),i.addEventListener(k.DRAG,this.onDrag),i.addEventListener(k.DRAG_END,this.onDragEnd)),"wheel"===r&&(null===(t=this.graphDom)||void 0===t||t.addEventListener(k.WHEEL,this.scaleRByWheel,{passive:!1}))}unbindEvents(){var t;let{graph:e}=this.context,{trigger:n,scaleRBy:r}=this.options,i=e.getCanvas().getLayer();["click","drag"].includes(n)&&i.removeEventListener(k.CLICK,this.onEdgeFilter),"pointermove"===n?i.removeEventListener(k.POINTER_MOVE,this.onEdgeFilter):"drag"===n&&(i.removeEventListener(k.DRAG_START,this.onDragStart),i.removeEventListener(k.DRAG,this.onDrag),i.removeEventListener(k.DRAG_END,this.onDragEnd)),"wheel"===r&&(null===(t=this.graphDom)||void 0===t||t.removeEventListener(k.WHEEL,this.scaleRByWheel))}update(t){this.unbindEvents(),super.update(t),this.bindEvents()}destroy(){this.unbindEvents(),this.isLensOn&&this.lens.destroy(),this.shapes.forEach((t,e)=>{t.destroy(),this.shapes.delete(e)}),super.destroy()}}sA.defaultOptions={trigger:"pointermove",r:60,nodeType:"both",filter:()=>!0,style:{lineWidth:2},nodeStyle:{label:!1},edgeStyle:{label:!0},scaleRBy:"wheel",preventDefault:!0};let sT={fill:"#ccc",fillOpacity:.1,lineWidth:2,stroke:"#000",strokeOpacity:.8,labelFontSize:12};class sP extends aU{constructor(t,e){super(t,Object.assign({},sP.defaultOptions,e)),this.r=this.options.r,this.d=this.options.d,this.onCreateFisheye=t=>{if("drag"===this.options.trigger&&this.isLensOn)return;let e=nT(t.canvas);this.onMagnify(e)},this.onMagnify=t=>{t.some(isNaN)||(this.renderLens(t),this.renderFocusElements())},this.renderLens=t=>{let e=Object.assign({},sT,this.options.style);this.isLensOn||(this.lens=new rA({style:e}),this.canvas.appendChild(this.lens)),Object.assign(e,nP(t),{size:2*this.r,label:this.options.showDPercent,labelText:this.getDPercent()}),this.lens.update(e)},this.getDPercent=()=>{let{minD:t,maxD:e}=this.options,n=Math.round((this.d-t)/(e-t)*100);return`${n}%`},this.prevMagnifiedStyleMap=new Map,this.prevOriginStyleMap=new Map,this.renderFocusElements=()=>{if(!this.isLensOn)return;let{graph:t}=this.context,e=this.lens.getCenter(),n=(this.d+1)*this.r,r=new Map,i=new Map;t.getNodeData().forEach(o=>{let a=nO(o),s=ng(a,e);if(s>this.r)return;let l=n*s/(this.d*s+this.r),[u,c]=a,[h,d]=e,p=e2(o),f=this.getNodeStyle(o),g=(0,iq.Z)(t.getElementRenderStyle(p),Object.keys(f));r.set(p,Object.assign(Object.assign({},nP([h+(u-h)/s*l,d+(c-d)/s*l])),f)),i.set(p,Object.assign(Object.assign({},nP(a)),g))}),this.updateStyle(r,i)},this.getNodeStyle=t=>{let{nodeStyle:e}=this.options;return"function"==typeof e?e(t):e},this.updateStyle=(t,e)=>{let{graph:n,element:r}=this.context,{enter:i,exit:o,keep:a}=nn(Array.from(this.prevMagnifiedStyleMap.keys()),Array.from(t.keys()),t=>t),s=new Set,l=(t,e)=>{let i=r.getElement(t);null==i||i.update(e),n.getRelatedEdgesData(t).forEach(t=>{s.add(e2(t))})};[...i,...a].forEach(e=>{l(e,t.get(e))}),o.forEach(t=>{l(t,this.prevOriginStyleMap.get(t)),this.prevOriginStyleMap.delete(t)}),s.forEach(t=>{let e=r.getElement(t);null==e||e.update({})}),this.prevMagnifiedStyleMap=t,e.forEach((t,e)=>{this.prevOriginStyleMap.has(e)||this.prevOriginStyleMap.set(e,t)})},this.isWheelValid=t=>{if(this.options.preventDefault&&t.preventDefault(),!this.isLensOn)return!1;let{clientX:e,clientY:n}=t;return!(ng(this.context.graph.getCanvasByClient([e,n]),this.lens.getCenter())>this.r)},this.scaleR=t=>{let{maxR:e,minR:n}=this.options,r=Math.min(...this.context.canvas.getSize())/2;this.r=Math.max(n||0,Math.min(e||r,this.r*(t?1/.95:.95)))},this.scaleD=t=>{let{maxD:e,minD:n}=this.options,r=t?this.d+.1:this.d-.1;this.d=Math.max(n,Math.min(e,r))},this.scaleRByWheel=t=>{if(!this.isWheelValid(t))return;let{deltaX:e,deltaY:n}=t;this.scaleR(e+n>0);let r=this.lens.getCenter();this.onMagnify(r)},this.scaleDByWheel=t=>{if(!this.isWheelValid(t))return;let{deltaX:e,deltaY:n}=t;this.scaleD(e+n>0);let r=this.lens.getCenter();this.onMagnify(r)},this.isDragValid=t=>(this.options.preventDefault&&t.preventDefault(),!!this.isLensOn&&!(ng(nT(t.canvas),this.lens.getCenter())>this.r)),this.isLensDragging=!1,this.onDragStart=t=>{this.isDragValid(t)&&(this.isLensDragging=!0)},this.onDrag=t=>{if(!this.isLensDragging)return;let e=nT(t.canvas);this.onMagnify(e)},this.onDragEnd=()=>{this.isLensDragging=!1},this.scaleRByDrag=t=>{if(!this.isLensDragging)return;let{dx:e,dy:n}=t;this.scaleR(e-n>0);let r=this.lens.getCenter();this.onMagnify(r)},this.scaleDByDrag=t=>{if(!this.isLensDragging)return;let{dx:e,dy:n}=t;this.scaleD(e-n>0);let r=this.lens.getCenter();this.onMagnify(r)},this.bindEvents()}get canvas(){return this.context.canvas.getLayer("transient")}get isLensOn(){return this.lens&&!this.lens.destroyed}get graphDom(){return this.context.graph.getCanvas().getContextService().getDomElement()}bindEvents(){var t;let{graph:e}=this.context,{trigger:n,scaleRBy:r,scaleDBy:i}=this.options,o=e.getCanvas().getLayer();if(["click","drag"].includes(n)&&o.addEventListener(k.CLICK,this.onCreateFisheye),"pointermove"===n&&o.addEventListener(k.POINTER_MOVE,this.onCreateFisheye),"drag"===n||"drag"===r||"drag"===i){o.addEventListener(k.DRAG_START,this.onDragStart),o.addEventListener(k.DRAG_END,this.onDragEnd);let t="drag"===n?this.onDrag:"drag"===r?this.scaleRByDrag:this.scaleDByDrag;o.addEventListener(k.DRAG,t)}if("wheel"===r||"wheel"===i){let e="wheel"===r?this.scaleRByWheel:this.scaleDByWheel;null===(t=this.graphDom)||void 0===t||t.addEventListener(k.WHEEL,e,{passive:!1})}}unbindEvents(){var t;let{graph:e}=this.context,{trigger:n,scaleRBy:r,scaleDBy:i}=this.options,o=e.getCanvas().getLayer();if(["click","drag"].includes(n)&&o.removeEventListener(k.CLICK,this.onCreateFisheye),"pointermove"===n&&o.removeEventListener(k.POINTER_MOVE,this.onCreateFisheye),"drag"===n||"drag"===r||"drag"===i){o.removeEventListener(k.DRAG_START,this.onDragStart),o.removeEventListener(k.DRAG_END,this.onDragEnd);let t="drag"===n?this.onDrag:"drag"===r?this.scaleRByDrag:this.scaleDByDrag;o.removeEventListener(k.DRAG,t)}if("wheel"===r||"wheel"===i){let e="wheel"===r?this.scaleRByWheel:this.scaleDByWheel;null===(t=this.graphDom)||void 0===t||t.removeEventListener(k.WHEEL,e)}}update(t){this.unbindEvents(),super.update(t),this.bindEvents()}destroy(){var t;this.unbindEvents(),this.isLensOn&&(null===(t=this.lens)||void 0===t||t.destroy()),this.prevMagnifiedStyleMap.clear(),this.prevOriginStyleMap.clear(),super.destroy()}}sP.defaultOptions={trigger:"pointermove",r:120,d:1.5,maxD:5,minD:0,showDPercent:!0,style:{},nodeStyle:{label:!0},preventDefault:!0};class sL extends aU{constructor(t,e){super(t,Object.assign({},sL.defaultOptions,e)),this.$el=this.context.canvas.getContainer(),this.graphSize=[0,0],this.onFullscreenChange=()=>{var t,e,n,r;let i=!!document.fullscreenElement;this.options.autoFit&&this.setGraphSize(i),i?null===(e=(t=this.options).onEnter)||void 0===e||e.call(t):null===(r=(n=this.options).onExit)||void 0===r||r.call(n)},this.shortcut=new nF(t.graph),this.bindEvents(),this.style=document.createElement("style"),document.head.appendChild(this.style),this.style.innerHTML=`
      :not(:root):fullscreen::backdrop {
        background: transparent;
      }
    `}bindEvents(){this.unbindEvents(),this.shortcut.unbindAll();let{request:t=[],exit:e=[]}=this.options.trigger;this.shortcut.bind(t,this.request),this.shortcut.bind(e,this.exit),["webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange"].forEach(t=>{document.addEventListener(t,this.onFullscreenChange,!1)})}unbindEvents(){this.shortcut.unbindAll(),["webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange"].forEach(t=>{document.removeEventListener(t,this.onFullscreenChange,!1)})}setGraphSize(t=!0){var e,n;let r,i;t?(r=(null===(e=globalThis.screen)||void 0===e?void 0:e.width)||0,i=(null===(n=globalThis.screen)||void 0===n?void 0:n.height)||0,this.graphSize=this.context.graph.getSize()):[r,i]=this.graphSize,this.context.graph.setSize(r,i),this.context.graph.render()}request(){!document.fullscreenElement&&(document.fullscreenEnabled||Reflect.get(document,"webkitFullscreenEnabled")||Reflect.get(document,"mozFullscreenEnabled")||Reflect.get(document,"msFullscreenEnabled"))&&this.$el.requestFullscreen().catch(t=>{t8.warn(`Error attempting to enable full-screen: ${t.message} (${t.name})`)})}exit(){document.fullscreenElement&&document.exitFullscreen()}update(t){this.unbindEvents(),super.update(t),this.bindEvents()}destroy(){this.exit(),this.style.remove(),super.destroy()}}sL.defaultOptions={trigger:{},autoFit:!0};class sR extends aU{constructor(t,e){super(t,Object.assign({},sR.defaultOptions,e)),this.$element=aq("grid-line",!0),this.offset=[0,0],this.onTransform=t=>{if(!this.options.follow)return;let{data:{translate:e}}=t;e&&this.updateOffset(e)},this.context.canvas.getContainer().prepend(this.$element),this.updateStyle(),this.bindEvents()}update(t){super.update(t),this.updateStyle()}bindEvents(){let{graph:t}=this.context;t.on(A.AFTER_TRANSFORM,this.onTransform)}updateStyle(){let{size:t,stroke:e,lineWidth:n,border:r,borderLineWidth:i,borderStroke:o,borderStyle:a}=this.options;Object.assign(this.$element.style,{border:r?`${i}px ${a} ${o}`:"none",backgroundImage:`linear-gradient(${e} ${n}px, transparent ${n}px), linear-gradient(90deg, ${e} ${n}px, transparent ${n}px)`,backgroundSize:`${t}px ${t}px`})}updateOffset(t){var e,n;this.offset=(e=nc(this.offset,t),n=this.options.size,e.map(t=>t%n)),this.$element.style.backgroundPosition=`${this.offset[0]}px ${this.offset[1]}px`}destroy(){this.context.graph.off(A.AFTER_TRANSFORM,this.onTransform),this.$element.remove(),super.destroy()}}sR.defaultOptions={border:!0,borderLineWidth:1,borderStroke:"#eee",borderStyle:"solid",lineWidth:1,size:20,stroke:"#eee"};var sD=n(75165);function sN(t){let e={Added:new Map,Updated:new Map,Removed:new Map};return t.forEach(t=>{let{type:n,value:r}=t,i=e2(r);if("NodeAdded"===n||"EdgeAdded"===n||"ComboAdded"===n)e.Added.set(i,t);else if("NodeUpdated"===n||"EdgeUpdated"===n||"ComboUpdated"===n){if(e.Added.has(i))e.Added.set(i,{type:n.replace("Updated","Added"),value:r});else if(e.Updated.has(i)){let{original:t}=e.Updated.get(i);e.Updated.set(i,{type:n,value:r,original:t})}else e.Removed.has(i)||e.Updated.set(i,t)}else("NodeRemoved"===n||"EdgeRemoved"===n||"ComboRemoved"===n)&&(e.Added.has(i)?e.Added.delete(i):(e.Updated.has(i)&&e.Updated.delete(i),e.Removed.set(i,t)))}),[...Array.from(e.Added.values()),...Array.from(e.Updated.values()),...Array.from(e.Removed.values())]}function sI(t){let{NodeAdded:e=[],NodeUpdated:n=[],NodeRemoved:r=[],EdgeAdded:i=[],EdgeUpdated:o=[],EdgeRemoved:a=[],ComboAdded:s=[],ComboUpdated:l=[],ComboRemoved:u=[]}=ed(t,t=>t.type);return{add:{nodes:e,edges:i,combos:s},update:{nodes:n,edges:o,combos:l},remove:{nodes:r,edges:a,combos:u}}}class sZ extends aU{constructor(t,e){super(t,Object.assign({},sZ.defaultOptions,e)),this.batchChanges=null,this.batchAnimation=!1,this.undoStack=[],this.redoStack=[],this.freezed=!1,this.executeCommand=(t,e=!0)=>{var n,r,i;this.freezed=!0,null===(r=(n=this.options).executeCommand)||void 0===r||r.call(n,t);let o=e?t.original:t.current;this.context.graph.addData(o.add),this.context.graph.updateData(o.update),this.context.graph.removeData(e3(o.remove,!1)),null===(i=this.context.element)||void 0===i||i.draw({silence:!0,animation:t.animation}),this.freezed=!1},this.addCommand=t=>{var e;if(!this.freezed){if(t.type===A.AFTER_DRAW){let{dataChanges:n=[],animation:r=!0}=t.data;if(null===(e=this.context.batch)||void 0===e?void 0:e.isBatching){if(!this.batchChanges)return;this.batchChanges.push(n),this.batchAnimation&&(this.batchAnimation=r);return}this.batchChanges=[n],this.batchAnimation=r}this.undoStackPush(function(t,e=!1,n){let r={animation:e,current:{add:{},update:{},remove:{}},original:{add:{},update:{},remove:{}}},{add:i,update:o,remove:a}=sI(sN(t));return["nodes","edges","combos"].forEach(t=>{o[t]&&o[t].forEach(e=>{var i,o;let a=Object.assign({},e.value),s=Object.assign({},e.original);if(n){let t=n.graph.getElementType(e2(e.original)),r="edge"===t?"stroke":"fill",i=n.element.getElementComputedStyle(t,e.original);s=Object.assign(Object.assign({},e.original),{style:Object.assign({[r]:i[r]},e.original.style)})}(function t(e,n){for(let r in e)(0,tQ.Z)(e[r])&&!Array.isArray(e[r])&&null!==e[r]?(n[r]||(n[r]={}),t(e[r],n[r])):void 0===n[r]&&(n[r]=ee(r))})(a,s),(i=r.current.update)[t]||(i[t]=[]),r.current.update[t].push(a),(o=r.original.update)[t]||(o[t]=[]),r.original.update[t].push(s)}),i[t]&&i[t].forEach(e=>{var n,i;let o=Object.assign({},e.value);(n=r.current.add)[t]||(n[t]=[]),r.current.add[t].push(o),(i=r.original.remove)[t]||(i[t]=[]),r.original.remove[t].push(o)}),a[t]&&a[t].forEach(e=>{var n,i;let o=Object.assign({},e.value);(n=r.current.remove)[t]||(n[t]=[]),r.current.remove[t].push(o),(i=r.original.add)[t]||(i[t]=[]),r.original.add[t].push(o)})}),r}(this.batchChanges.flat(),this.batchAnimation,this.context)),this.notify(T.ADD,this.undoStack[this.undoStack.length-1])}},this.initBatchCommand=t=>{let{initiate:e}=t.data;this.batchAnimation=!1,e?this.batchChanges=[]:this.undoStack.pop()||(this.batchChanges=null)},this.emitter=new sD.Z;let{graph:n}=this.context;n.on(A.AFTER_DRAW,this.addCommand),n.on(A.BATCH_START,this.initBatchCommand),n.on(A.BATCH_END,this.addCommand)}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}undo(){var t,e,n,r;let i=this.undoStack.pop();if(i){if(this.executeCommand(i),!1===(null===(e=(t=this.options).beforeAddCommand)||void 0===e?void 0:e.call(t,i,!1)))return;this.redoStack.push(i),null===(r=(n=this.options).afterAddCommand)||void 0===r||r.call(n,i,!1),this.notify(T.UNDO,i)}return this}redo(){let t=this.redoStack.pop();return t&&(this.executeCommand(t,!1),this.undoStackPush(t),this.notify(T.REDO,t)),this}undoAndCancel(){let t=this.undoStack.pop();return t&&(this.executeCommand(t,!1),this.redoStack=[],this.notify(T.CANCEL,t)),this}undoStackPush(t){var e,n,r,i;let{stackSize:o}=this.options;0!==o&&this.undoStack.length>=o&&this.undoStack.shift(),!1!==(null===(n=(e=this.options).beforeAddCommand)||void 0===n?void 0:n.call(e,t,!0))&&(this.undoStack.push(t),null===(i=(r=this.options).afterAddCommand)||void 0===i||i.call(r,t,!0))}clear(){this.undoStack=[],this.redoStack=[],this.batchChanges=null,this.batchAnimation=!1,this.notify(T.CLEAR,null)}notify(t,e){this.emitter.emit(t,{cmd:e}),this.emitter.emit(T.CHANGE,{cmd:e})}on(t,e){this.emitter.on(t,e)}destroy(){let{graph:t}=this.context;t.off(A.AFTER_DRAW,this.addCommand),t.off(A.BATCH_START,this.initBatchCommand),t.off(A.BATCH_END,this.addCommand),this.emitter.off(),super.destroy(),this.undoStack=[],this.redoStack=[]}}sZ.defaultOptions={stackSize:0};var sj=n(41642),s_=n.n(sj);let sB=(t,e,n)=>{if("sharp"===n)return[["M",t[0]-e,t[1]-e],["L",t[0]+e,t[1]-e],["L",t[0]+e,t[1]+e],["L",t[0]-e,t[1]+e],["Z"]];let r=[e,e,0,0,0];return[["M",t[0],t[1]-e],["A",...r,t[0],t[1]+e],["A",...r,t[0],t[1]-e]]},sF=(t,e,n)=>{let r=[e,e,0,0,0],i="sharp"===n?nc(t[0],nf(nv(nh(t[0],t[1])),e)):t[0],o="sharp"===n?nc(t[1],nf(nv(nh(t[1],t[0])),e)):t[1],a=nf(nv(nb(nh(i,o),!1)),e),s=nf(a,-1),l=nc(i,a),u=nc(o,a),c=nc(o,s),h=nc(i,s);return"sharp"===n?[["M",l[0],l[1]],["L",u[0],u[1]],["L",c[0],c[1]],["L",h[0],h[1]],["Z"]]:[["M",l[0],l[1]],["L",u[0],u[1]],["A",...r,c[0],c[1]],["L",h[0],h[1]],["A",...r,l[0],l[1]]]},sz=(t,e)=>{let n=nj(t).map((n,r)=>{let i=(r-2+t.length)%t.length,o=(r-1+t.length)%t.length,a=(r+1)%t.length,s=t[i],l=t[o],u=t[a],c=nh(s,l),h=nh(l,n),d=nh(n,u),p=(t,e)=>ny(t,e,!0)<Math.PI,f=p(c,h),g=p(h,d),m=t=>nf(nv(nb(t,!1)),e),v=m(h);return[{p:nx(f?nc(l,m(c)):nc(l,v)),concave:f&&l},{p:nx(g?nc(n,m(d)):nc(n,v)),concave:g&&n}]}),r=[e,e,0,0,0],i=n.findIndex((t,e)=>!n[(e-1+n.length)%n.length][0].concave&&!n[(e-1+n.length)%n.length][1].concave&&!t[0].concave&&!t[0].concave&&!t[1].concave),o=n.slice(i).concat(n.slice(0,i)),a=[];return o.flatMap((t,e)=>{let i=[],s=o[n.length-1];return 0===e&&i.push(["M",...s[1].p]),t[0].concave?a.push(t[0].p,t[1].p):i.push(["A",...r,...t[0].p]),t[1].concave?a.unshift(t[1].p):i.push(["L",...t[1].p]),3===a.length&&(i.pop(),i.push(["C",...a.flat()]),a=[]),i})},sW=(t,e)=>{let n=nj(t).map((e,n)=>({p:e,v:nv(nh(t[(n+1)%t.length],e))}));return n.forEach((r,i)=>{let o=n[i>0?i-1:t.length-1].v,a=nv(nc(o,nf(r.v,ny(o,r.v,!0)<Math.PI?1:-1)));r.p=nc(r.p,nf(a,e))}),rm(n.map(t=>t.p))},sV=(t,e)=>{let n=t.map((n,r)=>{let i=t[0===r?t.length-1:r-1],o=nE(nf(nv(nb(nh(i,n),!1)),e));return[nc(i,o),nc(n,o)]}).flat();return n.map((t,e)=>e%2==0?null:nM([n[(e-1)%n.length],n[e%n.length]],[n[(e+1)%n.length],n[(e+2)%n.length]],!0)).filter(Boolean).map((t,e)=>[0===e?"M":"L",t[0],t[1]]).concat([["Z"]])};var sH=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)0>e.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class sG extends aU{constructor(t,e){super(t,Object.assign({},sG.defaultOptions,e)),this.hullMemberIds=[],this.drawHull=()=>{if(this.shape){let t=!tJ(this.optionsCache,this.options);this.shape.update(this.getHullStyle(t))}else this.shape=new ry({style:this.getHullStyle()}),this.context.canvas.appendChild(this.shape);this.optionsCache=Object.assign({},this.options)},this.updateHullPath=t=>{this.shape&&this.options.members.includes(e2(t.data))&&this.shape.update({d:this.getHullPath(!0)})},this.getHullPath=(t=!1)=>{let{graph:e}=this.context,n=this.getMember();if(0===n.length)return"";let r=n.map(t=>e.getNodeData(t)),i=s_()(r.map(nO),this.options.concavity).slice(1).reverse(),o=i.flatMap(t=>r.filter(e=>tJ(nO(e),t)).map(e2));return tJ(o,this.hullMemberIds)&&!t||(this.hullMemberIds=o,this.path=function(t,e,n){if(1===t.length)return sB(t[0],e,n);if(2===t.length)return sF(t,e,n);if(3===t.length){let[r,i,o]=nj(t);if(nS([r,i],[i,o]))return sF([r,o],e,n)}switch(n){case"smooth":return sW(t,e);case"sharp":return sV(t,e);default:return sz(t,e)}}(i,this.getPadding(),this.options.corner)),this.path},this.bindEvents()}bindEvents(){this.context.graph.on(A.AFTER_RENDER,this.drawHull),this.context.graph.on(A.AFTER_ELEMENT_UPDATE,this.updateHullPath)}getHullStyle(t){let e=this.options,{members:n,padding:r,corner:i}=e;return Object.assign(Object.assign({},sH(e,["members","padding","corner"])),{d:this.getHullPath(t)})}getPadding(){let{graph:t}=this.context;return this.hullMemberIds.reduce((e,n)=>{let{halfExtents:r}=t.getElementRenderBounds(n);return Math.max(e,Math.max(r[0],r[1]))},0)+this.options.padding}addMember(t){let e=Array.isArray(t)?t:[t];this.options.members=[...new Set([...this.options.members,...e])],this.shape.update({d:this.getHullPath()})}removeMember(t){let e=Array.isArray(t)?t:[t];this.options.members=this.options.members.filter(t=>!e.includes(t)),e.some(t=>this.hullMemberIds.includes(t))&&this.shape.update({d:this.getHullPath()})}updateMember(t){this.options.members=(0,eu.Z)(t)?t(this.options.members):t,this.shape.update(this.getHullStyle(!0))}getMember(){return this.options.members}destroy(){this.context.graph.off(A.AFTER_DRAW,this.drawHull),this.shape.destroy(),this.hullMemberIds=[],super.destroy()}}sG.defaultOptions={members:[],padding:10,corner:"rounded",concavity:1/0,fill:"lightblue",fillOpacity:.2,labelOpacity:1,stroke:"blue",strokeOpacity:.2};var s$=function(t,e){return(s$=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function sU(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}s$(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var sq=function(){return(sq=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function sK(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)0>e.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function sY(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function sX(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function sJ(t,e,n){if(n||2==arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}function sQ(t,e,n,r){if("a"===n&&!r)throw TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}function s0(t){s2(t,!0)}function s1(t){s2(t,!1)}function s2(t,e){var n=e?"visible":"hidden";!function t(e,n){n(e),e.children&&e.children.forEach(function(e){e&&t(e,n)})}(t,function(t){t.attr("visibility",n)})}"function"==typeof SuppressedError&&SuppressedError;var s3=function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=5),Object.entries(e).forEach(function(i){var o=sX(i,2),a=o[0],s=o[1];Object.prototype.hasOwnProperty.call(e,a)&&(s?(0,aH.Z)(s)?((0,aH.Z)(t[a])||(t[a]={}),n<r?s3(t[a],s,n+1,r):t[a]=e[a]):(0,ec.Z)(s)?(t[a]=[],t[a]=t[a].concat(s)):t[a]=s:t[a]=s)})},s6=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)s3(t,e[r]);return t},s5=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(this,sJ([],sX(e),!1))||this;return r.isMutationObserved=!0,r.addEventListener(F.Dk.INSERTED,function(){s1(r)}),r}return sU(e,t),e}(F.ZA);function s4(t){var e=t.appendChild(new s5({class:"offscreen"}));return s1(e),e}function s8(){s2(this,"hidden"!==this.attributes.visibility)}var s9=function(t){function e(e,n){void 0===n&&(n={});var r=t.call(this,s6({},{style:n},e))||this;return r.initialized=!1,r._defaultOptions=n,r}return sU(e,t),Object.defineProperty(e.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=s4(this)),this._offscreen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultOptions",{get:function(){return this._defaultOptions},enumerable:!1,configurable:!0}),e.prototype.connectedCallback=function(){this.render(this.attributes,this),this.bindEvents(this.attributes,this),this.initialized=!0},e.prototype.disconnectedCallback=function(){var t;null===(t=this._offscreen)||void 0===t||t.destroy()},e.prototype.attributeChangedCallback=function(t){"visibility"===t&&s8.call(this)},e.prototype.update=function(t,e){var n;return this.attr(s6({},this.attributes,t||{})),null===(n=this.render)||void 0===n?void 0:n.call(this,this.attributes,this,e)},e.prototype.clear=function(){this.removeChildren()},e.prototype.bindEvents=function(t,e){},e.prototype.getSubShapeStyle=function(t){return t.x,t.y,t.transform,t.transformOrigin,t.class,t.className,t.zIndex,sK(t,["x","y","transform","transformOrigin","class","className","zIndex"])},e}(F.b_);function s7(t){return t.toString().charAt(0).toUpperCase()+t.toString().slice(1)}function lt(t,e,n){void 0===n&&(n=!0);var r,i=e||(null===(r=t.match(/^([a-z][a-z0-9]+)/))||void 0===r?void 0:r[0])||"",o=t.replace(new RegExp("^(".concat(i,")")),"");return n?o.toString().charAt(0).toLowerCase()+o.toString().slice(1):o}var le=function(t,e){if(!(null==t?void 0:t.startsWith(e)))return!1;var n=t[e.length];return n>="A"&&n<="Z"};function ln(t,e,n){void 0===n&&(n=!1);var r={};return Object.entries(t).forEach(function(t){var i=sX(t,2),o=i[0],a=i[1];if("className"===o||"class"===o);else if(le(o,"show")&&le(lt(o,"show"),e)!==n)o==="".concat("show").concat(s7(e))?r[o]=a:r[o.replace(new RegExp(s7(e)),"")]=a;else if(!le(o,"show")&&le(o,e)!==n){var s=lt(o,e);"filter"===s&&"function"==typeof a||(r[s]=a)}}),r}function lr(t,e){return Object.entries(t).reduce(function(t,n){var r=sX(n,2),i=r[0],o=r[1];return i.startsWith("show")?t["show".concat(e).concat(i.slice(4))]=o:t["".concat(e).concat(s7(i))]=o,t},{})}function li(t,e){void 0===e&&(e=["x","y","class","className"]);var n=["transform","transformOrigin","anchor","visibility","pointerEvents","zIndex","cursor","clipPath","clipPathTargets","offsetPath","offsetPathTargets","offsetDistance","draggable","droppable"],r={},i={};return Object.entries(t).forEach(function(t){var o=sX(t,2),a=o[0],s=o[1];e.includes(a)||(-1!==n.indexOf(a)?i[a]=s:r[a]=s)}),[r,i]}var lo=function(t){function e(e){void 0===e&&(e={});var n=e.style,r=sK(e,["style"]);return t.call(this,sq({style:sq({text:"",fill:"black",fontFamily:"sans-serif",fontSize:16,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",lineWidth:1,textAlign:"start",textBaseline:"middle"},n)},r))||this}return sU(e,t),Object.defineProperty(e.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=s4(this)),this._offscreen},enumerable:!1,configurable:!0}),e.prototype.disconnectedCallback=function(){var t;null===(t=this._offscreen)||void 0===t||t.destroy()},e}(F.xv),la=function(){var t,e,n;function r(e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=null),void 0===r&&(r=null),void 0===i&&(i=null),void 0===o&&(o=[null,null,null,null,null]),void 0===a&&(a=[]),void 0===s&&(s=[]),t.add(this),this._elements=Array.from(e),this._data=n,this._parent=r,this._document=i,this._enter=o[0],this._update=o[1],this._exit=o[2],this._merge=o[3],this._split=o[4],this._transitions=a,this._facetElements=s}return r.prototype.selectAll=function(t){var n="string"==typeof t?this._parent.querySelectorAll(t):t;return new e(n,null,this._elements[0],this._document)},r.prototype.selectFacetAll=function(t){var n="string"==typeof t?this._parent.querySelectorAll(t):t;return new e(this._elements,null,this._parent,this._document,void 0,void 0,n)},r.prototype.select=function(t){var n="string"==typeof t?this._parent.querySelectorAll(t)[0]||null:t;return new e([n],null,n,this._document)},r.prototype.append=function(t){var n=this,r="function"==typeof t?t:function(){return n.createElement(t)},i=[];if(null!==this._data){for(var o=0;o<this._data.length;o++){var a=this._data[o],s=sX(Array.isArray(a)?a:[a,null],2),l=s[0],u=s[1],c=r(l,o);c.__data__=l,null!==u&&(c.__fromElements__=u),this._parent.appendChild(c),i.push(c)}return new e(i,null,this._parent,this._document)}for(var o=0;o<this._elements.length;o++){var h=this._elements[o],l=h.__data__,c=r(l,o);h.appendChild(c),i.push(c)}return new e(i,null,i[0],this._document)},r.prototype.maybeAppend=function(e,r){var i=sQ(this,t,"m",n).call(this,"#"===e[0]?e:"#".concat(e),r);return i.attr("id",e),i},r.prototype.maybeAppendByClassName=function(e,r){var i=e.toString(),o=sQ(this,t,"m",n).call(this,"."===i[0]?i:".".concat(i),r);return o.attr("className",i),o},r.prototype.maybeAppendByName=function(e,r){var i=sQ(this,t,"m",n).call(this,'[name="'.concat(e,'"]'),r);return i.attr("name",e),i},r.prototype.data=function(t,n,r){void 0===n&&(n=function(t){return t}),void 0===r&&(r=function(){return null});for(var i,o,a,s,l,u=[],c=[],h=new Set(this._elements),d=[],p=new Set,f=new Map(this._elements.map(function(t,e){return[n(t.__data__,e),t]})),g=new Map(this._facetElements.map(function(t,e){return[n(t.__data__,e),t]})),m=(i=this._elements,o=function(t){return r(t.__data__)},a=new Map,i.forEach(function(t){var e=o(t);a.has(e)||a.set(e,[]),a.get(e).push(t)}),a),v=0;v<t.length;v++){var y=t[v],b=n(y,v),x=r(y,v);if(f.has(b)){var E=f.get(b);E.__data__=y,E.__facet__=!1,c.push(E),h.delete(E),f.delete(b)}else if(g.has(b)){var E=g.get(b);E.__data__=y,E.__facet__=!0,c.push(E),g.delete(b)}else if(m.has(b)){var w=m.get(b);d.push([y,w]);try{for(var S=(s=void 0,sY(w)),M=S.next();!M.done;M=S.next()){var E=M.value;h.delete(E)}}catch(t){s={error:t}}finally{try{M&&!M.done&&(l=S.return)&&l.call(S)}finally{if(s)throw s.error}}m.delete(b)}else if(f.has(x)){var E=f.get(x);E.__toData__?E.__toData__.push(y):E.__toData__=[y],p.add(E),h.delete(E)}else u.push(y)}var k=[new e([],u,this._parent,this._document),new e(c,null,this._parent,this._document),new e(h,null,this._parent,this._document),new e([],d,this._parent,this._document),new e(p,null,this._parent,this._document)];return new e(this._elements,null,this._parent,this._document,k)},r.prototype.merge=function(t){var n=sJ(sJ([],sX(this._elements),!1),sX(t._elements),!1),r=sJ(sJ([],sX(this._transitions),!1),sX(t._transitions),!1);return new e(n,null,this._parent,this._document,void 0,r)},r.prototype.createElement=function(t){if(this._document)return this._document.createElement(t,{});var n=e.registry[t];return n?new n:function(t){throw Error(t)}("Unknown node type: ".concat(t))},r.prototype.join=function(t,e,n,r,i){void 0===t&&(t=function(t){return t}),void 0===e&&(e=function(t){return t}),void 0===n&&(n=function(t){return t.remove()}),void 0===r&&(r=function(t){return t}),void 0===i&&(i=function(t){return t.remove()});var o=t(this._enter),a=e(this._update),s=n(this._exit),l=r(this._merge),u=i(this._split);return a.merge(o).merge(s).merge(l).merge(u)},r.prototype.remove=function(){for(var t=this,n=0;n<this._elements.length;n++)!function(e){var n=t._elements[e],r=t._transitions[e];r?r.then(function(){return n.remove()}):n.remove()}(n);return new e([],null,this._parent,this._document,void 0,this._transitions)},r.prototype.each=function(t){for(var e=0;e<this._elements.length;e++){var n=this._elements[e],r=n.__data__;t.call(n,r,e)}return this},r.prototype.attr=function(t,e){var n="function"!=typeof e?function(){return e}:e;return this.each(function(r,i){void 0!==e&&(this[t]=n.call(this,r,i))})},r.prototype.style=function(t,e,n){void 0===n&&(n=!0);var r="function"==typeof e&&n?e:function(){return e};return this.each(function(n,i){void 0!==e&&(this.style[t]=r.call(this,n,i))})},r.prototype.styles=function(t,e){return void 0===t&&(t={}),void 0===e&&(e=!0),this.each(function(n,r){var i=this;Object.entries(t).forEach(function(t){var o=sX(t,2),a=o[0],s=o[1],l="function"==typeof s&&e?s:function(){return s};void 0!==s&&i.attr(a,l.call(i,n,r))})})},r.prototype.update=function(t,e){void 0===e&&(e=!0);var n="function"==typeof t&&e?t:function(){return t};return this.each(function(e,r){t&&this.update&&this.update(n.call(this,e,r))})},r.prototype.maybeUpdate=function(t,e){void 0===e&&(e=!0);var n="function"==typeof t&&e?t:function(){return t};return this.each(function(e,r){t&&this.update&&this.update(n.call(this,e,r))})},r.prototype.transition=function(t){var e=this._transitions;return this.each(function(n,r){e[r]=t.call(this,n,r)})},r.prototype.on=function(t,e){return this.each(function(){this.addEventListener(t,e)}),this},r.prototype.call=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return t.call.apply(t,sJ([this._parent,this],sX(e),!1)),this},r.prototype.node=function(){return this._elements[0]},r.prototype.nodes=function(){return this._elements},r.prototype.transitions=function(){return this._transitions.filter(function(t){return!!t})},r.prototype.parent=function(){return this._parent},e=r,t=new WeakSet,n=function(t,n){var r=this._elements[0],i=r.querySelector(t);if(i)return new e([i],null,this._parent,this._document);var o="string"==typeof n?this.createElement(n):n();return r.appendChild(o),new e([o],null,this._parent,this._document)},r.registry={g:F.ZA,rect:F.UL,circle:F.Cd,path:F.y$,text:lo,ellipse:F.Pj,image:F.Ee,line:F.x1,polygon:F.mg,polyline:F.aH,html:F.k9},r}();function ls(t){return new la([t],null,t,t.ownerDocument)}var ll=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x=0,this.y=0,this.width=0,this.height=0,this.x=t,this.y=e,this.width=n,this.height=r}return Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t.prototype.toJSON=function(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.top,right:this.right,bottom:this.bottom,left:this.left}},t.prototype.isPointIn=function(t,e){return t>=this.left&&t<=this.right&&e>=this.top&&e<=this.bottom},t}(),lu=function(t,e){var n=function(t){return"".concat(e,"-").concat(t)},r=Object.fromEntries(Object.entries(t).map(function(t){var e=sX(t,2),r=e[0],i=n(e[1]);return[r,{name:i,class:".".concat(i),id:"#".concat(i),toString:function(){return i}}]}));return Object.assign(r,{prefix:n}),r};function lc(t){if((0,$.Z)(t))return[t,t,t,t];if((0,ec.Z)(t)){var e=t.length;if(1===e)return[t[0],t[0],t[0],t[0]];if(2===e)return[t[0],t[1],t[0],t[1]];if(3===e)return[t[0],t[1],t[2],t[1]];if(4===e)return t}return[0,0,0,0]}function lh(t,e,n,r,i){return(void 0===r&&(r=!0),void 0===i&&(i=function(t){t.node().removeChildren()}),t)?n(e):(r&&i(e),null)}var ld=lu({text:"text"},"title");function lp(t){return/\S+-\S+/g.test(t)?t.split("-").map(function(t){return t[0]}):t.length>2?[t[0]]:t.split("")}function lf(t,e){var n=Object.entries(e).reduce(function(e,n){var r=sX(n,2),i=r[0],o=r[1];return t.node().attr(i)||(e[i]=o),e},{});t.styles(n)}var lg=function(t){function e(e){return t.call(this,e,{text:"",width:0,height:0,fill:"#4a505a",fontWeight:"bold",fontSize:12,fontFamily:"sans-serif",inset:0,spacing:0,position:"top-left"})||this}return sU(e,t),e.prototype.getAvailableSpace=function(){var t=this.attributes,e=t.width,n=t.height,r=t.position,i=t.spacing,o=t.inset,a=this.querySelector(ld.text.class);if(!a)return new ll(0,0,+e,+n);var s=a.getBBox(),l=s.width,u=s.height,c=sX(lc(i),4),h=c[0],d=c[1],p=c[2],f=c[3],g=sX([0,0,+e,+n],4),m=g[0],v=g[1],y=g[2],b=g[3],x=lp(r);if(x.includes("i"))return new ll(m,v,y,b);x.forEach(function(t,r){var i,o;"t"===t&&(v=(i=sX(0===r?[u+p,+n-u-p]:[0,+n],2))[0],b=i[1]),"r"===t&&(y=sX([+e-l-f],1)[0]),"b"===t&&(b=sX([+n-u-h],1)[0]),"l"===t&&(m=(o=sX(0===r?[l+d,+e-l-d]:[0,+e],2))[0],y=o[1])});var E=sX(lc(o),4),w=E[0],S=E[1],M=E[2],k=E[3],O=sX([k+S,w+M],2),C=O[0],A=O[1];return new ll(m+k,v+w,y-C,b-A)},e.prototype.getBBox=function(){return this.title?this.title.getBBox():new ll(0,0,0,0)},e.prototype.render=function(t,e){var n,r,i,o,a,s,l,u,c,h,d,p,f,g,m=this;t.width,t.height,t.position,t.spacing;var v=sK(t,["width","height","position","spacing"]),y=sX(li(v),1)[0],b=(a=t.width,s=t.height,l=t.position,u=sX([+a/2,+s/2],2),h=(c=sX([+u[0],+u[1],"center","middle"],4))[0],d=c[1],p=c[2],f=c[3],(g=lp(l)).includes("l")&&(h=(n=sX([0,"start"],2))[0],p=n[1]),g.includes("r")&&(h=(r=sX([+a,"end"],2))[0],p=r[1]),g.includes("t")&&(d=(i=sX([0,"top"],2))[0],f=i[1]),g.includes("b")&&(d=(o=sX([+s,"bottom"],2))[0],f=o[1]),{x:h,y:d,textAlign:p,textBaseline:f}),x=b.x,E=b.y,w=b.textAlign,S=b.textBaseline;lh(!!v.text,ls(e),function(t){m.title=t.maybeAppendByClassName(ld.text,"text").styles(y).call(lf,{x:x,y:E,textAlign:w,textBaseline:S}).node()})},e}(s9),lm=function(){};function lv(t,e){return(0,eu.Z)(t)?t.apply(void 0,sJ([],sX(e),!1)):t}function ly(t){if(!t)return{enter:!1,update:!1,exit:!1};var e=["enter","update","exit"],n=Object.fromEntries(Object.entries(t).filter(function(t){var n=sX(t,1)[0];return!e.includes(n)}));return Object.fromEntries(e.map(function(e){return"boolean"!=typeof t&&"enter"in t&&"update"in t&&"exit"in t?!1===t[e]?[e,!1]:[e,sq(sq({},t[e]),n)]:[e,n]}))}function lb(t,e){t?t.finished.then(e):e()}function lx(t,e){"update"in t?t.update(e):t.attr(e)}function lE(t,e,n){return 0===e.length?null:n?t.animate(e,n):(lx(t,{style:e.slice(-1)[0]}),null)}function lw(t,e,n){var r={},i={};return(Object.entries(e).forEach(function(e){var n=sX(e,2),o=n[0],a=n[1];if(!(0,tt.Z)(a)){var s=t.style[o]||t.parsedStyle[o]||0;s!==a&&(r[o]=s,i[o]=a)}}),n)?lE(t,[r,i],sq({fill:"both"},n)):(lx(t,i),null)}function lS(t,e,n){void 0===n&&(n=!1);var r=t.getBBox(),i=e/Math.max(r.width,r.height);return n&&(t.style.transform="scale(".concat(i,")")),i}var lM=function(t,e,n){return[["M",t-n,e],["A",n,n,0,1,0,t+n,e],["A",n,n,0,1,0,t-n,e],["Z"]]},lk=function(t,e,n){return[["M",t,e+n],["L",t,e-n]]},lO=function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},lC=lu({prevBtnGroup:"prev-btn-group",prevBtn:"prev-btn",nextBtnGroup:"next-btn-group",nextBtn:"next-btn",pageInfoGroup:"page-info-group",pageInfo:"page-info",playWindow:"play-window",contentGroup:"content-group",controller:"controller",clipPath:"clip-path"},"navigator"),lA=function(t){function e(e){var n=t.call(this,e,{x:0,y:0,animate:{easing:"linear",duration:200,fill:"both"},buttonCursor:"pointer",buttonFill:"black",buttonD:[["M",-6,-6],["L",6,0],["L",-6,6],["Z"]],buttonSize:12,controllerPadding:5,controllerSpacing:5,formatter:function(t,e){return"".concat(t,"/").concat(e)},defaultPage:0,loop:!1,orientation:"horizontal",pageNumFill:"black",pageNumFontSize:12,pageNumTextAlign:"start",pageNumTextBaseline:"middle"})||this;return n.playState="idle",n.contentGroup=n.appendChild(new F.ZA({class:lC.contentGroup.name})),n.playWindow=n.contentGroup.appendChild(new F.ZA({class:lC.playWindow.name})),n.innerCurrPage=n.defaultPage,n}return sU(e,t),Object.defineProperty(e.prototype,"defaultPage",{get:function(){var t=this.attributes.defaultPage;return(0,Q.Z)(t,0,Math.max(this.pageViews.length-1,0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageViews",{get:function(){return this.playWindow.children},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"controllerShape",{get:function(){return this.totalPages>1?{width:55,height:0}:{width:0,height:0}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageShape",{get:function(){var t,e,n=sX(((null===(e=(t=this.pageViews.map(function(t){var e=t.getBBox();return[e.width,e.height]}))[0])||void 0===e?void 0:e.map(function(e,n){return t.map(function(t){return t[n]})}))||[]).map(function(t){return Math.max.apply(Math,sJ([],sX(t),!1))}),2),r=n[0],i=n[1],o=this.attributes,a=o.pageWidth,s=o.pageHeight;return{pageWidth:void 0===a?r:a,pageHeight:void 0===s?i:s}},enumerable:!1,configurable:!0}),e.prototype.getContainer=function(){return this.playWindow},Object.defineProperty(e.prototype,"totalPages",{get:function(){return this.pageViews.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currPage",{get:function(){return this.innerCurrPage},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){var e=t.prototype.getBBox.call(this),n=e.x,r=e.y,i=this.controllerShape,o=this.pageShape,a=o.pageWidth,s=o.pageHeight;return new ll(n,r,a+i.width,s)},e.prototype.goTo=function(t){var e=this,n=this.attributes.animate,r=this.currPage,i=this.playState,o=this.playWindow,a=this.pageViews;if("idle"!==i||t<0||a.length<=0||t>=a.length)return null;a[r].setLocalPosition(0,0),this.prepareFollowingPage(t);var s=sX(this.getFollowingPageDiff(t),2),l=s[0],u=s[1];this.playState="running";var c=lE(o,[{transform:"translate(0, 0)"},{transform:"translate(".concat(-l,", ").concat(-u,")")}],n);return lb(c,function(){e.innerCurrPage=t,e.playState="idle",e.setVisiblePages([t]),e.updatePageInfo()}),c},e.prototype.prev=function(){var t=this.attributes.loop,e=this.pageViews.length,n=this.currPage;if(!t&&n<=0)return null;var r=t?(n-1+e)%e:(0,Q.Z)(n-1,0,e);return this.goTo(r)},e.prototype.next=function(){var t=this.attributes.loop,e=this.pageViews.length,n=this.currPage;if(!t&&n>=e-1)return null;var r=t?(n+1)%e:(0,Q.Z)(n+1,0,e);return this.goTo(r)},e.prototype.renderClipPath=function(t){var e=this.pageShape,n=e.pageWidth,r=e.pageHeight;if(!n||!r){this.contentGroup.style.clipPath=void 0;return}this.clipPath=t.maybeAppendByClassName(lC.clipPath,"rect").styles({width:n,height:r}),this.contentGroup.attr("clipPath",this.clipPath.node())},e.prototype.setVisiblePages=function(t){this.playWindow.children.forEach(function(e,n){t.includes(n)?s0(e):s1(e)})},e.prototype.adjustControllerLayout=function(){var t=this.prevBtnGroup,e=this.nextBtnGroup,n=this.pageInfoGroup,r=this.attributes,i=r.orientation,o=r.controllerPadding,a=n.getBBox(),s=a.width;a.height;var l=sX("horizontal"===i?[-180,0]:[-90,90],2),u=l[0],c=l[1];t.setLocalEulerAngles(u),e.setLocalEulerAngles(c);var h=t.getBBox(),d=h.width,p=h.height,f=e.getBBox(),g=f.width,m=f.height,v=Math.max(d,s,g),y="horizontal"===i?{offset:[[0,0],[d/2+o,0],[d+s+2*o,0]],textAlign:"start"}:{offset:[[v/2,-p-o],[v/2,0],[v/2,m+o]],textAlign:"center"},b=sX(y.offset,3),x=sX(b[0],2),E=x[0],w=x[1],S=sX(b[1],2),M=S[0],k=S[1],O=sX(b[2],2),C=O[0],A=O[1],T=y.textAlign,P=n.querySelector("text");P&&(P.style.textAlign=T),t.setLocalPosition(E,w),n.setLocalPosition(M,k),e.setLocalPosition(C,A)},e.prototype.updatePageInfo=function(){var t,e=this.currPage,n=this.pageViews,r=this.attributes.formatter;n.length<2||(null===(t=this.pageInfoGroup.querySelector(lC.pageInfo.class))||void 0===t||t.attr("text",r(e+1,n.length)),this.adjustControllerLayout())},e.prototype.getFollowingPageDiff=function(t){var e=this.currPage;if(e===t)return[0,0];var n=this.attributes.orientation,r=this.pageShape,i=r.pageWidth,o=r.pageHeight,a=t<e?-1:1;return"horizontal"===n?[a*i,0]:[0,a*o]},e.prototype.prepareFollowingPage=function(t){var e=this.currPage,n=this.pageViews;if(this.setVisiblePages([t,e]),t!==e){var r=sX(this.getFollowingPageDiff(t),2),i=r[0],o=r[1];n[t].setLocalPosition(i,o)}},e.prototype.renderController=function(t){var e=this,n=this.attributes.controllerSpacing,r=this.pageShape,i=r.pageWidth,o=r.pageHeight,a=this.pageViews.length>=2,s=t.maybeAppendByClassName(lC.controller,"g");if(s2(s.node(),a),a){var l=ln(this.attributes,"button"),u=ln(this.attributes,"pageNum"),c=sX(li(l),2),h=c[0],d=c[1],p=h.size,f=sK(h,["size"]),g=!s.select(lC.prevBtnGroup.class).node(),m=s.maybeAppendByClassName(lC.prevBtnGroup,"g").styles(d);this.prevBtnGroup=m.node();var v=m.maybeAppendByClassName(lC.prevBtn,"path"),y=s.maybeAppendByClassName(lC.nextBtnGroup,"g").styles(d);this.nextBtnGroup=y.node(),[v,y.maybeAppendByClassName(lC.nextBtn,"path")].forEach(function(t){t.styles(sq(sq({},f),{transformOrigin:"center"})),lS(t.node(),p,!0)});var b=s.maybeAppendByClassName(lC.pageInfoGroup,"g");this.pageInfoGroup=b.node(),b.maybeAppendByClassName(lC.pageInfo,"text").styles(u),this.updatePageInfo(),s.node().setLocalPosition(i+n,o/2),g&&(this.prevBtnGroup.addEventListener("click",function(){e.prev()}),this.nextBtnGroup.addEventListener("click",function(){e.next()}))}},e.prototype.render=function(t,e){var n=t.x,r=t.y;this.attr("transform","translate(".concat(void 0===n?0:n,", ").concat(void 0===r?0:r,")"));var i=ls(e);this.renderClipPath(i),this.renderController(i),this.setVisiblePages([this.defaultPage]),this.goTo(this.defaultPage)},e.prototype.bindEvents=function(){var t=this,e=at(function(){return t.render(t.attributes,t)},50);this.playWindow.addEventListener(F.Dk.INSERTED,e),this.playWindow.addEventListener(F.Dk.REMOVED,e)},e}(s9),lT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return sU(e,t),e.prototype.render=function(t,n){var r,i=t.x,o=void 0===i?0:i,a=t.y,s=void 0===a?0:a,l=this.getSubShapeStyle(t),u=l.symbol,c=l.size,h=void 0===c?16:c,d=sK(l,["symbol","size"]),p=["base64","url","image"].includes(r=function(t){var e="default";if((0,tQ.Z)(t)&&t instanceof Image)e="image";else if((0,eu.Z)(t))e="symbol";else if((0,G.Z)(t)){var n=RegExp("data:(image|text)");e=t.match(n)?"base64":/^(https?:\/\/(([a-zA-Z0-9]+-?)+[a-zA-Z0-9]+\.)+[a-zA-Z]+)(:\d+)?(\/.*)?(\?.*)?(#.*)?$/.test(t)?"url":"symbol"}return e}(u))?"image":u&&"symbol"===r?"path":null;lh(!!p,ls(n),function(t){t.maybeAppendByClassName("marker",p).attr("className","marker ".concat(p,"-marker")).call(function(t){if("image"===p){var n=2*h;t.styles({img:u,width:n,height:n,x:o-h,y:s-h})}else{var n=h/2,r=(0,eu.Z)(u)?u:e.getSymbol(u);t.styles(sq({d:null==r?void 0:r(o,s,n)},d))}})})},e.MARKER_SYMBOL_MAP=new Map,e.registerSymbol=function(t,n){e.MARKER_SYMBOL_MAP.set(t,n)},e.getSymbol=function(t){return e.MARKER_SYMBOL_MAP.get(t)},e.getSymbols=function(){return Array.from(e.MARKER_SYMBOL_MAP.keys())},e}(s9);function lP(t,e,n){return void 0===t&&(t="horizontal"),"horizontal"===t?e:n}function lL(t){var e=t.getLocalBounds(),n=sX([e.min,e.max],2),r=sX(n[0],2),i=r[0],o=r[1],a=sX(n[1],2),s=a[0],l=a[1];return{x:i,y:o,width:s-i,height:l-o,left:i,bottom:l,top:o,right:s}}function lR(t,e){var n=sX(t,2),r=n[0],i=n[1],o=sX(e,2),a=o[0],s=o[1];return r!==a&&i===s}function lD(t){return"function"==typeof t?t():(0,G.Z)(t)||(0,$.Z)(t)?new lo({style:{text:String(t)}}):t}lT.registerSymbol("cross",function(t,e,n){return[["M",t-n,e-n],["L",t+n,e+n],["M",t+n,e-n],["L",t-n,e+n]]}),lT.registerSymbol("hyphen",function(t,e,n){return[["M",t-n,e],["L",t+n,e]]}),lT.registerSymbol("line",lk),lT.registerSymbol("plus",function(t,e,n){return[["M",t-n,e],["L",t+n,e],["M",t,e-n],["L",t,e+n]]}),lT.registerSymbol("tick",function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]}),lT.registerSymbol("circle",lM),lT.registerSymbol("point",lM),lT.registerSymbol("bowtie",function(t,e,n){var r=n-1.5;return[["M",t-n,e-r],["L",t+n,e+r],["L",t+n,e-r],["L",t-n,e+r],["Z"]]}),lT.registerSymbol("hexagon",function(t,e,n){var r=n/2*Math.sqrt(3);return[["M",t,e-n],["L",t+r,e-n/2],["L",t+r,e+n/2],["L",t,e+n],["L",t-r,e+n/2],["L",t-r,e-n/2],["Z"]]}),lT.registerSymbol("square",function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]}),lT.registerSymbol("diamond",function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]}),lT.registerSymbol("triangle",function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["Z"]]}),lT.registerSymbol("triangle-down",function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]}),lT.registerSymbol("line",lk),lT.registerSymbol("dot",lO),lT.registerSymbol("dash",lO),lT.registerSymbol("smooth",function(t,e,n){return[["M",t-n,e],["A",n/2,n/2,0,1,1,t,e],["A",n/2,n/2,0,1,0,t+n,e]]}),lT.registerSymbol("hv",function(t,e,n){return[["M",t-n-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+n+1,e+2.5]]}),lT.registerSymbol("vh",function(t,e,n){return[["M",t-n-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+n+1,e-2.5]]}),lT.registerSymbol("hvh",function(t,e,n){return[["M",t-(n+1),e+2.5],["L",t-n/2,e+2.5],["L",t-n/2,e-2.5],["L",t+n/2,e-2.5],["L",t+n/2,e+2.5],["L",t+n+1,e+2.5]]}),lT.registerSymbol("vhv",function(t,e){return[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]]}),lT.registerSymbol("hiddenHandle",function(t,e,n){var r=1.4*n;return[["M",t-n,e-r],["L",t+n,e-r],["L",t+n,e+r],["L",t-n,e+r],["Z"]]}),lT.registerSymbol("verticalHandle",function(t,e,n){var r=1.4*n,i=n/2,o=n/6,a=t+.4*r;return[["M",t,e],["L",a,e+i],["L",t+r,e+i],["L",t+r,e-i],["L",a,e-i],["Z"],["M",a,e+o],["L",t+r-2,e+o],["M",a,e-o],["L",t+r-2,e-o]]}),lT.registerSymbol("horizontalHandle",function(t,e,n){var r=1.4*n,i=n/2,o=n/6,a=e+.4*r;return[["M",t,e],["L",t-i,a],["L",t-i,e+r],["L",t+i,e+r],["L",t+i,a],["Z"],["M",t-o,a],["L",t-o,e+r-2],["M",t+o,a],["L",t+o,e+r-2]]});var lN=aj(function(t,e){var n=e.fontSize,r=e.fontFamily,i=e.fontWeight,o=e.fontStyle,a=e.fontVariant;return _?_(t,n):(j||(j=F.GZ.offscreenCanvasCreator.getOrCreateContext(void 0)),j.font=[o,a,i,"".concat(n,"px"),r].join(" "),j.measureText(t).width)},function(t,e){return[t,Object.values(e||lI(t)).join()].join("")},4096),lI=function(t){var e=t.style.fontFamily||"sans-serif",n=t.style.fontWeight||"normal",r=t.style.fontStyle||"normal",i=t.style.fontVariant,o=t.style.fontSize;return{fontSize:o="object"==typeof o?o.value:o,fontFamily:e,fontWeight:n,fontStyle:r,fontVariant:i}};function lZ(t){return"text"===t.nodeName?t:"g"===t.nodeName&&1===t.children.length&&"text"===t.children[0].nodeName?t.children[0]:null}function lj(t,e){var n=lZ(t);n&&n.attr(e)}function l_(t,e,n){void 0===n&&(n="..."),lj(t,{wordWrap:!0,wordWrapWidth:e,maxLines:1,textOverflow:n})}var lB=lu({layout:"flex",markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label",valueGroup:"value-group",value:"value",backgroundGroup:"background-group",background:"background"},"legend-category-item"),lF=function(t){function e(e){return t.call(this,e,{span:[1,1],marker:function(){return new F.Cd({style:{r:6}})},markerSize:10,labelFill:"#646464",valueFill:"#646464",labelFontSize:12,valueFontSize:12,labelTextBaseline:"middle",valueTextBaseline:"middle"})||this}return sU(e,t),Object.defineProperty(e.prototype,"showValue",{get:function(){var t=this.attributes.valueText;return!!t&&("string"==typeof t||"number"==typeof t?""!==t:"function"==typeof t||""!==t.attr("text"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"actualSpace",{get:function(){var t=this.labelGroup,e=this.valueGroup,n=this.attributes.markerSize,r=t.node().getBBox(),i=r.width,o=r.height,a=e.node().getBBox();return{markerWidth:n,labelWidth:i,valueWidth:a.width,height:Math.max(n,o,a.height)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"span",{get:function(){var t=this.attributes.span;if(!t)return[1,1];var e=sX(lc(t),2),n=e[0],r=e[1],i=this.showValue?r:0,o=n+i;return[n/o,i/o]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shape",{get:function(){var t,e=this.attributes,n=e.markerSize,r=e.width,i=this.actualSpace,o=i.markerWidth,a=i.height,s=this.actualSpace,l=s.labelWidth,u=s.valueWidth,c=sX(this.spacing,2),h=c[0],d=c[1];if(r){var p=r-n-h-d,f=sX(this.span,2);l=(t=sX([f[0]*p,f[1]*p],2))[0],u=t[1]}return{width:o+l+u+h+d,height:a,markerWidth:o,labelWidth:l,valueWidth:u}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){var t=this.attributes.spacing;if(!t)return[0,0];var e=sX(lc(t),2),n=e[0],r=e[1];return this.showValue?[n,r]:[n,0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"layout",{get:function(){var t=this.shape,e=t.markerWidth,n=t.labelWidth,r=t.valueWidth,i=t.width,o=t.height,a=sX(this.spacing,2),s=a[0];return{height:o,width:i,markerWidth:e,labelWidth:n,valueWidth:r,position:[e/2,e+s,e+n+s+a[1]]}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleSize",{get:function(){var t,e=(t=this.markerGroup.node().querySelector(lB.marker.class))?t.style:{},n=this.attributes,r=n.markerSize,i=n.markerStrokeWidth,o=void 0===i?e.strokeWidth:i,a=n.markerLineWidth,s=void 0===a?e.lineWidth:a,l=n.markerStroke,u=void 0===l?e.stroke:l,c=+(o||s||(u?1:0))*Math.sqrt(2),h=this.markerGroup.node().getBBox();return(1-c/Math.max(h.width,h.height))*r},enumerable:!1,configurable:!0}),e.prototype.renderMarker=function(t){var e=this,n=this.attributes.marker,r=ln(this.attributes,"marker");this.markerGroup=t.maybeAppendByClassName(lB.markerGroup,"g").style("zIndex",0),lh(!!n,this.markerGroup,function(){var t,i=e.markerGroup.node(),o=null===(t=i.childNodes)||void 0===t?void 0:t[0],a="string"==typeof n?new lT({style:{symbol:n},className:lB.marker.name}):n();o?a.nodeName===o.nodeName?o instanceof lT?o.update(sq(sq({},r),{symbol:n})):(function(t,e){var n,r,i=e.attributes;try{for(var o=sY(Object.entries(i)),a=o.next();!a.done;a=o.next()){var s=sX(a.value,2),l=s[0],u=s[1];"id"!==l&&"className"!==l&&t.attr(l,u)}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}(o,a),ls(o).styles(r)):(o.remove(),ls(a).attr("className",lB.marker.name).styles(r),i.appendChild(a)):(a instanceof lT||ls(a).attr("className",lB.marker.name).styles(r),i.appendChild(a)),e.markerGroup.node().scale(1/e.markerGroup.node().getScale()[0]);var s=lS(e.markerGroup.node(),e.scaleSize,!0);e.markerGroup.node().style._transform="scale(".concat(s,")")})},e.prototype.renderLabel=function(t){var e=ln(this.attributes,"label"),n=e.text,r=sK(e,["text"]);this.labelGroup=t.maybeAppendByClassName(lB.labelGroup,"g").style("zIndex",0),this.labelGroup.maybeAppendByClassName(lB.label,function(){return lD(n)}).styles(r)},e.prototype.renderValue=function(t){var e=this,n=ln(this.attributes,"value"),r=n.text,i=sK(n,["text"]);this.valueGroup=t.maybeAppendByClassName(lB.valueGroup,"g").style("zIndex",0),lh(this.showValue,this.valueGroup,function(){e.valueGroup.maybeAppendByClassName(lB.value,function(){return lD(r)}).styles(i)})},e.prototype.renderBackground=function(t){var e=this.shape,n=e.width,r=e.height,i=ln(this.attributes,"background");this.background=t.maybeAppendByClassName(lB.backgroundGroup,"g").style("zIndex",-1),this.background.maybeAppendByClassName(lB.background,"rect").styles(sq({width:n,height:r},i))},e.prototype.adjustLayout=function(){var t=this.layout,e=t.labelWidth,n=t.valueWidth,r=t.height,i=sX(t.position,3),o=i[0],a=i[1],s=i[2],l=r/2;this.markerGroup.styles({transform:"translate(".concat(o,", ").concat(l,")").concat(this.markerGroup.node().style._transform)}),this.labelGroup.styles({transform:"translate(".concat(a,", ").concat(l,")")}),l_(this.labelGroup.select(lB.label.class).node(),Math.ceil(e)),this.showValue&&(this.valueGroup.styles({transform:"translate(".concat(s,", ").concat(l,")")}),l_(this.valueGroup.select(lB.value.class).node(),Math.ceil(n)))},e.prototype.render=function(t,e){var n=ls(e),r=t.x,i=t.y;n.styles({transform:"translate(".concat(void 0===r?0:r,", ").concat(void 0===i?0:i,")")}),this.renderMarker(n),this.renderLabel(n),this.renderValue(n),this.renderBackground(n),this.adjustLayout()},e}(s9),lz=lu({page:"item-page",navigator:"navigator",item:"item"},"items"),lW=function(t,e,n){return(void 0===n&&(n=!0),t)?e(t):n},lV=function(t){function e(e){var n=t.call(this,e,{data:[],gridRow:1/0,gridCol:void 0,padding:0,width:1e3,height:100,rowPadding:0,colPadding:0,layout:"flex",orientation:"horizontal",click:lm,mouseenter:lm,mouseleave:lm})||this;return n.navigatorShape=[0,0],n}return sU(e,t),Object.defineProperty(e.prototype,"pageViews",{get:function(){return this.navigator.getContainer()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){var t=this.attributes,e=t.gridRow,n=t.gridCol,r=t.data;if(!e&&!n)throw Error("gridRow and gridCol can not be set null at the same time");return e&&n?[e,n]:e?[e,r.length]:[r.length,n]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"renderData",{get:function(){var t=this.attributes,e=t.data,n=t.layout,r=ln(this.attributes,"item");return e.map(function(t,i){var o=t.id,a=void 0===o?i:o,s=t.label,l=t.value;return{id:"".concat(a),index:i,style:sq({layout:n,labelText:s,valueText:l},Object.fromEntries(Object.entries(r).map(function(n){var r=sX(n,2);return[r[0],lv(r[1],[t,i,e])]})))}})},enumerable:!1,configurable:!0}),e.prototype.getGridLayout=function(){var t=this,e=this.attributes,n=e.orientation,r=e.width,i=e.rowPadding,o=e.colPadding,a=sX(this.navigatorShape,1)[0],s=sX(this.grid,2),l=s[0],u=s[1],c=u*l,h=0;return this.pageViews.children.map(function(e,s){var d,p,f=Math.floor(s/c),g=s%c,m=t.ifHorizontal(u,l),v=[Math.floor(g/m),g%m];"vertical"===n&&v.reverse();var y=sX(v,2),b=y[0],x=y[1],E=(r-a-(u-1)*o)/u,w=e.getBBox().height,S=sX([0,0],2),M=S[0],k=S[1];return"horizontal"===n?(M=(d=sX([h,b*(w+i)],2))[0],k=d[1],h=x===u-1?0:h+E+o):(M=(p=sX([x*(E+o),h],2))[0],k=p[1],h=b===l-1?0:h+w+i),{page:f,index:s,row:b,col:x,pageIndex:g,width:E,height:w,x:M,y:k}})},e.prototype.getFlexLayout=function(){var t=this.attributes,e=t.width,n=t.height,r=t.rowPadding,i=t.colPadding,o=sX(this.navigatorShape,1)[0],a=sX(this.grid,2),s=a[0],l=a[1],u=sX([e-o,n],2),c=u[0],h=u[1],d=sX([0,0,0,0,0,0,0,0],8),p=d[0],f=d[1],g=d[2],m=d[3],v=d[4],y=d[5],b=d[6],x=d[7];return this.pageViews.children.map(function(t,e){var n,o,a,u,d=t.getBBox(),E=d.width,w=d.height,S=0===b?0:i,M=b+S+E;return M<=c&&lW(v,function(t){return t<l})?(p=(n=sX([b+S,x,M],3))[0],f=n[1],b=n[2]):(y=(o=sX([y+1,0,0,x+w+r],4))[0],v=o[1],b=o[2],(x=o[3])+w<=h&&lW(y,function(t){return t<s}))?(p=(a=sX([b,x,E],3))[0],f=a[1],b=a[2]):(p=(u=sX([0,0,E,0,g+1,0,0,0],8))[0],f=u[1],b=u[2],x=u[3],g=u[4],m=u[5],y=u[6],v=u[7]),{width:E,height:w,x:p,y:f,page:g,index:e,pageIndex:m++,row:y,col:v++}})},Object.defineProperty(e.prototype,"itemsLayout",{get:function(){this.navigatorShape=[0,0];var t="grid"===this.attributes.layout?this.getGridLayout:this.getFlexLayout,e=t.call(this);return e.slice(-1)[0].page>0?(this.navigatorShape=[55,0],t.call(this)):e},enumerable:!1,configurable:!0}),e.prototype.ifHorizontal=function(t,e){return lP(this.attributes.orientation,t,e)},e.prototype.flattenPage=function(t){t.querySelectorAll(lz.item.class).forEach(function(e){t.appendChild(e)}),t.querySelectorAll(lz.page.class).forEach(function(e){t.removeChild(e).destroy()})},e.prototype.renderItems=function(t){var e=this.attributes,n=e.click,r=e.mouseenter,i=e.mouseleave;this.flattenPage(t);var o=this.dispatchCustomEvent.bind(this);ls(t).selectAll(lz.item.class).data(this.renderData,function(t){return t.id}).join(function(t){return t.append(function(t){return new lF({style:t.style})}).attr("className",lz.item.name).on("click",function(){null==n||n(this),o("itemClick",{item:this})}).on("pointerenter",function(){null==r||r(this),o("itemMouseenter",{item:this})}).on("pointerleave",function(){null==i||i(this),o("itemMouseleave",{item:this})})},function(t){return t.each(function(t){var e=t.style;this.update(e)})},function(t){return t.remove()})},e.prototype.relayoutNavigator=function(){var t,e=this.attributes,n=e.layout,r=e.width,i=(null===(t=this.pageViews.children[0])||void 0===t?void 0:t.getBBox().height)||0,o=sX(this.navigatorShape,2),a=o[0],s=o[1];this.navigator.update("grid"===n?{pageWidth:r-a,pageHeight:i-s}:{})},e.prototype.adjustLayout=function(){var t,e,n=this,r=Object.entries((t=this.itemsLayout,e="page",t.reduce(function(t,n){return(t[n[e]]=t[n[e]]||[]).push(n),t},{}))).map(function(t){var e=sX(t,2);return{page:e[0],layouts:e[1]}}),i=sJ([],sX(this.navigator.getContainer().children),!1);r.forEach(function(t){var e=t.layouts,r=n.pageViews.appendChild(new F.ZA({className:lz.page.name}));e.forEach(function(t){var e=t.x,n=t.y,o=t.index,a=t.width,s=t.height,l=i[o];r.appendChild(l),nJ(l,"__layout__",t),l.update({x:e,y:n,width:a,height:s})})}),this.relayoutNavigator()},e.prototype.renderNavigator=function(t){var e=s6({orientation:this.attributes.orientation},ln(this.attributes,"nav")),n=this;return t.selectAll(lz.navigator.class).data(["nav"]).join(function(t){return t.append(function(){return new lA({style:e})}).attr("className",lz.navigator.name).each(function(){n.navigator=this})},function(t){return t.each(function(){this.update(e)})},function(t){return t.remove()}),this.navigator},e.prototype.getBBox=function(){return this.navigator.getBBox()},e.prototype.render=function(t,e){var n=this.attributes.data;if(n&&0!==n.length){var r=this.renderNavigator(ls(e));this.renderItems(r.getContainer()),this.adjustLayout()}},e.prototype.dispatchCustomEvent=function(t,e){var n=new F.Aw(t,{detail:e});this.dispatchEvent(n)},e}(s9),lH=lu({markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label"},"handle"),lG={showLabel:!0,formatter:function(t){return t.toString()},markerSize:25,markerStroke:"#c5c5c5",markerFill:"#fff",markerLineWidth:1,labelFontSize:12,labelFill:"#c5c5c5",labelText:"",orientation:"vertical",spacing:0};!function(t){function e(e){return t.call(this,e,lG)||this}sU(e,t),e.prototype.render=function(t,e){var n=ls(e).maybeAppendByClassName(lH.markerGroup,"g");this.renderMarker(n);var r=ls(e).maybeAppendByClassName(lH.labelGroup,"g");this.renderLabel(r)},e.prototype.renderMarker=function(t){var e=this,n=this.attributes,r=n.orientation,i=n.markerSymbol,o=void 0===i?lP(r,"horizontalHandle","verticalHandle"):i;lh(!!o,t,function(t){var n=ln(e.attributes,"marker"),r=sq({symbol:o},n);e.marker=t.maybeAppendByClassName(lH.marker,function(){return new lT({style:r})}).update(r)})},e.prototype.renderLabel=function(t){var e=this,n=this.attributes,r=n.showLabel,i=n.orientation,o=n.spacing,a=void 0===o?0:o,s=n.formatter;lh(r,t,function(t){var n,r=ln(e.attributes,"label"),o=r.text,l=sK(r,["text"]),u=(null===(n=t.select(lH.marker.class))||void 0===n?void 0:n.node().getBBox())||{},c=u.width,h=u.height,d=sX(lP(i,[0,(void 0===h?0:h)+a,"center","top"],[(void 0===c?0:c)+a,0,"start","middle"]),4),p=d[0],f=d[1],g=d[2],m=d[3];t.maybeAppendByClassName(lH.label,"text").styles(sq(sq({},l),{x:p,y:f,text:s(o).toString(),textAlign:g,textBaseline:m}))})}}(s9);var l$={showTitle:!0,padding:0,orientation:"horizontal",backgroundFill:"transparent",titleText:"",titleSpacing:4,titlePosition:"top-left",titleFill:"#2C3542",titleFontWeight:"bold",titleFontFamily:"sans-serif",titleFontSize:12},lU=s6({},l$,{});s6({},l$,lr(lG,"handle"),{color:["#d0e3fa","#acc7f6","#8daaf2","#6d8eea","#4d73cd","#325bb1","#5a3e75","#8c3c79","#e23455","#e7655b"],indicatorBackgroundFill:"#262626",indicatorLabelFill:"white",indicatorLabelFontSize:12,indicatorVisibility:"hidden",labelAlign:"value",labelDirection:"positive",labelSpacing:5,showHandle:!0,showIndicator:!0,showLabel:!0,slidable:!0,titleText:"",type:"continuous"});var lq=lu({title:"title",titleGroup:"title-group",items:"items",itemsGroup:"items-group",contentGroup:"content-group",ribbonGroup:"ribbon-group",ribbon:"ribbon",handlesGroup:"handles-group",handle:"handle",startHandle:"start-handle",endHandle:"end-handle",labelGroup:"label-group",label:"label",indicator:"indicator"},"legend"),lK=function(t){function e(e){return t.call(this,e,lU)||this}return sU(e,t),e.prototype.renderTitle=function(t,e,n){var r=this.attributes,i=r.showTitle,o=r.titleText,a=sX(li(ln(this.attributes,"title")),2),s=a[0],l=a[1];this.titleGroup=t.maybeAppendByClassName(lq.titleGroup,"g").styles(l);var u=sq(sq({width:e,height:n},s),{text:i?o:""});this.title=this.titleGroup.maybeAppendByClassName(lq.title,function(){return new lg({style:u})}).update(u)},e.prototype.renderItems=function(t,e){var n=e.x,r=e.y,i=e.width,o=e.height,a=sX(li(ln(this.attributes,"title",!0)),2),s=a[0],l=a[1],u=sq(sq({},s),{width:i,height:o,x:0,y:0});this.itemsGroup=t.maybeAppendByClassName(lq.itemsGroup,"g").styles(sq(sq({},l),{transform:"translate(".concat(n,", ").concat(r,")")}));var c=this;this.itemsGroup.selectAll(lq.items.class).data(["items"]).join(function(t){return t.append(function(){return new lV({style:u})}).attr("className",lq.items.name).each(function(){c.items=ls(this)})},function(t){return t.update(u)},function(t){return t.remove()})},e.prototype.adjustLayout=function(){if(this.attributes.showTitle){var t=this.title.node().getAvailableSpace(),e=t.x,n=t.y;this.itemsGroup.node().style.transform="translate(".concat(e,", ").concat(n,")")}},Object.defineProperty(e.prototype,"availableSpace",{get:function(){var t=this.attributes,e=t.showTitle,n=t.width,r=t.height;return e?this.title.node().getAvailableSpace():new ll(0,0,n,r)},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){var e,n,r=null===(e=this.title)||void 0===e?void 0:e.node(),i=null===(n=this.items)||void 0===n?void 0:n.node();return r&&i?function(t,e){var n=t.attributes,r=n.position,i=n.spacing,o=n.inset,a=n.text,s=t.getBBox(),l=e.getBBox(),u=lp(r),c=sX(lc(a?i:0),4),h=c[0],d=c[1],p=c[2],f=c[3],g=sX(lc(o),4),m=g[0],v=g[1],y=g[2],b=g[3],x=sX([f+d,h+p],2),E=x[0],w=x[1],S=sX([b+v,m+y],2),M=S[0],k=S[1];if("l"===u[0])return new ll(s.x,s.y,l.width+s.width+E+M,Math.max(l.height+k,s.height));if("t"===u[0])return new ll(s.x,s.y,Math.max(l.width+M,s.width),l.height+s.height+w+k);var O=sX([e.attributes.width||l.width,e.attributes.height||l.height],2),C=O[0],A=O[1];return new ll(l.x,l.y,C+s.width+E+M,A+s.height+w+k)}(r,i):t.prototype.getBBox.call(this)},e.prototype.render=function(t,e){var n=this.attributes,r=n.width,i=n.height,o=n.x,a=n.y,s=ls(e);e.style.transform="translate(".concat(void 0===o?0:o,", ").concat(void 0===a?0:a,")"),this.renderTitle(s,r,i),this.renderItems(s,this.availableSpace),this.adjustLayout()},e}(s9);function lY(t){let{width:e,height:n,renderer:r,containerStyle:i}=t,o=function(t){var e;let{container:n,className:r,graphCanvas:i}=t;if(n)return"string"==typeof n?document.getElementById(n):n;let o=aq(r,!1);return null===(e=i.getContainer())||void 0===e||e.appendChild(o),o}(t),[a,s]=function(t){let{width:e,height:n,placement:r,graphCanvas:i}=t,[o,a]=i.getSize(),[s,l]=nk(r);return[s*(o-e),l*(a-n)]}(t);Object.assign(o.style,Object.assign({position:"absolute",left:a+"px",top:s+"px",width:e+"px",height:n+"px"},i));let l=new F.Xz({width:e,height:n,container:o,renderer:r||new iU});return[o,l]}var lX=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)0>e.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class lJ extends aU{constructor(t,e){super(t,Object.assign({},lJ.defaultOptions,e)),this.typePrefix="__data__",this.draw=!1,this.fieldMap={node:new Map,edge:new Map,combo:new Map},this.selectedItems=[],this.bindEvents=()=>{let{graph:t}=this.context;t.on(A.AFTER_DRAW,this.createElement)},this.changeState=(t,e)=>{let{graph:n}=this.context,{typePrefix:r}=this,i=nX(t,[r,"id"]),o=nX(t,[r,"style","labelText"]),[a]=i.split("__"),s=this.fieldMap[a].get(o)||[];n.setElementState(Object.fromEntries(null==s?void 0:s.map(t=>[t,e])))},this.click=t=>{if("hover"===this.options.trigger)return;let e=nX(t,[this.typePrefix,"id"]);this.selectedItems.includes(e)?(this.selectedItems=this.selectedItems.filter(t=>t!==e),this.changeState(t,[])):(this.selectedItems.push(e),this.changeState(t,"selected"))},this.mouseleave=t=>{"click"!==this.options.trigger&&(this.selectedItems=[],this.changeState(t,[]))},this.mouseenter=t=>{if("click"===this.options.trigger)return;let e=nX(t,[this.typePrefix,"id"]);this.selectedItems.includes(e)?this.selectedItems=this.selectedItems.filter(t=>t!==e):(this.selectedItems.push(e),this.changeState(t,"active"))},this.setFieldMap=(t,e,n)=>{if(!t)return;let r=this.fieldMap[n];if(r){if(r.has(t)){let n=r.get(t);n&&(n.push(e),r.set(t,n))}else r.set(t,[e])}},this.getEvents=()=>({mouseenter:this.mouseenter,mouseleave:this.mouseleave,click:this.click}),this.getMarkerData=(t,e)=>{if(!t)return[];let{model:n,element:r}=this.context,{nodes:i,edges:o,combos:a}=n.getData(),s={},l=e=>(0,eu.Z)(t)?t(e):t,u={node:"circle",edge:"line",combo:"rect"},c={circle:"circle",ellipse:"circle",image:"bowtie",rect:"square",star:"cross",triangle:"triangle",diamond:"diamond",cubic:"dot",line:"hyphen",polyline:"hyphen",quadratic:"hv","cubic-horizontal":"hyphen","cubic-vertical":"line"},h=(t,e)=>null==r?void 0:r.getElementComputedStyle(t,e),d=(t,e)=>{t.forEach(t=>{let{id:n}=t,i=nX(t,["data",l(t)]),o=(null==r?void 0:r.getElementType(e,t))||"circle",a=h(e,t),d=("edge"===e?null==a?void 0:a.stroke:null==a?void 0:a.fill)||"#1783ff";n&&i&&i.replace(/\s+/g,"")&&(this.setFieldMap(i,n,e),s[i]||(s[i]={id:`${e}__${n}`,label:i,marker:c[o]||u[e],elementType:e,lineWidth:1,stroke:d,fill:d}))})};switch(e){case"node":d(i,"node");break;case"edge":d(o,"edge");break;case"combo":d(a,"combo");break;default:return[]}return Object.values(s)},this.createElement=()=>{if(this.draw){this.updateElement();return}let t=this.options,{width:e,height:n,nodeField:r,edgeField:i,comboField:o,trigger:a,position:s,container:l,containerStyle:u,className:c}=t,h=lX(t,["width","height","nodeField","edgeField","comboField","trigger","position","container","containerStyle","className"]),d=this.getMarkerData(r,"node"),p=this.getMarkerData(i,"edge"),f=new lK({className:"legend",style:Object.assign({width:e,height:n,data:[...d,...this.getMarkerData(o,"combo"),...p],itemMarkerLineWidth:({lineWidth:t})=>t,itemMarker:({marker:t})=>t,itemMarkerStroke:({stroke:t})=>t,itemMarkerFill:({fill:t})=>t,gridCol:d.length},h,this.getEvents())});this.category=f,this.upsertCanvas().appendChild(f),this.draw=!0},this.bindEvents()}update(t){super.update(t),this.clear(),this.createElement()}clear(){var t,e;null===(t=this.canvas)||void 0===t||t.destroy(),null===(e=this.container)||void 0===e||e.remove(),this.canvas=void 0,this.container=void 0,this.draw=!1}updateElement(){this.category&&this.category.update({itemMarkerOpacity:({id:t})=>!this.selectedItems.length||this.selectedItems.includes(t)?1:.5,itemLabelOpacity:({id:t})=>!this.selectedItems.length||this.selectedItems.includes(t)?1:.5})}upsertCanvas(){if(this.canvas)return this.canvas;let t=this.context.canvas,[e,n]=t.getSize(),{width:r=e,height:i=n,position:o,container:a,containerStyle:s,className:l}=this.options,[u,c]=lY({width:r,height:i,graphCanvas:t,container:a,containerStyle:s,placement:o,className:"legend"});return this.container=u,l&&u.classList.add(l),this.canvas=c,this.canvas}destroy(){this.clear(),this.context.graph.off(A.AFTER_DRAW,this.createElement),super.destroy()}}lJ.defaultOptions={position:"bottom",trigger:"hover",orientation:"horizontal",layout:"flex",itemSpacing:4,rowPadding:10,colPadding:10,itemMarkerSize:16,itemLabelFontSize:16,width:240,height:160};class lQ extends aU{constructor(t,e){super(t,Object.assign({},lQ.defaultOptions,e)),this.onDraw=t=>{var e;null!==(e=null==t?void 0:t.data)&&void 0!==e&&e.render||this.onRender()},this.shapes=new Map,this.landmarkMap=new Map,this.mask=null,this.isMaskDragging=!1,this.onMaskDragStart=t=>{this.mask&&(this.isMaskDragging=!0,this.mask.setPointerCapture(t.pointerId),this.mask.addEventListener("pointermove",this.onMaskDrag),this.mask.addEventListener("pointerup",this.onMaskDragEnd),this.mask.addEventListener("pointercancel",this.onMaskDragEnd))},this.onMaskDrag=t=>{if(!this.mask||!this.isMaskDragging)return;let{size:[e,n]}=this.options,{movementX:r,movementY:i}=t,{left:o,top:a,width:s,height:l}=this.mask.style,[,,u,c]=this.maskBBox,h=parseInt(o)+r,d=parseInt(a)+i,p=parseInt(s),f=parseInt(l);h<0&&(h=0),d<0&&(d=0),h+p>e&&(h=l1(e-p,0)),d+f>n&&(d=l1(n-f,0)),p<u&&(r>0?(h=l1(h-r,0),p=l0(p+r,e)):r<0&&(p=l0(p-r,e))),f<c&&(i>0?(d=l1(d-i,0),f=l0(f+i,n)):i<0&&(f=l0(f-i,n))),Object.assign(this.mask.style,{left:h+"px",top:d+"px",width:p+"px",height:f+"px"});let g=parseInt(o)-h,m=parseInt(a)-d;if(0===g&&0===m)return;let v=this.context.canvas.getCamera().getZoom()/this.canvas.getCamera().getZoom();this.context.graph.translateBy([g*v,m*v],!1)},this.onMaskDragEnd=t=>{this.mask&&(this.isMaskDragging=!1,this.mask.releasePointerCapture(t.pointerId),this.mask.removeEventListener("pointermove",this.onMaskDrag),this.mask.removeEventListener("pointerup",this.onMaskDragEnd),this.mask.removeEventListener("pointercancel",this.onMaskDragEnd))},this.onTransform=ep(()=>{this.isMaskDragging||(this.updateMask(),this.setCamera())},32,{leading:!0}),this.setOnRender(),this.bindEvents()}update(t){this.unbindEvents(),super.update(t),"delay"in t&&this.setOnRender(),this.bindEvents()}setOnRender(){this.onRender=at(()=>{this.renderMinimap(),this.renderMask()},this.options.delay,!0)}bindEvents(){let{graph:t}=this.context;t.on(A.AFTER_DRAW,this.onDraw),t.on(A.AFTER_RENDER,this.onRender),t.on(A.AFTER_TRANSFORM,this.onTransform)}unbindEvents(){let{graph:t}=this.context;t.off(A.AFTER_DRAW,this.onDraw),t.off(A.AFTER_RENDER,this.onRender),t.off(A.AFTER_TRANSFORM,this.onTransform)}renderMinimap(){let t=this.getElements(),e=this.initCanvas();this.setShapes(e,t)}getElements(){let{filter:t}=this.options,{model:e}=this.context,n=e.getData();if(!t)return n;let{nodes:r,edges:i,combos:o}=n;return{nodes:r.filter(e=>t(e2(e),"node")),edges:i.filter(e=>t(e2(e),"edge")),combos:o.filter(e=>t(e2(e),"combo"))}}setShapes(t,e){let{nodes:n,edges:r,combos:i}=e,{shape:o}=this.options,{element:a}=this.context;if("key"===o){let e=new Set,o=n=>{let r=e2(n);e.add(r);let i=a.getElement(r);if(!i)return;let o=i.getShape("key"),s=this.shapes.get(r)||o.cloneNode();s.setPosition(o.getPosition()),i.style.zIndex&&(s.style.zIndex=i.style.zIndex),s.id=i.id,this.shapes.has(r)?Object.entries(o.attributes).forEach(([t,e])=>{s.style[t]!==e&&(s.style[t]=e)}):(t.appendChild(s),this.shapes.set(r,s))};r.forEach(o),i.forEach(o),n.forEach(o),this.shapes.forEach((n,r)=>{e.has(r)||(t.removeChild(n),this.shapes.delete(r))});return}let s=(t,e)=>{let n=a.getElement(t).getPosition();return e.setPosition(n),e};t.removeChildren(),r.forEach(e=>t.appendChild(o(e2(e),"edge"))),i.forEach(e=>{t.appendChild(s(e2(e),o(e2(e),"combo")))}),n.forEach(e=>{t.appendChild(s(e2(e),o(e2(e),"node")))})}initCanvas(){let{renderer:t,size:[e,n]}=this.options;if(this.canvas){let{width:r,height:i}=this.canvas.getConfig();(e!==r||n!==i)&&this.canvas.resize(e,n),t&&this.canvas.setRenderer(t)}else{let{className:r,position:i,container:o,containerStyle:a}=this.options,[s,l]=lY({renderer:t,width:e,height:n,placement:i,className:"minimap",container:o,containerStyle:a,graphCanvas:this.context.canvas});r&&s.classList.add(r),this.container=s,this.canvas=l}return this.setCamera(),this.canvas}createLandmark(t,e,n){let r=`${t.join(",")}-${e.join(",")}-${n}`;if(this.landmarkMap.has(r))return this.landmarkMap.get(r);let i=this.canvas.getCamera().createLandmark(r,{position:t,focalPoint:e,zoom:n});return this.landmarkMap.set(r,i),i}setCamera(){var t;let{canvas:e}=this.context,n=null===(t=this.canvas)||void 0===t?void 0:t.getCamera();if(!n)return;let{size:[r,i],padding:o}=this.options,[a,s,l,u]=ev(o),{min:c,max:h,center:d}=e.getBounds("elements"),p=Math.min((r-u-s)/(h[0]-c[0]),(i-a-l)/(h[1]-c[1])),f=this.createLandmark(d,d,p);n.gotoLandmark(f,0)}get maskBBox(){let{canvas:t}=this.context,e=t.getSize(),n=t.getCanvasByViewport([0,0]),r=t.getCanvasByViewport(e),i=this.canvas.canvas2Viewport(nP(n)),o=this.canvas.canvas2Viewport(nP(r)),a=o.x-i.x,s=o.y-i.y;return[i.x,i.y,a,s]}calculateMaskBBox(){let{size:[t,e]}=this.options,[n,r,i,o]=this.maskBBox;return n<0&&(i=l0(i+n,t),n=0),r<0&&(o=l0(o+r,e),r=0),n+i>t&&(i=l1(t-n,0)),r+o>e&&(o=l1(e-r,0)),[l0(n,t),l0(r,e),l1(i,0),l1(o,0)]}renderMask(){let{maskStyle:t}=this.options;this.mask||(this.mask=document.createElement("div"),this.mask.addEventListener("pointerdown",this.onMaskDragStart)),this.container.appendChild(this.mask),Object.assign(this.mask.style,Object.assign(Object.assign({},t),{cursor:"move",position:"absolute",pointerEvents:"auto"})),this.updateMask()}updateMask(){if(!this.mask)return;let[t,e,n,r]=this.calculateMaskBBox();Object.assign(this.mask.style,{top:e+"px",left:t+"px",width:n+"px",height:r+"px"})}destroy(){var t;this.unbindEvents(),this.canvas.destroy(),null===(t=this.mask)||void 0===t||t.remove(),super.destroy()}}lQ.defaultOptions={size:[240,160],shape:"key",padding:10,position:"right-bottom",maskStyle:{border:"1px solid #ddd",background:"rgba(0, 0, 0, 0.1)"},containerStyle:{border:"1px solid #ddd",background:"#fff"},delay:128};let l0=(t,e)=>Math.min(t,e),l1=(t,e)=>Math.max(t,e);var l2=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(a,s)}l((r=r.apply(t,e||[])).next())})};let l3={x1:0,y1:0,x2:0,y2:0,visibility:"hidden"};class l6 extends aU{constructor(t,e){super(t,Object.assign({},l6.defaultOptions,e)),this.initSnapline=()=>{let t=this.context.canvas.getLayer("transient");this.horizontalLine||(this.horizontalLine=t.appendChild(new F.x1({style:Object.assign(Object.assign({},l3),this.options.horizontalLineStyle)}))),this.verticalLine||(this.verticalLine=t.appendChild(new F.x1({style:Object.assign(Object.assign({},l3),this.options.verticalLineStyle)})))},this.isHorizontalSticking=!1,this.isVerticalSticking=!1,this.enableStick=!0,this.autoSnapToLine=(t,e,n)=>l2(this,void 0,void 0,function*(){let{verticalX:r,horizontalY:i}=n,{tolerance:o}=this.options,{min:[a,s],max:[l,u],center:[c,h]}=e,d=0,p=0;null!==r&&(l5(l,r)<o&&(d=r-l),l5(a,r)<o&&(d=r-a),l5(c,r)<o&&(d=r-c),0!==d&&(this.isVerticalSticking=!0)),null!==i&&(l5(u,i)<o&&(p=i-u),l5(s,i)<o&&(p=i-s),l5(h,i)<o&&(p=i-h),0!==p&&(this.isHorizontalSticking=!0)),(0!==d||0!==p)&&(yield this.context.graph.translateElementBy({[t]:[d,p]},!1))}),this.enableSnap=t=>{let{target:e}=t;if(this.isHorizontalSticking||this.isVerticalSticking){let[n,r]=this.getDelta(t);if(this.isHorizontalSticking&&this.isVerticalSticking&&.5>=Math.abs(n)&&.5>=Math.abs(r))return this.context.graph.translateElementBy({[e.id]:[-n,-r]},!1),!1;if(this.isHorizontalSticking&&.5>=Math.abs(r))return this.context.graph.translateElementBy({[e.id]:[0,-r]},!1),!1;if(this.isVerticalSticking&&.5>=Math.abs(n))return this.context.graph.translateElementBy({[e.id]:[-n,0]},!1),!1;this.isHorizontalSticking=!1,this.isVerticalSticking=!1,this.enableStick=!1,setTimeout(()=>{this.enableStick=!0},200)}return this.enableStick},this.calcSnaplineMetadata=(t,e)=>{let{tolerance:n,shape:r}=this.options,{min:[i,o],max:[a,s],center:[l,u]}=e,c=null,h=null,d=null,p=null,f=null,g=null;return this.getNodes().some(e=>{if(tJ(t.id,e.id))return!1;let{min:[m,v],max:[y,b],center:[x,E]}=l4(e,r).getRenderBounds();return null===c&&(l5(x,l)<n?c=x:l5(m,i)<n?c=m:l5(m,a)<n?c=m:l5(y,a)<n?c=y:l5(y,i)<n&&(c=y),null!==c&&(h=Math.min(v,o),d=Math.max(b,s))),null===p&&(l5(E,u)<n?p=E:l5(v,o)<n?p=v:l5(v,s)<n?p=v:l5(b,s)<n?p=b:l5(b,o)<n&&(p=b),null!==p&&(f=Math.min(m,i),g=Math.max(y,a))),null!==c&&null!==p}),{verticalX:c,verticalMinY:h,verticalMaxY:d,horizontalY:p,horizontalMinX:f,horizontalMaxX:g}},this.onDragStart=()=>{this.initSnapline()},this.onDrag=t=>l2(this,void 0,void 0,function*(){let{target:e}=t;if(this.options.autoSnap&&!this.enableSnap(t))return;let n=l4(e,this.options.shape).getRenderBounds(),r=this.calcSnaplineMetadata(e,n);this.hideSnapline(),(null!==r.verticalX||null!==r.horizontalY)&&this.updateSnapline(r),this.options.autoSnap&&(yield this.autoSnapToLine(e.id,n,r))}),this.onDragEnd=()=>{this.hideSnapline()},this.bindEvents()}getNodes(){var t;let{filter:e}=this.options,n=((null===(t=this.context.element)||void 0===t?void 0:t.getNodes())||[]).filter(t=>{var e;return"hidden"!==nX(t,["style","visibility"])&&(null===(e=this.context.viewport)||void 0===e?void 0:e.isInViewport(t.getRenderBounds()))});return e?n.filter(t=>e(t)):n}hideSnapline(){this.horizontalLine.style.visibility="hidden",this.verticalLine.style.visibility="hidden"}getLineWidth(t){let{lineWidth:e}=this.options[`${t}LineStyle`];return+(e||l3.lineWidth||1)/this.context.graph.getZoom()}updateSnapline(t){let{verticalX:e,verticalMinY:n,verticalMaxY:r,horizontalY:i,horizontalMinX:o,horizontalMaxX:a}=t,[s,l]=this.context.canvas.getSize(),{offset:u}=this.options;null!==i?Object.assign(this.horizontalLine.style,{x1:u===1/0?0:o-u,y1:i,x2:u===1/0?s:a+u,y2:i,visibility:"visible",lineWidth:this.getLineWidth("horizontal")}):this.horizontalLine.style.visibility="hidden",null!==e?Object.assign(this.verticalLine.style,{x1:e,y1:u===1/0?0:n-u,x2:e,y2:u===1/0?l:r+u,visibility:"visible",lineWidth:this.getLineWidth("vertical")}):this.verticalLine.style.visibility="hidden"}getDelta(t){let e=this.context.graph.getZoom();return np([t.dx,t.dy],e)}bindEvents(){return l2(this,void 0,void 0,function*(){let{graph:t}=this.context;t.on(P.DRAG_START,this.onDragStart),t.on(P.DRAG,this.onDrag),t.on(P.DRAG_END,this.onDragEnd)})}unbindEvents(){let{graph:t}=this.context;t.off(P.DRAG_START,this.onDragStart),t.off(P.DRAG,this.onDrag),t.off(P.DRAG_END,this.onDragEnd)}destroyElements(){var t,e;null===(t=this.horizontalLine)||void 0===t||t.destroy(),null===(e=this.verticalLine)||void 0===e||e.destroy()}destroy(){this.destroyElements(),this.unbindEvents(),super.destroy()}}l6.defaultOptions={tolerance:5,offset:20,autoSnap:!0,shape:"key",verticalLineStyle:{stroke:"#1783FF"},horizontalLineStyle:{stroke:"#1783FF"},filter:()=>!0};let l5=(t,e)=>Math.abs(t-e),l4=(t,e)=>"function"==typeof e?e(t):t.getShape(e);function l8(t,e){var n={YYYY:t.getFullYear(),MM:t.getMonth()+1,DD:t.getDate(),HH:t.getHours(),mm:t.getMinutes(),ss:t.getSeconds()},r=e;return Object.keys(n).forEach(function(t){var e=n[t];r=r.replace(t,"YYYY"===t?"".concat(e):"".concat(e).padStart(2,"0"))}),r}var l9={data:[],animate:{enter:!1,update:{duration:100,easing:"ease-in-out-sine",fill:"both"},exit:{duration:100,fill:"both"}},showArrow:!0,showGrid:!0,showLabel:!0,showLine:!0,showTick:!0,showTitle:!0,showTrunc:!1,dataThreshold:100,lineLineWidth:1,lineStroke:"black",crossPadding:10,titleFill:"black",titleFontSize:12,titlePosition:"lb",titleSpacing:0,titleTextAlign:"center",titleTextBaseline:"middle",lineArrow:function(){return new F.y$({style:{d:[["M",10,10],["L",-10,0],["L",10,-10],["L",0,0],["L",10,10],["Z"]],fill:"black",transformOrigin:"center"}})},labelAlign:"parallel",labelDirection:"positive",labelFontSize:12,labelSpacing:0,gridConnect:"line",gridControlAngles:[],gridDirection:"positive",gridLength:0,gridType:"segment",lineArrowOffset:15,lineArrowSize:10,tickDirection:"positive",tickLength:5,tickLineWidth:1,tickStroke:"black",labelOverlap:[]};(0,nl.Z)({},l9,{style:{type:"arc"}}),(0,nl.Z)({},l9,{style:{}});var l7=lu({mainGroup:"main-group",gridGroup:"grid-group",grid:"grid",lineGroup:"line-group",line:"line",tickGroup:"tick-group",tick:"tick",tickItem:"tick-item",labelGroup:"label-group",label:"label",labelItem:"label-item",titleGroup:"title-group",title:"title",lineFirst:"line-first",lineSecond:"line-second"},"axis");function ut(t,e){return[t[0]*e,t[1]*e]}function ue(t,e){return[t[0]+e[0],t[1]+e[1]]}function un(t,e){return[t[0]-e[0],t[1]-e[1]]}function ur(t,e){return[Math.min(t[0],e[0]),Math.min(t[1],e[1])]}function ui(t,e){return[Math.max(t[0],e[0]),Math.max(t[1],e[1])]}function uo(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}function ua(t){if(0===t[0]&&0===t[1])return[0,0];var e=Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2));return[t[0]/e,t[1]/e]}function us(t){return t*Math.PI/180}function ul(t){return Number((180*t/Math.PI).toPrecision(5))}function uu(t,e){return t.style.opacity||(t.style.opacity=1),lw(t,{opacity:0},e)}var uc=["$el","cx","cy","d","dx","dy","fill","fillOpacity","filter","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","height","img","increasedLineWidthForHitTesting","innerHTML","isBillboard","billboardRotation","isSizeAttenuation","isClosed","isOverflowing","leading","letterSpacing","lineDash","lineHeight","lineWidth","markerEnd","markerEndOffset","markerMid","markerStart","markerStartOffset","maxLines","metrics","miterLimit","offsetX","offsetY","opacity","path","points","r","radius","rx","ry","shadowColor","src","stroke","strokeOpacity","text","textAlign","textBaseline","textDecorationColor","textDecorationLine","textDecorationStyle","textOverflow","textPath","textPathSide","textPathStartOffset","transform","transformOrigin","visibility","width","wordWrap","wordWrapWidth","x","x1","x2","y","y1","y2","z1","z2","zIndex"];function uh(t){var e={};for(var n in t)uc.includes(n)&&(e[n]=t[n]);return e}var ud=lu({lineGroup:"line-group",line:"line",regionGroup:"region-group",region:"region"},"grid");function up(t){return t.reduce(function(t,e,n){return t.push(sJ([0===n?"M":"L"],sX(e),!1)),t},[])}function uf(t,e,n){return"surround"===e.type?function(t,e,n){var r=e.connect,i=e.center;if("line"===(void 0===r?"line":r))return up(t);if(!i)return[];var o=uo(t[0],i),a=n?0:1;return t.reduce(function(t,e,n){return 0===n?t.push(sJ(["M"],sX(e),!1)):t.push(sJ(["A",o,o,0,0,a],sX(e),!1)),t},[])}(t,e,n):up(t)}var ug=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return sU(e,t),e.prototype.render=function(t,e){t.type,t.center,t.areaFill,t.closed;var n,r,i,o,a,s=sK(t,["type","center","areaFill","closed"]),l=(r=void 0===(n=t.data)?[]:n,t.closed?r.map(function(t){var e=t.points,n=sX(e,1)[0];return sq(sq({},t),{points:sJ(sJ([],sX(e),!1),[n],!1)})}):r),u=ls(e).maybeAppendByClassName(ud.lineGroup,"g"),c=ls(e).maybeAppendByClassName(ud.regionGroup,"g"),h=(i=t.animate,o=t.isBillboard,a=l.map(function(e,n){return{id:e.id||"grid-line-".concat(n),d:uf(e.points,t)}}),u.selectAll(ud.line.class).data(a,function(t){return t.id}).join(function(t){return t.append("path").each(function(t,e){var n=lv(uh(sq({d:t.d},s)),[t,e,a]);this.attr(sq({class:ud.line.name,stroke:"#D9D9D9",lineWidth:1,lineDash:[4,4],isBillboard:o},n))})},function(t){return t.transition(function(t,e){return lw(this,lv(uh(sq({d:t.d},s)),[t,e,a]),i.update)})},function(t){return t.transition(function(){var t=this,e=uu(this,i.exit);return lb(e,function(){return t.remove()}),e})}).transitions()),d=function(t,e,n){var r=n.animate,i=n.connect,o=n.areaFill;if(e.length<2||!o||!i)return[];for(var a=Array.isArray(o)?o:[o,"transparent"],s=[],l=0;l<e.length-1;l++){var u=sX([e[l].points,e[l+1].points],2),c=function(t,e,n){var r=n.type,i=n.connect,o=n.center,a=n.closed?[["Z"]]:[],s=sX([uf(t,n),uf(e.slice().reverse(),n,!0)],2),l=s[0],u=s[1],c=sX([t[0],e.slice(-1)[0]],2),h=c[0],d=c[1],p=function(t,e){return[l,t,u,e,a].flat()};if("line"===i||"surround"===r)return p([sJ(["L"],sX(d),!1)],[sJ(["L"],sX(h),!1)]);if(!o)throw Error("Arc grid need to specified center");var f=sX([uo(d,o),uo(h,o)],2),g=f[0],m=f[1];return p([sJ(["A",g,g,0,0,1],sX(d),!1),sJ(["L"],sX(d),!1)],[sJ(["A",m,m,0,0,0],sX(h),!1),sJ(["L"],sX(h),!1)])}(u[0],u[1],n);s.push({d:c,fill:a[l%a.length]})}return t.selectAll(ud.region.class).data(s,function(t,e){return e}).join(function(t){return t.append("path").each(function(t,e){var n=lv(t,[t,e,s]);this.attr(n)}).attr("className",ud.region.name)},function(t){return t.transition(function(t,e){return lw(this,lv(t,[t,e,s]),r.update)})},function(t){return t.transition(function(){var t=this,e=uu(this,r.exit);return lb(e,function(){return t.remove()}),e})}).transitions()}(c,l,t);return sJ(sJ([],sX(h),!1),sX(d),!1)},e}(s9);function um(t,e){var n={},r=Array.isArray(e)?e:[e];for(var i in t)r.includes(i)||(n[i]=t[i]);return n}function uv(t,e){return Object.fromEntries(Object.entries(t).map(function(t){var n=sX(t,2);return[n[0],lv(n[1],e)]}))}function uy(t,e){return e&&(0,eu.Z)(e)?t.filter(e):t}function ub(t,e){var n=e.startAngle;return(e.endAngle-n)*t+n}function ux(t,e){if("linear"===e.type){var n=sX(e.startPos,2),r=n[0],i=n[1],o=sX(e.endPos,2),a=sX([o[0]-r,o[1]-i],2);return ua([a[0],a[1]])}var s=us(ub(t,e));return[-Math.sin(s),Math.cos(s)]}function uE(t,e,n){var r;return r=ux(t,n),"positive"!==e?[r[1],-r[0]]:[-r[1],r[0]]}function uw(t,e){return uE(t,e.labelDirection,e)}function uS(t,e){var n,r,i,o,a,s,l,u,c,h;return"linear"===e.type?(r=(n=sX(e.startPos,2))[0],i=n[1],o=sX(e.endPos,2),a=sX([o[0]-r,o[1]-i],2),[r+a[0]*t,i+a[1]*t]):(s=e.radius,u=(l=sX(e.center,2))[0],c=l[1],[u+s*Math.cos(h=us(ub(t,e))),c+s*Math.sin(h)])}function uM(t){return 0===ux(0,t)[1]}function uk(t){return 0===ux(0,t)[0]}function uO(t,e,n,r,i){var o=e-t,a=sX([i,i],2),s=a[0],l=a[1],u=sX([us(t),us(e)],2),c=u[0],h=u[1],d=function(t){return[n+i*Math.cos(t),r+i*Math.sin(t)]},p=sX(d(c),2),f=p[0],g=p[1],m=sX(d(h),2),v=m[0],y=m[1];if(e-t==360){var b=sX(d((h+c)/2),2);return[["M",f,g],["A",s,l,0,1,0,b[0],b[1]],["A",s,l,0,1,0,v,y]]}return"M".concat(f,",").concat(g,",A").concat(s,",").concat(l,",0,").concat(o>180?1:0,",").concat(t>e?0:1,",").concat(v,",").concat(y)}function uC(t){var e=sX(t,2),n=sX(e[0],2),r=n[0],i=n[1],o=sX(e[1],2);return{x1:r,y1:i,x2:o[0],y2:o[1]}}function uA(t){var e=t.type,n=t.gridCenter;return"linear"===e?n:n||t.center}function uT(t,e,n,r,i){return void 0===r&&(r=!0),void 0===i&&(i=!1),!!r&&t===e||!!i&&t===n||t>e&&t<n}function uP(t,e){if(e)try{var n=e.replace(/translate\(([+-]*[\d]+[%]*),[ ]*([+-]*[\d]+[%]*)\)/g,function(e,n,r){var i,o,a,s;return"translate(".concat((o=(i=t.getBBox()).width,a=i.height,[(s=sX([n,r].map(function(t,e){var n;return t.includes("%")?parseFloat((null===(n=t.match(/[+-]?([0-9]*[.])?[0-9]+/))||void 0===n?void 0:n[0])||"0")/100*(0===e?o:a):t}),2))[0],s[1]]),")")});t.attr("transform",n)}catch(t){}}var uL=function(t){return void 0!==t&&null!=t&&!Number.isNaN(t)},uR=function(){function t(t,e,n,r){this.set(t,e,n,r)}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.defined("x2")&&this.defined("x1")?this.x2-this.x1:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.defined("y2")&&this.defined("y1")?this.y2-this.y1:void 0},enumerable:!1,configurable:!0}),t.prototype.rotatedPoints=function(t,e,n){var r=this.x1,i=this.y1,o=this.x2,a=this.y2,s=Math.cos(t),l=Math.sin(t),u=e-e*s+n*l,c=n-e*l-n*s;return[[s*r-l*a+u,l*r+s*a+c],[s*o-l*a+u,l*o+s*a+c],[s*r-l*i+u,l*r+s*i+c],[s*o-l*i+u,l*o+s*i+c]]},t.prototype.set=function(t,e,n,r){return n<t?(this.x2=t,this.x1=n):(this.x1=t,this.x2=n),r<e?(this.y2=e,this.y1=r):(this.y1=e,this.y2=r),this},t.prototype.defined=function(t){return this[t]!==Number.MAX_VALUE&&this[t]!==-Number.MAX_VALUE},t}();function uD(t,e){var n=t.getEulerAngles()||0;t.setEulerAngles(0);var r=t.getBounds(),i=sX(r.min,2),o=i[0],a=i[1],s=sX(r.max,2),l=s[0],u=s[1],c=t.getBBox(),h=c.width,d=c.height,p=0,f=0,g=o,m=a,v=lZ(t);if(v){d-=1.5;var y=v.style.textAlign,b=v.style.textBaseline;"center"===y?g=(o+l)/2:("right"===y||"end"===y)&&(g=l),"middle"===b?m=(a+u)/2:"bottom"===b&&(m=u)}var x=sX(lc(e),4),E=x[0],w=void 0===E?0:E,S=x[1],M=void 0===S?0:S,k=x[2],O=x[3],C=new uR((p+=o)-(void 0===O?M:O),(f+=a)-w,p+h+M,f+d+(void 0===k?w:k));return t.setEulerAngles(n),C.rotatedPoints(us(n),g,m)}function uN(t,e){return e[0]<=Math.max(t[0][0],t[1][0])&&e[0]<=Math.min(t[0][0],t[1][0])&&e[1]<=Math.max(t[0][1],t[1][1])&&e[1]<=Math.min(t[0][1],t[1][1])}function uI(t,e,n){var r=(e[1]-t[1])*(n[0]-e[0])-(e[0]-t[0])*(n[1]-e[1]);return 0===r?0:r<0?2:1}function uZ(t,e,n){var r,i,o=e.crossPadding,a=new Set,s=null,l=function(t,e){var n=t.type,r=t.labelDirection,i=t.crossSize;if(!i)return!1;if("arc"===n){var o=t.center,a=t.radius,s=sX(o,2),l=s[0],u=s[1],c="negative"===r?0:i,h=-a-c,d=a+c,p=sX(lc(e),4),f=p[0],g=p[1],m=p[2];return new uR(l+h-p[3],u+h-f,l+d+g,u+d+m)}var v=sX(t.startPos,2),y=v[0],b=v[1],x=sX(t.endPos,2),E=x[0],w=x[1],S=sX(uk(t)?[-e,0,e,0]:[0,e,0,-e],4),M=S[0],k=S[1],O=S[2],C=S[3],A=ut(uw(0,t),i),T=new uR(y,b,E,w);return T.x1+=C,T.y1+=M,T.x2+=k+A[0],T.y2+=O+A[1],T}(e,o);try{for(var u=sY(t),c=u.next();!c.done;c=u.next()){var h,d=c.value;!function(t){if(l){var e,n,r,i,o,a;return e=l.x1,n=l.x2,r=l.y1,i=l.y2,o=uD(t,void 0),a=[[e,r],[n,r],[n,i],[e,i]],o.every(function(t){return function(t,e){var n=t.length;if(n<3)return!1;var r=[e,[9999,e[1]]],i=0,o=0;do{var a=[t[o],t[(o+1)%n]];if(function(t,e){var n=uI(t[0],t[1],e[0]),r=uI(t[0],t[1],e[1]),i=uI(e[0],e[1],t[0]),o=uI(e[0],e[1],t[1]);return!!(n!==r&&i!==o||0===n&&uN(t,e[0])||0===r&&uN(t,e[1])||0===i&&uN(e,t[0])||0===o&&uN(e,t[1]))}(a,r)){if(0===uI(a[0],e,a[1]))return uN(a,e);i++}o=(o+1)%n}while(0!==o);return!!(1&i)}(a,t)})}return!0}(d)?a.add(d):s&&((h=s)&&h.firstChild?function(t,e,n){var r,i,o=uD(t,n).flat(1),a=uD(e,n).flat(1),s=[[o[0],o[1],o[2],o[3]],[o[0],o[1],o[4],o[5]],[o[4],o[5],o[6],o[7]],[o[2],o[3],o[6],o[7]]];try{for(var l=sY(s),u=l.next();!u.done;u=l.next()){var c=u.value;if(function(t,e){return[[t[0],t[1],t[2],t[3]],[t[2],t[3],t[4],t[5]],[t[4],t[5],t[6],t[7]],[t[6],t[7],t[0],t[1]]].some(function(t){return function(t,e){var n=sX(t,4),r=n[0],i=n[1],o=n[2],a=n[3],s=sX(e,4),l=s[0],u=s[1],c=s[2],h=s[3],d=o-r,p=a-i,f=c-l,g=h-u,m=d*g-f*p;if(0===m)return!1;var v=m>0,y=r-l,b=i-u,x=d*b-p*y;if(x<0===v)return!1;var E=f*b-g*y;return E<0!==v&&x>m!==v&&E>m!==v}(e,t)})}(a,c))return!0}}catch(t){r={error:t}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return!1}(h.firstChild,d.firstChild,lc(n)):0)?(a.add(s),a.add(d)):s=d}}catch(t){r={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return Array.from(a)}function uj(t,e){return(void 0===e&&(e={}),(0,tt.Z)(t))?0:"number"==typeof t?t:Math.floor(lN(t,e))}var u_={parity:function(t,e){var n=e.seq,r=void 0===n?2:n;return t.filter(function(t,e){return!(e%r)||(s1(t),!1)})}},uB=new Map([["hide",function(t,e,n,r){var i,o,a=t.length,s=e.keepHeader,l=e.keepTail;if(!(a<=1)&&(2!==a||!s||!l)){var u=u_.parity,c=function(t){return t.forEach(r.show),t},h=2,d=t.slice(),p=t.slice(),f=Math.min.apply(Math,sJ([1],sX(t.map(function(t){return t.getBBox().width})),!1));if("linear"===n.type&&(uM(n)||uk(n))){var g=lL(t[0]).left,m=Math.abs(lL(t[a-1]).right-g)||1;h=Math.max(Math.floor(a*f/m),h)}for(s&&(i=d.splice(0,1)[0]),l&&(o=d.splice(-1,1)[0],d.reverse()),c(d);h<t.length&&uZ((o?sJ(sJ([o],sX(p),!1),[i],!1):sJ([i],sX(p),!1)).filter(uL),n,null==e?void 0:e.margin).length;){if(o&&!i&&h%2==0){var v=d.splice(0,1);v.forEach(r.hide)}else if(o&&i){var v=d.splice(0,1);v.forEach(r.hide)}p=u(c(d),{seq:h}),h++}}}],["rotate",function(t,e,n,r){var i,o,a=e.optionalAngles,s=e.margin,l=e.recoverWhenFailed,u=t.map(function(t){return t.getLocalEulerAngles()}),c=function(e){return t.forEach(function(t,n){var i=Array.isArray(e)?e[n]:e;r.rotate(t,+i)})};try{for(var h=sY(void 0===a?[0,45,90]:a),d=h.next();!d.done;d=h.next()){var p=d.value;if(c(p),uZ(t,n,s).length<1)return}}catch(t){i={error:t}}finally{try{d&&!d.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}(void 0===l||l)&&c(u)}],["ellipsis",function(t,e,n,r){if(!(t.length<=1)){var i=e.suffix,o=void 0===i?"...":i,a=e.minLength,s=e.maxLength,l=void 0===s?1/0:s,u=e.step,c=e.margin,h=void 0===c?[0,0,0,0]:c,d=lI(r.getTextShape(t[0])),p=uj(void 0===u?" ":u,d),f=a?uj(a,d):p,g=uj(l,d);((0,tt.Z)(g)||g===1/0)&&(g=Math.max.apply(null,t.map(function(t){return t.getBBox().width})));var m=t.slice(),v=sX(h,4);v[0],v[1],v[2],v[3];for(var y=function(e){if(m.forEach(function(t){r.ellipsis(r.getTextShape(t),e,o)}),(m=uZ(t,n,h)).length<1)return{value:void 0}},b=g;b>f+p;b-=p){var x=y(b);if("object"==typeof x)return x.value}}}],["wrap",function(t,e,n,r){var i,o,a=e.wordWrapWidth,s=void 0===a?50:a,l=e.maxLines,u=void 0===l?3:l,c=e.recoverWhenFailed,h=e.margin,d=void 0===h?[0,0,0,0]:h,p=t.map(function(t){return t.attr("maxLines")||1}),f=Math.min.apply(Math,sJ([],sX(p),!1)),g=(i=n.type,o=n.labelDirection,"linear"===i&&uM(n)?"negative"===o?"bottom":"top":"middle"),m=function(e){return t.forEach(function(t,n){var i=Array.isArray(e)?e[n]:e;r.wrap(t,s,i,g)})};if(!(f>u)){for(var v=f;v<=u;v++)if(m(v),uZ(t,n,d).length<1)return;(void 0===c||c)&&m(p)}}]]);function uF(t){for(var e=t;e<0;)e+=360;return Math.round(e%360)}function uz(t,e){var n=sX(t,2),r=n[0],i=n[1],o=sX(e,2),a=o[0],s=o[1],l=sX([r*a+i*s,r*s-i*a],2),u=l[0];return Math.atan2(l[1],u)}function uW(t,e,n){var r=n.type,i=n.labelAlign,o=uw(t,n),a=uF(e),s=uF(ul(uz([1,0],o))),l="center",u="middle";return"linear"===r?[90,270].includes(s)&&0===a?(l="center",u=1===o[1]?"top":"bottom"):!(s%180)&&[90,270].includes(a)?l="center":0===s?uT(a,0,90,!1,!0)?l="start":(uT(a,0,90)||uT(a,270,360))&&(l="start"):90===s?uT(a,0,90,!1,!0)?l="start":(uT(a,90,180)||uT(a,270,360))&&(l="end"):270===s?uT(a,0,90,!1,!0)?l="end":(uT(a,90,180)||uT(a,270,360))&&(l="start"):180===s&&(90===a?l="start":(uT(a,0,90)||uT(a,270,360))&&(l="end")):"parallel"===i?u=uT(s,0,180,!0)?"top":"bottom":"horizontal"===i?uT(s,90,270,!1)?l="end":(uT(s,270,360,!1)||uT(s,0,90))&&(l="start"):"perpendicular"===i&&(l=uT(s,90,270)?"end":"start"),{textAlign:l,textBaseline:u}}function uV(t,e,n){var r=n.showTick,i=n.tickLength,o=n.tickDirection,a=n.labelDirection,s=n.labelSpacing,l=e.indexOf(t),u=lv(s,[t,l,e]),c=sX([uw(t.value,n),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.reduce(function(t,e){return t*("positive"===e?-1:1)},1)}(a,o)],2),h=sX(ue(ut(c[0],u+(1===c[1]?lv(r?i:0,[t,l,e]):0)),uS(t.value,n)),2);return{x:h[0],y:h[1]}}function uH(t,e){"text"===t.nodeName&&t.attr(e)}function uG(t){var e,n,r,i;e=this.node().childNodes,n={hide:s1,show:s0,rotate:function(e,n){!function(t,e,n){e.setLocalEulerAngles(t);var r=uW(e.__data__.value,t,n),i=e.querySelector(l7.labelItem.class);i&&uH(i,r)}(+n,e,t)},ellipsis:function(t,e,n){t&&l_(t,e||1/0,n)},wrap:function(t,e,n){var r,i;t&&(void 0===(r=n)&&(r=2),void 0===i&&(i="top"),lj(t,{wordWrap:!0,wordWrapWidth:e,maxLines:r,textBaseline:i}))},getTextShape:function(t){return t.querySelector("text")}},(i=void 0===(r=t.labelOverlap)?[]:r).length&&i.forEach(function(r){var i=r.type,o=uB.get(i);t.labelOverlap.length<1||("hide"===i?function(t){for(var e=t;e;){if("offscreen"===e.className)return!0;e=e.parent}return!1}(e[0]):"rotate"===i?e.some(function(t){var e;return!!(null===(e=t.attr("transform"))||void 0===e?void 0:e.includes("rotate"))}):("ellipsis"===i||"wrap"===i)&&!(e.filter(function(t){return t.querySelector("text")}).length>1))||null==o||o(e,r,t,n)})}function u$(t,e,n,r,i){var o,a=n.indexOf(e),s=ls(t).append((o=i.labelFormatter,(0,eu.Z)(o)?function(){return lD(lv(o,[e,a,n,uw(e.value,i)]))}:function(){return lD(e.label||"")})).attr("className",l7.labelItem.name).node(),l=sX(li(uv(r,[e,a,n])),2),u=l[0],c=l[1],h=c.transform,d=sK(c,["transform"]);uP(s,h);var p=function(t,e,n){var r,i,o=n.labelAlign;if(null===(i=e.style.transform)||void 0===i?void 0:i.includes("rotate"))return e.getLocalEulerAngles();var a=0,s=uw(t.value,n),l=ux(t.value,n);return"horizontal"===o?0:(uT(r=(ul(a="perpendicular"===o?uz([1,0],s):uz([l[0]<0?-1:1,0],l))+360)%180,-90,90)||(r+=180),r)}(e,s,i);return s.getLocalEulerAngles()||s.setLocalEulerAngles(p),uH(s,sq(sq({},uW(e.value,p,i)),u)),t.attr(d),s}function uU(t,e){return uE(t,e.tickDirection,e)}function uq(t,e,n,r,i,o){var a,s,l,u,c,h,d,p,f,g,m,v,y,b,x,E,w,S,M,k,O=(a=ls(this),s=r.tickFormatter,l=uU(t.value,r),u="line",(0,eu.Z)(s)&&(u=function(){return lv(s,[t,e,n,l])}),a.append(u).attr("className",l7.tickItem.name));c=uU(t.value,r),b=(p=sX((h=lv(r.tickLength,[t,e,n]),[[0,0],[(d=sX(c,2))[0]*h,d[1]*h]]),2),g=(f=sX(p[0],2))[0],m=f[1],y={x1:g,x2:(v=sX(p[1],2))[0],y1:m,y2:v[1]}).x1,x=y.x2,E=y.y1,w=y.y2,M=(S=sX(li(uv(i,[t,e,n,c])),2))[0],k=S[1],"line"===O.node().nodeName&&O.styles(sq({x1:b,x2:x,y1:E,y2:w},M)),this.attr(k),O.styles(M);var C=sX(uS(t.value,r),2),A=C[0],T=C[1];return lw(this,{transform:"translate(".concat(A,", ").concat(T,")")},o)}function uK(t,e,n,r,i){var o=sX(li(ln(r,"title")),2),a=o[0],s=o[1],l=s.transform,u=s.transformOrigin,c=sK(s,["transform","transformOrigin"]);e.styles(c);var h=l||function(t,e,n){var r=2*t.getGeometryBounds().halfExtents[1];if("vertical"===e){if("left"===n)return"rotate(-90) translate(0, ".concat(r/2,")");if("right"===n)return"rotate(-90) translate(0, -".concat(r/2,")")}return""}(t.node(),a.direction,a.position);t.styles(sq(sq({},a),{transformOrigin:u})),uP(t.node(),h);var d=function(t,e,n){var r=n.titlePosition,i=void 0===r?"lb":r,o=n.titleSpacing,a=lp(i),s=t.node().getLocalBounds(),l=sX(s.min,2),u=l[0],c=l[1],h=sX(s.halfExtents,2),d=h[0],p=h[1],f=sX(e.node().getLocalBounds().halfExtents,2),g=f[0],m=f[1],v=sX([u+d,c+p],2),y=v[0],b=v[1],x=sX(lc(o),4),E=x[0],w=x[1],S=x[2],M=x[3];if(["start","end"].includes(i)&&"linear"===n.type){var k=n.startPos,O=n.endPos,C=sX("start"===i?[k,O]:[O,k],2),A=C[0],T=C[1],P=sX(ut(ua([-T[0]+A[0],-T[1]+A[1]]),E),2),L=P[0],R=P[1];return{x:A[0]+L,y:A[1]+R}}return a.includes("t")&&(b-=p+m+E),a.includes("r")&&(y+=d+g+w),a.includes("l")&&(y-=d+g+M),a.includes("b")&&(b+=p+m+S),{x:y,y:b}}(ls(n._offscreen||n.querySelector(l7.mainGroup.class)),e,r),p=d.x,f=d.y;return lw(e.node(),{transform:"translate(".concat(p,", ").concat(f,")")},i)}function uY(t,e,n,r){var i=t.showLine,o=t.showTick,a=t.showLabel,s=lh(i,e.maybeAppendByClassName(l7.lineGroup,"g"),function(e){var n,i,o,a,s,l,u,c,h,d,p;return n=e,i=t,o=r,d=i.type,p=ln(i,"line"),"linear"===d?h=function(t,e,n,r){var i,o,a,s,l,u,c,h,d,p,f,g,m,v,y,b,x,E,w=e.showTrunc,S=e.startPos,M=e.endPos,k=e.truncRange,O=e.lineExtension,C=sX([S,M],2),A=sX(C[0],2),T=A[0],P=A[1],L=sX(C[1],2),R=L[0],D=L[1],N=sX(O?(void 0===(i=O)&&(i=[0,0]),o=sX([S,M,i],3),s=(a=sX(o[0],2))[0],l=a[1],c=(u=sX(o[1],2))[0],h=u[1],p=(d=sX(o[2],2))[0],f=d[1],m=(g=sX([c-s,h-l],2))[0],[(x=(b=sX([-p/(y=Math.sqrt(Math.pow(m,2)+Math.pow(v=g[1],2))),f/y],2))[0])*m,x*v,(E=b[1])*m,E*v]):[,,,,].fill(0),4),I=N[0],Z=N[1],j=N[2],_=N[3],B=function(e){return t.selectAll(l7.line.class).data(e,function(t,e){return e}).join(function(t){return t.append("line").attr("className",function(t){return"".concat(l7.line.name," ").concat(t.className)}).styles(n).transition(function(t){return lw(this,uC(t.line),!1)})},function(t){return t.styles(n).transition(function(t){return lw(this,uC(t.line),r.update)})},function(t){return t.remove()}).transitions()};if(!w||!k)return B([{line:[[T+I,P+Z],[R+j,D+_]],className:l7.line.name}]);var F=sX(k,2),z=F[0],W=F[1],V=R-T,H=D-P,G=sX([T+V*z,P+H*z],2),$=G[0],U=G[1],q=sX([T+V*W,P+H*W],2),K=q[0],Y=q[1],X=B([{line:[[T+I,P+Z],[$,U]],className:l7.lineFirst.name},{line:[[K,Y],[R+j,D+_]],className:l7.lineSecond.name}]);return e.truncRange,e.truncShape,e.lineExtension,X}(n,i,um(p,"arrow"),o):(a=um(p,"arrow"),s=i.startAngle,l=i.endAngle,u=i.center,c=i.radius,h=n.selectAll(l7.line.class).data([{d:uO.apply(void 0,sJ(sJ([s,l],sX(u),!1),[c],!1))}],function(t,e){return e}).join(function(t){return t.append("path").attr("className",l7.line.name).styles(i).styles({d:function(t){return t.d}})},function(t){return t.transition(function(){var t,e,n,r,i,a=this,h=function(t,e,n,r){if(!r)return t.attr("__keyframe_data__",n),null;var i=r.duration,o=function t(e,n){var r,i,o,a,s,l;return"number"==typeof e&&"number"==typeof n?function(t){return e*(1-t)+n*t}:Array.isArray(e)&&Array.isArray(n)?(r=n?n.length:0,i=e?Math.min(r,e.length):0,function(o){var a=Array(i),s=Array(r),l=0;for(l=0;l<i;++l)a[l]=t(e[l],n[l]);for(;l<r;++l)s[l]=n[l];for(l=0;l<i;++l)s[l]=a[l](o);return s}):"object"==typeof e&&"object"==typeof n?(void 0===(o=e)&&(o={}),void 0===(a=n)&&(a={}),s={},l={},Object.entries(a).forEach(function(e){var n=sX(e,2),r=n[0],i=n[1];r in o?s[r]=t(o[r],i):l[r]=i}),function(t){return Object.entries(s).forEach(function(e){var n=sX(e,2),r=n[0],i=n[1];return l[r]=i(t)}),l}):function(t){return e}}(e,n),a=Array(Math.ceil(+(void 0===i?0:i)/16)).fill(0).map(function(t,e,n){return{__keyframe_data__:o(e/(n.length-1))}});return t.animate(a,sq({fill:"both"},r))}(this,(e=(t=this.attributes).startAngle,n=t.endAngle,r=t.center,i=t.radius,sJ(sJ([e,n],sX(r),!1),[i],!1)),sJ(sJ([s,l],sX(u),!1),[c],!1),o.update);if(h){var d=function(){var t=nX(a.attributes,"__keyframe_data__");a.style.d=uO.apply(void 0,sJ([],sX(t),!1))};h.onframe=d,h.onfinish=d}return h}).styles(i)},function(t){return t.remove()}).styles(a).transitions()),!function(t,e,n,r){var i,o,a=n.showArrow,s=n.showTrunc,l=n.lineArrow,u=n.lineArrowOffset,c=n.lineArrowSize;if(o="arc"===e?t.select(l7.line.class):s?t.select(l7.lineSecond.class):t.select(l7.line.class),!a||!l||"arc"===n.type&&(i=n.startAngle,n.endAngle-i==360)){var h=o.node();h&&(h.style.markerEnd=void 0);return}var d=lD(l);d.attr(r),lS(d,c,!0),o.style("markerEnd",d).style("markerEndOffset",-u)}(n,d,i,p),h})||[],l=lh(o,e.maybeAppendByClassName(l7.tickGroup,"g"),function(e){var i,o;return i=uy(n,t.tickFilter),o=ln(t,"tick"),e.selectAll(l7.tick.class).data(i,function(t){return t.id||t.label}).join(function(e){return e.append("g").attr("className",l7.tick.name).transition(function(e,n){return uq.call(this,e,n,i,t,o,!1)})},function(e){return e.transition(function(e,n){return this.removeChildren(),uq.call(this,e,n,i,t,o,r.update)})},function(t){return t.transition(function(){var t=this,e=uu(this.childNodes[0],r.exit);return lb(e,function(){return t.remove()}),e})}).transitions()})||[],u=lh(a,e.maybeAppendByClassName(l7.labelGroup,"g"),function(e){var i,o;return i=uy(n,t.labelFilter),o=ln(t,"label"),e.selectAll(l7.label.class).data(i,function(t,e){return e}).join(function(r){return r.append("g").attr("className",l7.label.name).transition(function(e){u$(this,e,n,o,t);var r=uV(e,n,t),i=r.x,a=r.y;return this.style.transform="translate(".concat(i,", ").concat(a,")"),null}).call(function(){uG.call(e,t)})},function(i){return i.transition(function(e){var i=function(t,e,n,r){if(void 0===r&&(r="destroy"),"text"===t.nodeName&&"text"===e.nodeName&&t.attributes.text===e.attributes.text)return t.remove(),[null];var i=function(){"destroy"===r?t.destroy():"hide"===r&&s1(t),e.isVisible()&&s0(e)};if(!n)return i(),[null];var o=n.duration,a=void 0===o?0:o,s=n.delay,l=void 0===s?0:s,u=Math.ceil(+a/2),c=+a/4,h=sX(t.getGeometryBounds().center,2),d=h[0],p=h[1],f=sX(e.getGeometryBounds().center,2),g=sX([(d+f[0])/2-d,(p+f[1])/2-p],2),m=g[0],v=g[1],y=t.style.opacity,b=e.style.opacity,x=t.style.transform||"",E=e.style.transform||"",w=t.animate([{opacity:void 0===y?1:y,transform:"translate(0, 0) ".concat(x)},{opacity:0,transform:"translate(".concat(m,", ").concat(v,") ").concat(x)}],sq(sq({fill:"both"},n),{duration:l+u+c})),S=e.animate([{opacity:0,transform:"translate(".concat(-m,", ").concat(-v,") ").concat(E),offset:.01},{opacity:void 0===b?1:b,transform:"translate(0, 0) ".concat(E)}],sq(sq({fill:"both"},n),{duration:u+c,delay:l+u-c}));return lb(S,i),[w,S]}(this.querySelector(l7.labelItem.class),u$(this,e,n,o,t),r.update),a=uV(e,n,t),s=a.x,l=a.y,u=lw(this,{transform:"translate(".concat(s,", ").concat(l,")")},r.update);return sJ(sJ([],sX(i),!1),[u],!1)}).call(function(n){var r,i;r=nX(n,"_transitions").flat().filter(uL),i=function(){uG.call(e,t)},0===r.length?i():Promise.all(r.map(function(t){return null==t?void 0:t.finished})).then(i)})},function(t){return t.transition(function(){var t=this,e=uu(this.childNodes[0],r.exit);return lb(e,function(){return ls(t).remove()}),e})}).transitions()})||[];return sJ(sJ(sJ([],sX(s),!1),sX(l),!1),sX(u),!1).filter(function(t){return!!t})}var uX=function(t){function e(e){return t.call(this,e,l9)||this}return sU(e,t),e.prototype.render=function(t,e,n){var r=this,i=t.titleText,o=t.data,a=t.animate,s=t.showTitle,l=t.showGrid,u=t.dataThreshold,c=t.truncRange,h=(function(t,e){if(t.length<=e)return t;for(var n=Math.floor(t.length/e),r=[],i=0;i<t.length;i+=n)r.push(t[i]);return r})(o,u).filter(function(t){var e=t.value;return!c||!(e>c[0])||!(e<c[1])}),d=ly(void 0===n?a:n),p=lh(l,ls(e).maybeAppendByClassName(l7.gridGroup,"g"),function(e){var n,r,i,o,a,s,l,u;return r=(n=ln(t,"grid")).type,i=n.areaFill,o=uA(t),a=uy(h,t.gridFilter),l="segment"===r?(s=t.gridLength,a.map(function(e,n){var r=e.value,i=sX(uS(r,t),2),o=i[0],a=i[1],l=sX(ut(uE(r,t.gridDirection,t),s),2);return{id:n,points:[[o,a],[o+l[0],a+l[1]]]}})):function(t,e){var n=e.gridControlAngles,r=uA(e);if(!r)throw Error("grid center is not provide");if(t.length<2)throw Error("Invalid grid data");if(!n||0===n.length)throw Error("Invalid gridControlAngles");var i=sX(r,2),o=i[0],a=i[1];return t.map(function(t,r){var i=sX(uS(t.value,e),2),s=sX([i[0]-o,i[1]-a],2),l=s[0],u=s[1],c=[];return n.forEach(function(t){var e=us(t),n=sX([Math.cos(e),Math.sin(e)],2),r=n[0],i=n[1];c.push([l*r-u*i+o,l*i+u*r+a])}),{points:c,id:r}})}(a,t),u=sq(sq({},n),{center:o,areaFill:(0,eu.Z)(i)?a.map(function(t,e){return lv(i,[t,e,a])}):i,animate:d,data:l}),e.selectAll(l7.grid.class).data([1]).join(function(t){return t.append(function(){return new ug({style:u})}).attr("className",l7.grid.name)},function(t){return t.transition(function(){return this.update(u)})},function(t){return t.remove()}).transitions()})||[],f=ls(e).maybeAppendByClassName(l7.mainGroup,"g");i&&(!this.initialized&&d.enter||this.initialized&&d.update)&&uY(t,ls(this.offscreenGroup),h,ly(!1));var g=uY(t,ls(f.node()),h,d),m=lh(s,ls(e).maybeAppendByClassName(l7.titleGroup,"g"),function(e){var n;return n=t.titleText,e.selectAll(l7.title.class).data([{title:n}].filter(function(t){return!!t.title}),function(t,e){return t.title}).join(function(i){return i.append(function(){return lD(n)}).attr("className",l7.title.name).transition(function(){return uK(ls(this),e,r,t,d.enter)})},function(n){return n.transition(function(){return uK(ls(this),e,r,t,d.update)})},function(t){return t.remove()}).transitions()})||[];return sJ(sJ(sJ([],sX(p),!1),sX(g),!1),sX(m),!1).flat().filter(function(t){return!!t})},e}(s9);function uJ(t){var e=t.canvas,n=t.touches,r=t.offsetX,i=t.offsetY;if(e)return[e.x,e.y];if(n){var o=n[0];return[o.clientX,o.clientY]}return r&&i?[r,i]:[0,0]}function uQ(t,e){return+t.toPrecision(e)}var u0=function(t){return t};class u1{constructor(t){this.options=(0,nl.Z)({},this.getDefaultOptions()),this.update(t)}getOptions(){return this.options}update(t={}){this.options=(0,nl.Z)({},this.options,t),this.rescale(t)}rescale(t){}}function u2(t,e){return e-t?n=>(n-t)/(e-t):t=>.5}function u3(t,...e){return e.reduce((t,e)=>n=>t(e(n)),t)}var u6=n(71354),u5=n.n(u6);function u4(t,e,n){let r=n;return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?t+(e-t)*6*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function u8(t){let e=u5().get(t);if(!e)return null;let{model:n,value:r}=e;return"rgb"===n?r:"hsl"===n?function(t){let e=t[0]/360,n=t[1]/100,r=t[2]/100,i=t[3];if(0===n)return[255*r,255*r,255*r,i];let o=r<.5?r*(1+n):r+n-r*n,a=2*r-o;return[255*u4(a,o,e+1/3),255*u4(a,o,e),255*u4(a,o,e-1/3),i]}(r):null}let u9=(t,e)=>n=>t*(1-n)+e*n,u7=(t,e)=>{let n=u8(t),r=u8(e);return null===n||null===r?n?()=>t:()=>e:t=>{let e=[,,,,];for(let i=0;i<4;i+=1){let o=n[i],a=r[i];e[i]=o*(1-t)+a*t}let[i,o,a,s]=e;return`rgba(${Math.round(i)}, ${Math.round(o)}, ${Math.round(a)}, ${s})`}},ct=(t,e)=>"number"==typeof t&&"number"==typeof e?u9(t,e):"string"==typeof t&&"string"==typeof e?u7(t,e):()=>t,ce=(t,e)=>{let n=u9(t,e);return t=>Math.round(n(t))};function cn(t){return!(0,iK.Z)(t)&&null!==t&&!Number.isNaN(t)}let cr=Math.sqrt(50),ci=Math.sqrt(10),co=Math.sqrt(2);function ca(t,e,n){let r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/10**i;return i>=0?(o>=cr?10:o>=ci?5:o>=co?2:1)*10**i:-(10**-i)/(o>=cr?10:o>=ci?5:o>=co?2:1)}let cs=(t,e,n=5)=>{let r;let i=[t,e],o=0,a=i.length-1,s=i[o],l=i[a];return l<s&&([s,l]=[l,s],[o,a]=[a,o]),(r=ca(s,l,n))>0?r=ca(s=Math.floor(s/r)*r,l=Math.ceil(l/r)*r,n):r<0&&(r=ca(s=Math.ceil(s*r)/r,l=Math.floor(l*r)/r,n)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(l/r)*r):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(l*r)/r),i},cl=(t,e,n)=>{let r,i;let[o,a]=t,[s,l]=e;return o<a?(r=u2(o,a),i=n(s,l)):(r=u2(a,o),i=n(l,s)),u3(i,r)},cu=(t,e,n)=>{let r=Math.min(t.length,e.length)-1,i=Array(r),o=Array(r),a=t[0]>t[r],s=a?[...t].reverse():t,l=a?[...e].reverse():e;for(let t=0;t<r;t+=1)i[t]=u2(s[t],s[t+1]),o[t]=n(l[t],l[t+1]);return e=>{let n=function(t,e,n,r,i){let o=1,a=r||t.length,s=t=>t;for(;o<a;){let n=Math.floor((o+a)/2);s(t[n])>e?a=n:o=n+1}return o}(t,e,0,r)-1,a=i[n];return u3(o[n],a)(e)}},cc=(t,e,n,r)=>(Math.min(t.length,e.length)>2?cu:cl)(t,e,r?ce:n);class ch extends u1{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:u9,tickCount:5}}map(t){return cn(t)?this.output(t):this.options.unknown}invert(t){return cn(t)?this.input(t):this.options.unknown}nice(){if(!this.options.nice)return;let[t,e,n,...r]=this.getTickMethodOptions();this.options.domain=this.chooseNice()(t,e,n,...r)}getTicks(){let{tickMethod:t}=this.options,[e,n,r,...i]=this.getTickMethodOptions();return t(e,n,r,...i)}getTickMethodOptions(){let{domain:t,tickCount:e}=this.options;return[t[0],t[t.length-1],e]}chooseNice(){return cs}rescale(){this.nice();let[t,e]=this.chooseTransforms();this.composeOutput(t,this.chooseClamp(t)),this.composeInput(t,e,this.chooseClamp(e))}chooseClamp(t){let{clamp:e,range:n}=this.options,r=this.options.domain.map(t),i=Math.min(r.length,n.length);return e?function(t,e){let n=e<t?e:t,r=t>e?t:e;return t=>Math.min(Math.max(n,t),r)}(r[0],r[i-1]):u0}composeOutput(t,e){let{domain:n,range:r,round:i,interpolate:o}=this.options,a=cc(n.map(t),r,o,i);this.output=u3(a,e,t)}composeInput(t,e,n){let{domain:r,range:i}=this.options,o=cc(i,r.map(t),u9);this.input=u3(e,n,o)}}let cd=(t,e,n)=>{let r,i;let o=t,a=e;if(o===a&&n>0)return[o];let s=ca(o,a,n);if(0===s||!Number.isFinite(s))return[];if(s>0){o=Math.ceil(o/s),i=Array(r=Math.ceil((a=Math.floor(a/s))-o+1));for(let t=0;t<r;t+=1)i[t]=(o+t)*s}else{o=Math.ceil(o*(s=-s)),i=Array(r=Math.ceil((a=Math.floor(a*s))-o+1));for(let t=0;t<r;t+=1)i[t]=(o+t)/s}return i};class cp extends ch{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:ct,tickMethod:cd,tickCount:5}}chooseTransforms(){return[u0,u0]}clone(){return new cp(this.options)}}function cf({map:t,initKey:e},n){let r=e(n);return t.has(r)?t.get(r):n}function cg(t){return"object"==typeof t?t.valueOf():t}class cm extends Map{constructor(t){if(super(),this.map=new Map,this.initKey=cg,null!==t)for(let[e,n]of t)this.set(e,n)}get(t){return super.get(cf({map:this.map,initKey:this.initKey},t))}has(t){return super.has(cf({map:this.map,initKey:this.initKey},t))}set(t,e){return super.set(function({map:t,initKey:e},n){let r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}({map:this.map,initKey:this.initKey},t),e)}delete(t){return super.delete(function({map:t,initKey:e},n){let r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}({map:this.map,initKey:this.initKey},t))}}let cv=Symbol("defaultUnknown");function cy(t,e,n){for(let r=0;r<e.length;r+=1)t.has(e[r])||t.set(n(e[r]),r)}function cb(t){let{value:e,from:n,to:r,mapper:i,notFoundReturn:o}=t,a=i.get(e);if(void 0===a){if(o!==cv)return o;a=n.push(e)-1,i.set(e,a)}return r[a%r.length]}function cx(t){return t instanceof Date?t=>`${t}`:"object"==typeof t?t=>JSON.stringify(t):t=>t}class cE extends u1{getDefaultOptions(){return{domain:[],range:[],unknown:cv}}constructor(t){super(t)}map(t){return 0===this.domainIndexMap.size&&cy(this.domainIndexMap,this.getDomain(),this.domainKey),cb({value:this.domainKey(t),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(t){return 0===this.rangeIndexMap.size&&cy(this.rangeIndexMap,this.getRange(),this.rangeKey),cb({value:this.rangeKey(t),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(t){let[e]=this.options.domain,[n]=this.options.range;if(this.domainKey=cx(e),this.rangeKey=cx(n),!this.rangeIndexMap){this.rangeIndexMap=new Map,this.domainIndexMap=new Map;return}(!t||t.range)&&this.rangeIndexMap.clear(),(!t||t.domain||t.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}clone(){return new cE(this.options)}getRange(){return this.options.range}getDomain(){if(this.sortedDomain)return this.sortedDomain;let{domain:t,compare:e}=this.options;return this.sortedDomain=e?[...t].sort(e):t,this.sortedDomain}}class cw extends cE{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:cv,flex:[]}}constructor(t){super(t)}clone(){return new cw(this.options)}getStep(t){return void 0===this.valueStep?1:"number"==typeof this.valueStep?this.valueStep:void 0===t?Array.from(this.valueStep.values())[0]:this.valueStep.get(t)}getBandWidth(t){return void 0===this.valueBandWidth?1:"number"==typeof this.valueBandWidth?this.valueBandWidth:void 0===t?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(t)}getRange(){return this.adjustedRange}getPaddingInner(){let{padding:t,paddingInner:e}=this.options;return t>0?t:e}getPaddingOuter(){let{padding:t,paddingOuter:e}=this.options;return t>0?t:e}rescale(){super.rescale();let{align:t,domain:e,range:n,round:r,flex:i}=this.options,{adjustedRange:o,valueBandWidth:a,valueStep:s}=function(t){var e;let n,r;let{domain:i}=t,o=i.length;if(0===o)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(null===(e=t.flex)||void 0===e?void 0:e.length)return function(t){let{domain:e,range:n,paddingOuter:r,paddingInner:i,flex:o,round:a,align:s}=t,l=e.length,u=function(t,e){let n=e-t.length;return n>0?[...t,...Array(n).fill(1)]:n<0?t.slice(0,e):t}(o,l),[c,h]=n,d=h-c,p=d/(2/l*r+1-1/l*i),f=p*i/l,g=p-l*f,m=function(t){let e=Math.min(...t);return t.map(t=>t/e)}(u),v=g/m.reduce((t,e)=>t+e),y=new cm(e.map((t,e)=>{let n=m[e]*v;return[t,a?Math.floor(n):n]})),b=new cm(e.map((t,e)=>{let n=m[e]*v+f;return[t,a?Math.floor(n):n]})),x=Array.from(b.values()).reduce((t,e)=>t+e),E=c+(d-(x-x/l*i))*s,w=a?Math.round(E):E,S=Array(l);for(let t=0;t<l;t+=1){S[t]=Math.round(1e12*w)/1e12;let n=e[t];w+=b.get(n)}return{valueBandWidth:y,valueStep:b,adjustedRange:S}}(t);let{range:a,paddingOuter:s,paddingInner:l,round:u,align:c}=t,h=a[0],d=a[1]-h;n=d/Math.max(1,2*s+(o-l)),u&&(n=Math.floor(n)),h+=(d-n*(o-l))*c,r=n*(1-l),u&&(h=Math.round(h),r=Math.round(r));let p=Array(o).fill(0).map((t,e)=>h+e*n);return{valueStep:n,valueBandWidth:r,adjustedRange:p}}({align:t,range:n,round:r,flex:i,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:e});this.valueStep=s,this.valueBandWidth=a,this.adjustedRange=o}}var cS=function(t){function e(e){var n=this,r=e.style,i=sK(e,["style"]);return(n=t.call(this,(0,nl.Z)({},{type:"column"},sq({style:r},i)))||this).columnsGroup=new F.ZA({name:"columns"}),n.appendChild(n.columnsGroup),n.render(),n}return sU(e,t),e.prototype.render=function(){var t=this.attributes,e=t.columns,n=t.x,r=t.y;this.columnsGroup.style.transform="translate(".concat(n,", ").concat(r,")"),ls(this.columnsGroup).selectAll(".column").data(e.flat()).join(function(t){return t.append("rect").attr("className","column").each(function(t){this.attr(t)})},function(t){return t.each(function(t){this.attr(t)})},function(t){return t.remove()})},e.prototype.update=function(t){this.attr(s6({},this.attributes,t)),this.render()},e.prototype.clear=function(){this.removeChildren()},e}(F.s$),cM=function(t){function e(e){var n=this,r=e.style,i=sK(e,["style"]);return(n=t.call(this,(0,nl.Z)({},{type:"lines"},sq({style:r},i)))||this).linesGroup=n.appendChild(new F.ZA),n.areasGroup=n.appendChild(new F.ZA),n.render(),n}return sU(e,t),e.prototype.render=function(){var t=this.attributes,e=t.lines,n=t.areas,r=t.x,i=t.y;this.style.transform="translate(".concat(r,", ").concat(i,")"),e&&this.renderLines(e),n&&this.renderAreas(n)},e.prototype.clear=function(){this.linesGroup.removeChildren(),this.areasGroup.removeChildren()},e.prototype.update=function(t){this.attr(s6({},this.attributes,t)),this.render()},e.prototype.renderLines=function(t){ls(this.linesGroup).selectAll(".line").data(t).join(function(t){return t.append("path").attr("className","line").each(function(t){this.attr(t)})},function(t){return t.each(function(t){this.attr(t)})},function(t){return t.remove()})},e.prototype.renderAreas=function(t){ls(this.linesGroup).selectAll(".area").data(t).join(function(t){return t.append("path").attr("className","area").each(function(t){this.attr(t)})},function(t){return t.each(function(t){this.style(t)})},function(t){return t.remove()})},e}(F.s$);function ck(t,e){void 0===e&&(e=!1);var n=e?t.length-1:0,r=t.map(function(t,e){return sJ([e===n?"M":"L"],sX(t),!1)});return e?r.reverse():r}function cO(t,e){if(void 0===e&&(e=!1),t.length<=2)return ck(t);for(var n=[],r=t.length,i=0;i<r;i+=1){var o=e?t[r-i-1]:t[i];tJ(o,n.slice(-2))||n.push.apply(n,sJ([],sX(o),!1))}var a=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=[[0,0],[1,1]]);for(var r,i,o,a=!!e,s=[],l=0,u=t.length;l<u;l+=2)s.push([t[l],t[l+1]]);for(var c=function(t,e,n,r){var i,o,a,s,l,u,c=[],h=!!r,d=[1/0,1/0],p=[-1/0,-1/0];if(h){d=(i=sX(r,2))[0],p=i[1];for(var f=0,g=t.length;f<g;f+=1){var m=t[f];d=ur(d,m),p=ui(p,m)}}for(var f=0,v=t.length;f<v;f+=1){var m=t[f];if(0!==f||n){if(f!==v-1||n){o=t[[f?f-1:v-1,f-1][n?0:1]];var y=[0,0];y=ut(y=un(a=t[n?(f+1)%v:f+1],o),.4);var b=uo(m,o),x=uo(m,a),E=b+x;0!==E&&(b/=E,x/=E);var w=ut(y,-b),S=ut(y,x);l=ue(m,w),s=ur(s=ue(m,S),ui(a,m)),w=ut(w=un(s=ui(s,ur(a,m)),m),-b/x),l=ur(l=ue(m,w),ui(o,m)),l=ui(l,ur(o,m)),S=ut(S=un(m,l),x/b),s=ue(m,S),h&&(l=ur(l=ui(l,d),p),s=ur(s=ui(s,d),p)),c.push(u),c.push(l),u=s}else l=m,c.push(u),c.push(l)}else u=m}return n&&c.push(c.shift()),c}(s,0,a,n),h=s.length,d=[],l=0;l<h-1;l+=1)r=c[2*l],i=c[2*l+1],o=s[l+1],d.push(["C",r[0],r[1],i[0],i[1],o[0],o[1]]);return a&&(r=c[h],i=c[h+1],o=sX(s,1)[0],d.push(["C",r[0],r[1],i[0],i[1],o[0],o[1]])),d}(n,!1);return e?a.unshift(sJ(["M"],sX(t[r-1]),!1)):a.unshift(sJ(["M"],sX(t[0]),!1)),a}function cC(t,e,n){var r=(0,ef.Z)(t);return r.push(["L",e,n],["L",0,n],["Z"]),r}var cA=n(8129),cT=function(t,e){if((0,ec.Z)(t)){for(var n,r=1/0,i=0;i<t.length;i++){var o=t[i],a=(0,eu.Z)(e)?e(o):o[e];a<r&&(n=o,r=a)}return n}},cP=n(51460),cL=function(t,e){if((0,ec.Z)(t)){for(var n,r=-1/0,i=0;i<t.length;i++){var o=t[i],a=(0,eu.Z)(e)?e(o):o[e];a>r&&(n=o,r=a)}return n}};function cR(t){return 0===t.length?[0,0]:[(0,cA.Z)(cT(t,function(t){return(0,cA.Z)(t)||0})),(0,cP.Z)(cL(t,function(t){return(0,cP.Z)(t)||0}))]}function cD(t){for(var e=(0,ef.Z)(t),n=e[0].length,r=sX([Array(n).fill(0),Array(n).fill(0)],2),i=r[0],o=r[1],a=0;a<e.length;a+=1)for(var s=e[a],l=0;l<n;l+=1)s[l]>=0?(s[l]+=i[l],i[l]=s[l]):(s[l]+=o[l],o[l]=s[l]);return e}var cN=function(t){function e(e){return t.call(this,e,{type:"line",x:0,y:0,width:200,height:20,isStack:!1,color:["#83daad","#edbf45","#d2cef9","#e290b3","#6f63f4"],smooth:!0,lineLineWidth:1,areaOpacity:0,isGroup:!1,columnLineWidth:1,columnStroke:"#fff",scale:1,spacing:0})||this}return sU(e,t),Object.defineProperty(e.prototype,"rawData",{get:function(){var t=this.attributes.data;if(!t||(null==t?void 0:t.length)===0)return[[]];var e=(0,ef.Z)(t);return(0,$.Z)(e[0])?[e]:e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.attributes.isStack?cD(this.rawData):this.rawData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scales",{get:function(){return this.createScales(this.data)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseline",{get:function(){var t=this.scales.y,e=sX(t.getOptions().domain||[0,0],2),n=e[0],r=e[1];return r<0?t.map(r):t.map(n<0?0:n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"containerShape",{get:function(){var t=this.attributes;return{width:t.width,height:t.height}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linesStyle",{get:function(){var t=this,e=this.attributes,n=e.type,r=e.isStack,i=e.smooth;if("line"!==n)throw Error("linesStyle can only be used in line type");var o=ln(this.attributes,"area"),a=ln(this.attributes,"line"),s=this.containerShape.width,l=this.data;if(0===l[0].length)return{lines:[],areas:[]};var u=this.scales,c=(f=(d={type:"line",x:u.x,y:u.y}).x,v=(m=sX((g=d.y).getOptions().range||[0,0],2))[0],(y=m[1])>v&&(y=(p=sX([v,y],2))[0],v=p[1]),l.map(function(t){return t.map(function(t,e){return[f.map(e),(0,Q.Z)(g.map(t),y,v)]})})),h=[];if(o){var d,p,f,g,m,v,y,b=this.baseline;h=r?i?function(t,e,n){for(var r=[],i=t.length-1;i>=0;i-=1){var o=t[i],a=cO(o),s=void 0;if(0===i)s=cC(a,e,n);else{var l=cO(t[i-1],!0),u=o[0];l[0][0]="L",s=sJ(sJ(sJ([],sX(a),!1),sX(l),!1),[sJ(["M"],sX(u),!1),["Z"]],!1)}r.push(s)}return r}(c,s,b):function(t,e,n){for(var r=[],i=t.length-1;i>=0;i-=1){var o=ck(t[i]),a=void 0;if(0===i)a=cC(o,e,n);else{var s=ck(t[i-1],!0);s[0][0]="L",a=sJ(sJ(sJ([],sX(o),!1),sX(s),!1),[["Z"]],!1)}r.push(a)}return r}(c,s,b):c.map(function(t){return cC(i?cO(t):ck(t),s,b)})}return{lines:c.map(function(e,n){return sq({stroke:t.getColor(n),d:i?cO(e):ck(e)},a)}),areas:h.map(function(e,n){return sq({d:e,fill:t.getColor(n)},o)})}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"columnsStyle",{get:function(){var t=this,e=ln(this.attributes,"column"),n=this.attributes,r=n.isStack,i=n.type,o=n.scale;if("column"!==i)throw Error("columnsStyle can only be used in column type");var a=this.containerShape.height,s=this.rawData;if(!s)return{columns:[]};r&&(s=cD(s));var l=this.createScales(s),u=l.x,c=l.y,h=sX(cR(s),2),d=h[0],p=new cp({domain:[0,h[1]-(d>0?0:d)],range:[0,a*o]}),f=u.getBandWidth(),g=this.rawData;return{columns:s.map(function(n,i){return n.map(function(n,o){var a=f/s.length;return sq(sq({fill:t.getColor(i)},e),r?{x:u.map(o),y:c.map(n),width:f,height:p.map(g[i][o])}:{x:u.map(o)+a*i,y:n>=0?c.map(n):c.map(0),width:a,height:p.map(Math.abs(n))})})})}},enumerable:!1,configurable:!0}),e.prototype.render=function(t,e){(n=".container",r="rect",e.querySelector(n)?ls(e).select(n):ls(e).append(r)).attr("className","container").node();var n,r,i=t.type,o=t.x,a=t.y,s="spark".concat(i),l=sq({x:o,y:a},"line"===i?this.linesStyle:this.columnsStyle);ls(e).selectAll(".spark").data([i]).join(function(t){return t.append(function(t){return"line"===t?new cM({className:s,style:l}):new cS({className:s,style:l})}).attr("className","spark ".concat(s))},function(t){return t.update(l)},function(t){return t.remove()})},e.prototype.getColor=function(t){var e=this.attributes.color;return(0,ec.Z)(e)?e[t%e.length]:(0,eu.Z)(e)?e.call(null,t):e},e.prototype.createScales=function(t){var e,n,r=this.attributes,i=r.type,o=r.scale,a=r.range,s=void 0===a?[]:a,l=r.spacing,u=this.containerShape,c=u.width,h=u.height,d=sX(cR(t),2),p=d[0],f=d[1],g=new cp({domain:[null!==(e=s[0])&&void 0!==e?e:p,null!==(n=s[1])&&void 0!==n?n:f],range:[h,h*(1-o)]});return"line"===i?{type:i,x:new cp({domain:[0,t[0].length-1],range:[0,c]}),y:g}:{type:i,x:new cw({domain:t[0].map(function(t,e){return e}),range:[0,c],paddingInner:l,paddingOuter:l/2,align:.5}),y:g}},e.tag="sparkline",e}(s9),cI={fill:"#fff",lineWidth:1,radius:2,size:10,stroke:"#bfbfbf",strokeOpacity:1,zIndex:0},cZ={fill:"#000",fillOpacity:.45,fontSize:12,textAlign:"center",textBaseline:"middle",zIndex:1},cj={x:0,y:0,orientation:"horizontal",showLabel:!0,type:"start"},c_=lu({foreground:"foreground",handle:"handle",selection:"selection",sparkline:"sparkline",sparklineGroup:"sparkline-group",track:"track",brushArea:"brush-area"},"slider"),cB=lu({labelGroup:"label-group",label:"label",iconGroup:"icon-group",icon:"icon",iconRect:"icon-rect",iconLine:"icon-line"},"handle"),cF=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return sU(e,t),e.prototype.render=function(t,e){var n=t.x,r=t.y,i=t.size,o=void 0===i?10:i,a=t.radius,s=t.orientation,l=sK(t,["x","y","size","radius","orientation"]),u=2.4*o,c=ls(e).maybeAppendByClassName(cB.iconRect,"rect").styles(sq(sq({},l),{width:o,height:u,radius:void 0===a?o/4:a,x:n-o/2,y:r-u/2,transformOrigin:"center"})),h=n+1/3*o-o/2,d=n+2/3*o-o/2,p=r+1/4*u-u/2,f=r+3/4*u-u/2;c.maybeAppendByClassName("".concat(cB.iconLine,"-1"),"line").styles(sq({x1:h,x2:h,y1:p,y2:f},l)),c.maybeAppendByClassName("".concat(cB.iconLine,"-2"),"line").styles(sq({x1:d,x2:d,y1:p,y2:f},l)),"vertical"===s&&(c.node().style.transform="rotate(90)")},e}(s9),cz=function(t){function e(e){return t.call(this,e,cj)||this}return sU(e,t),e.prototype.renderLabel=function(t){var e=this,n=this.attributes,r=n.x,i=n.y,o=n.showLabel,a=ln(this.attributes,"label"),s=a.x,l=void 0===s?0:s,u=a.y,c=void 0===u?0:u,h=a.transform,d=a.transformOrigin,p=sX(li(sK(a,["x","y","transform","transformOrigin"]),[]),2),f=p[0],g=p[1],m=ls(t).maybeAppendByClassName(cB.labelGroup,"g").styles(g),v=sq(sq({},cZ),f),y=v.text,b=sK(v,["text"]);lh(!!o,m,function(t){e.label=t.maybeAppendByClassName(cB.label,"text").styles(sq(sq({},b),{x:r+l,y:i+c,transform:h,transformOrigin:d,text:"".concat(y)})),e.label.on("mousedown",function(t){t.stopPropagation()}),e.label.on("touchstart",function(t){t.stopPropagation()})})},e.prototype.renderIcon=function(t){var e=this.attributes,n=e.x,r=e.y,i=e.orientation,o=e.type,a=sq(sq({x:n,y:r,orientation:i},cI),ln(this.attributes,"icon")),s=this.attributes.iconShape,l=void 0===s?function(){return new cF({style:a})}:s;ls(t).maybeAppendByClassName(cB.iconGroup,"g").selectAll(cB.icon.class).data([l]).join(function(t){return t.append("string"==typeof l?l:function(){return l(o)}).attr("className",cB.icon.name)},function(t){return t.update(a)},function(t){return t.remove()})},e.prototype.render=function(t,e){this.renderIcon(e),this.renderLabel(e)},e}(s9),cW=function(t){function e(e){var n=t.call(this,e,sq(sq(sq({x:0,y:0,animate:{duration:100,fill:"both"},brushable:!0,formatter:function(t){return t.toString()},handleSpacing:2,orientation:"horizontal",padding:0,autoFitLabel:!0,scrollable:!0,selectionFill:"#5B8FF9",selectionFillOpacity:.45,selectionZIndex:2,showHandle:!0,showLabel:!0,slidable:!0,trackFill:"#416180",trackLength:200,trackOpacity:.05,trackSize:20,trackZIndex:-1,values:[0,1],type:"range",selectionType:"select",handleIconOffset:0},lr(cj,"handle")),lr(cI,"handleIcon")),lr(cZ,"handleLabel")))||this;return n.range=[0,1],n.onDragStart=function(t){return function(e){e.stopPropagation(),n.target=t,n.prevPos=n.getOrientVal(uJ(e));var r=n.availableSpace,i=r.x,o=r.y,a=n.getBBox(),s=a.x,l=a.y;n.selectionStartPos=n.getRatio(n.prevPos-n.getOrientVal([i,o])-n.getOrientVal([+s,+l])),n.selectionWidth=0,document.addEventListener("pointermove",n.onDragging),document.addEventListener("pointerup",n.onDragEnd)}},n.onDragging=function(t){var e=n.attributes,r=e.slidable,i=e.brushable,o=e.type;t.stopPropagation();var a=n.getOrientVal(uJ(t)),s=a-n.prevPos;if(s){var l=n.getRatio(s);switch(n.target){case"start":r&&n.setValuesOffset(l);break;case"end":r&&n.setValuesOffset(0,l);break;case"selection":r&&n.setValuesOffset(l,l);break;case"track":if(!i)return;n.selectionWidth+=l,"range"===o?n.innerSetValues([n.selectionStartPos,n.selectionStartPos+n.selectionWidth].sort(),!0):n.innerSetValues([0,n.selectionStartPos+n.selectionWidth],!0)}n.prevPos=a}},n.onDragEnd=function(){document.removeEventListener("pointermove",n.onDragging),document.removeEventListener("pointermove",n.onDragging),document.removeEventListener("pointerup",n.onDragEnd),n.target="",n.updateHandlesPosition(!1)},n.onValueChange=function(t){var e=n.attributes,r=e.onChange,i=e.type,o="range"===i?t:t[1],a="range"===i?n.getValues():n.getValues()[1],s=new F.Aw("valuechange",{detail:{oldValue:o,value:a}});n.dispatchEvent(s),null==r||r(a)},n.selectionStartPos=0,n.selectionWidth=0,n.prevPos=0,n.target="",n}return sU(e,t),Object.defineProperty(e.prototype,"values",{get:function(){return this.attributes.values},set:function(t){this.attributes.values=this.clampValues(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sparklineStyle",{get:function(){if("horizontal"!==this.attributes.orientation)return null;var t=ln(this.attributes,"sparkline");return sq(sq({zIndex:0},this.availableSpace),t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shape",{get:function(){var t=this.attributes,e=t.trackLength,n=t.trackSize,r=sX(this.getOrientVal([[e,n],[n,e]]),2);return{width:r[0],height:r[1]}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"availableSpace",{get:function(){var t=this.attributes,e=sX(lc((t.x,t.y,t.padding)),4),n=e[0],r=e[1],i=e[2],o=e[3],a=this.shape;return{x:o,y:n,width:a.width-(o+r),height:a.height-(n+i)}},enumerable:!1,configurable:!0}),e.prototype.getValues=function(){return this.values},e.prototype.setValues=function(t,e){void 0===t&&(t=[0,0]),void 0===e&&(e=!1),this.attributes.values=t;var n=!1!==e&&this.attributes.animate;this.updateSelectionArea(n),this.updateHandlesPosition(n)},e.prototype.updateSelectionArea=function(t){var e=this.calcSelectionArea();this.foregroundGroup.selectAll(c_.selection.class).each(function(n,r){lw(this,e[r],t)})},e.prototype.updateHandlesPosition=function(t){this.attributes.showHandle&&(this.startHandle&&lw(this.startHandle,this.getHandleStyle("start"),t),this.endHandle&&lw(this.endHandle,this.getHandleStyle("end"),t))},e.prototype.innerSetValues=function(t,e){void 0===t&&(t=[0,0]),void 0===e&&(e=!1);var n=this.values,r=this.clampValues(t);this.attributes.values=r,this.setValues(r),e&&this.onValueChange(n)},e.prototype.renderTrack=function(t){var e=this.attributes,n=e.x,r=e.y,i=ln(this.attributes,"track");this.trackShape=ls(t).maybeAppendByClassName(c_.track,"rect").styles(sq(sq({x:n,y:r},this.shape),i))},e.prototype.renderBrushArea=function(t){var e=this.attributes,n=e.x,r=e.y,i=e.brushable;this.brushArea=ls(t).maybeAppendByClassName(c_.brushArea,"rect").styles(sq({x:n,y:r,fill:"transparent",cursor:i?"crosshair":"default"},this.shape))},e.prototype.renderSparkline=function(t){var e=this,n=this.attributes,r=n.x,i=n.y;lh("horizontal"===n.orientation,ls(t).maybeAppendByClassName(c_.sparklineGroup,"g"),function(t){var n=sq(sq({},e.sparklineStyle),{x:r,y:i});t.maybeAppendByClassName(c_.sparkline,function(){return new cN({style:n})}).update(n)})},e.prototype.renderHandles=function(){var t,e=this,n=this.attributes,r=n.showHandle,i=n.type,o=this;null===(t=this.foregroundGroup)||void 0===t||t.selectAll(c_.handle.class).data((r?"range"===i?["start","end"]:["end"]:[]).map(function(t){return{type:t}}),function(t){return t.type}).join(function(t){return t.append(function(t){var n=t.type;return new cz({style:e.getHandleStyle(n)})}).each(function(t){var e=t.type;this.attr("class","".concat(c_.handle.name," ").concat(e,"-handle")),o["".concat(e,"Handle")]=this,this.addEventListener("pointerdown",o.onDragStart(e))})},function(t){return t.each(function(t){var e=t.type;this.update(o.getHandleStyle(e))})},function(t){return t.each(function(t){var e=t.type;o["".concat(e,"Handle")]=void 0}).remove()})},e.prototype.renderSelection=function(t){var e=this.attributes,n=e.x,r=e.y,i=e.type,o=e.selectionType;this.foregroundGroup=ls(t).maybeAppendByClassName(c_.foreground,"g");var a=ln(this.attributes,"selection"),s=function(t){return t.style("visibility",function(t){return t.show?"visible":"hidden"}).style("cursor",function(t){return"select"===o?"grab":"invert"===o?"crosshair":"default"}).styles(sq(sq({},a),{transform:"translate(".concat(n,", ").concat(r,")")}))},l=this;this.foregroundGroup.selectAll(c_.selection.class).data("value"===i?[]:this.calcSelectionArea().map(function(t,e){return{style:sq({},t),index:e,show:"select"===o?1===e:1!==e}}),function(t){return t.index}).join(function(t){return t.append("rect").attr("className",c_.selection.name).call(s).each(function(t,e){var n=this;1===e?(l.selectionShape=ls(this),this.on("pointerdown",function(t){n.attr("cursor","grabbing"),l.onDragStart("selection")(t)}),l.dispatchCustomEvent(this,"pointerenter","selectionMouseenter"),l.dispatchCustomEvent(this,"pointerleave","selectionMouseleave"),l.dispatchCustomEvent(this,"click","selectionClick"),this.addEventListener("pointerdown",function(){n.attr("cursor","grabbing")}),this.addEventListener("pointerup",function(){n.attr("cursor","pointer")}),this.addEventListener("pointerover",function(){n.attr("cursor","pointer")})):this.on("pointerdown",l.onDragStart("track"))})},function(t){return t.call(s)},function(t){return t.remove()}),this.updateSelectionArea(!1),this.renderHandles()},e.prototype.render=function(t,e){this.renderTrack(e),this.renderSparkline(e),this.renderBrushArea(e),this.renderSelection(e)},e.prototype.clampValues=function(t,e){void 0===e&&(e=4);var n,r=sX(this.range,2),i=r[0],o=r[1],a=sX(this.getValues().map(function(t){return uQ(t,e)}),2),s=a[0],l=a[1],u=sX(((Array.isArray(t)?t:[s,null!=t?t:l])||[s,l]).map(function(t){return uQ(t,e)}),2),c=u[0],h=u[1];if("value"===this.attributes.type)return[0,(0,Q.Z)(h,i,o)];c>h&&(c=(n=sX([h,c],2))[0],h=n[1]);var d=h-c;return d>o-i?[i,o]:c<i?s===i&&l===h?[i,h]:[i,d+i]:h>o?l===o&&s===c?[c,o]:[o-d,o]:[c,h]},e.prototype.calcSelectionArea=function(t){var e=sX(this.clampValues(t),2),n=e[0],r=e[1],i=this.availableSpace,o=i.x,a=i.y,s=i.width,l=i.height;return this.getOrientVal([[{y:a,height:l,x:o,width:n*s},{y:a,height:l,x:n*s+o,width:(r-n)*s},{y:a,height:l,x:r*s,width:(1-r)*s}],[{x:o,width:s,y:a,height:n*l},{x:o,width:s,y:n*l+a,height:(r-n)*l},{x:o,width:s,y:r*l,height:(1-r)*l}]])},e.prototype.calcHandlePosition=function(t){var e=this.attributes.handleIconOffset,n=this.availableSpace,r=n.x,i=n.y,o=n.width,a=n.height,s=sX(this.clampValues(),2),l=s[0],u=s[1],c=("start"===t?l:u)*this.getOrientVal([o,a])+("start"===t?-e:e);return{x:r+this.getOrientVal([c,o/2]),y:i+this.getOrientVal([a/2,c])}},e.prototype.inferTextStyle=function(t){return"horizontal"===this.attributes.orientation?{}:"start"===t?{transformOrigin:"left center",transform:"rotate(90)",textAlign:"start"}:"end"===t?{transformOrigin:"right center",transform:"rotate(90)",textAlign:"end"}:{}},e.prototype.calcHandleText=function(t){var e,n=this.attributes,r=n.type,i=n.orientation,o=n.formatter,a=n.autoFitLabel,s=ln(this.attributes,"handle"),l=ln(s,"label"),u=s.spacing,c=this.getHandleSize(),h=this.clampValues(),d=o("start"===t?h[0]:h[1]),p=new lo({style:sq(sq(sq({},l),this.inferTextStyle(t)),{text:d})}),f=p.getBBox(),g=f.width,m=f.height;if(p.destroy(),!a){if("value"===r)return{text:d,x:0,y:-m-u};var v=u+c+("horizontal"===i?g/2:0);return(e={text:d})["horizontal"===i?"x":"y"]="start"===t?-v:v,e}var y=0,b=0,x=this.availableSpace,E=x.width,w=x.height,S=this.calcSelectionArea()[1],M=S.x,k=S.y,O=S.width,C=S.height,A=u+c;if("horizontal"===i){var T=A+g/2;y="start"===t?M-A-g>0?-T:T:E-M-O-A>g?T:-T}else{var P=m+A;b="start"===t?k-c>m?-P:A:w-(k+C)-c>m?P:-A}return{x:y,y:b,text:d}},e.prototype.getHandleLabelStyle=function(t){var e=ln(this.attributes,"handleLabel");return sq(sq(sq({},e),this.calcHandleText(t)),this.inferTextStyle(t))},e.prototype.getHandleIconStyle=function(){var t=this.attributes.handleIconShape,e=ln(this.attributes,"handleIcon"),n=this.getOrientVal(["ew-resize","ns-resize"]),r=this.getHandleSize();return sq({cursor:n,shape:t,size:r},e)},e.prototype.getHandleStyle=function(t){var e=this.attributes,n=e.x,r=e.y,i=e.showLabel,o=e.showLabelOnInteraction,a=e.orientation,s=this.calcHandlePosition(t),l=s.x,u=s.y,c=this.calcHandleText(t),h=i;return!i&&o&&(h=!!this.target),sq(sq(sq({},lr(this.getHandleIconStyle(),"icon")),lr(sq(sq({},this.getHandleLabelStyle(t)),c),"label")),{transform:"translate(".concat(l+n,", ").concat(u+r,")"),orientation:a,showLabel:h,type:t,zIndex:3})},e.prototype.getHandleSize=function(){var t=this.attributes,e=t.handleIconSize,n=t.width,r=t.height;return e||Math.floor((this.getOrientVal([+r,+n])+4)/2.4)},e.prototype.getOrientVal=function(t){var e=sX(t,2),n=e[0],r=e[1];return"horizontal"===this.attributes.orientation?n:r},e.prototype.setValuesOffset=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=!1);var r=this.attributes.type,i=sX(this.getValues(),2),o=[i[0]+("range"===r?t:0),i[1]+e].sort();n?this.setValues(o):this.innerSetValues(o,!0)},e.prototype.getRatio=function(t){var e=this.availableSpace,n=e.width,r=e.height;return t/this.getOrientVal([n,r])},e.prototype.dispatchCustomEvent=function(t,e,n){var r=this;t.on(e,function(t){t.stopPropagation(),r.dispatchEvent(new F.Aw(n,{detail:t}))})},e.prototype.bindEvents=function(){this.addEventListener("wheel",this.onScroll);var t=this.brushArea;this.dispatchCustomEvent(t,"click","trackClick"),this.dispatchCustomEvent(t,"pointerenter","trackMouseenter"),this.dispatchCustomEvent(t,"pointerleave","trackMouseleave"),t.on("pointerdown",this.onDragStart("track"))},e.prototype.onScroll=function(t){if(this.attributes.scrollable){var e=t.deltaX,n=t.deltaY,r=this.getRatio(n||e);this.setValuesOffset(r,r,!0)}},e.tag="slider",e}(s9),cV={backgroundFill:"#262626",backgroundLineCap:"round",backgroundLineWidth:1,backgroundStroke:"#333",backgroundZIndex:-1,formatter:function(t){return t.toString()},labelFill:"#fff",labelFontSize:12,labelTextBaseline:"middle",padding:[2,4],position:"right",radius:0,zIndex:999},cH=lu({background:"background",labelGroup:"label-group",label:"label"},"indicator"),cG=function(t){function e(e){var n=t.call(this,e,cV)||this;return n.point=[0,0],n.group=n.appendChild(new F.ZA({})),n.isMutationObserved=!0,n}return sU(e,t),e.prototype.renderBackground=function(){if(this.label){var t=this.attributes,e=t.position,n=sX(lc(t.padding),4),r=n[0],i=n[1],o=n[2],a=n[3],s=this.label.node().getLocalBounds(),l=s.min,u=s.max,c=new ll(l[0]-a,l[1]-r,u[0]+i-l[0]+a,u[1]+o-l[1]+r),h=this.getPath(e,c),d=ln(this.attributes,"background");this.background=ls(this.group).maybeAppendByClassName(cH.background,"path").styles(sq(sq({},d),{d:h})),this.group.appendChild(this.label.node())}},e.prototype.renderLabel=function(){var t=this.attributes,e=t.formatter,n=t.labelText,r=sX(li(ln(this.attributes,"label")),2),i=r[0],o=r[1],a=(i.text,sK(i,["text"]));this.label=ls(this.group).maybeAppendByClassName(cH.labelGroup,"g").styles(o),n&&this.label.maybeAppendByClassName(cH.label,function(){return lD(e(n))}).style("text",e(n).toString()).selectAll("text").styles(a)},e.prototype.adjustLayout=function(){var t=sX(this.point,2),e=t[0],n=t[1],r=this.attributes,i=r.x,o=r.y;this.group.attr("transform","translate(".concat(i-e,", ").concat(o-n,")"))},e.prototype.getPath=function(t,e){var n=this.attributes.radius,r=e.x,i=e.y,o=e.width,a=e.height,s=[["M",r+n,i],["L",r+o-n,i],["A",n,n,0,0,1,r+o,i+n],["L",r+o,i+a-n],["A",n,n,0,0,1,r+o-n,i+a],["L",r+n,i+a],["A",n,n,0,0,1,r,i+a-n],["L",r,i+n],["A",n,n,0,0,1,r+n,i],["Z"]],l={top:4,right:6,bottom:0,left:2}[t],u=this.createCorner([s[l].slice(-2),s[l+1].slice(-2)]);return s.splice.apply(s,sJ([l+1,1],sX(u),!1)),s[0][0]="M",s},e.prototype.createCorner=function(t,e){void 0===e&&(e=10);var n=lR.apply(void 0,sJ([],sX(t),!1)),r=sX(t,2),i=sX(r[0],2),o=i[0],a=i[1],s=sX(r[1],2),l=s[0],u=s[1],c=sX(n?[l-o,[o,l]]:[u-a,[a,u]],2),h=c[0],d=sX(c[1],2),p=d[0],f=d[1],g=h/2,m=h/Math.abs(h)*e,v=m/2,y=m*Math.sqrt(3)/2*.8,b=sX([p,p+g-v,p+g,p+g+v,f],5),x=b[0],E=b[1],w=b[2],S=b[3],M=b[4];return n?(this.point=[w,a-y],[["L",x,a],["L",E,a],["L",w,a-y],["L",S,a],["L",M,a]]):(this.point=[o+y,w],[["L",o,x],["L",o,E],["L",o+y,w],["L",o,S],["L",o,M]])},e.prototype.applyVisibility=function(){"hidden"===this.attributes.visibility?s1(this):s0(this)},e.prototype.bindEvents=function(){this.label.on(F.Dk.BOUNDS_CHANGED,this.renderBackground)},e.prototype.render=function(){this.renderLabel(),this.renderBackground(),this.adjustLayout(),this.applyVisibility()},e}(s9),c$=function(t){function e(n){var r=t.call(this,s6({},e.defaultOptions,n))||this;return r.hoverColor="#f5f5f5",r.selectedColor="#e6f7ff",r.background=r.appendChild(new F.UL({})),r.label=r.background.appendChild(new F.ZA({})),r}return sU(e,t),Object.defineProperty(e.prototype,"padding",{get:function(){return lc(this.style.padding)},enumerable:!1,configurable:!0}),e.prototype.renderLabel=function(){var t=this.style,e=t.label,n=t.value,r=ln(this.attributes,"label");ls(this.label).maybeAppend(".label",function(){return lD(e)}).attr("className","label").styles(r),this.label.attr("__data__",n)},e.prototype.renderBackground=function(){var t=this.label.getBBox(),e=sX(this.padding,4),n=e[0],r=e[1],i=e[2],o=e[3],a=t.width,s=t.height,l=s+n+i,u=ln(this.attributes,"background"),c=this.style,h=c.width,d=c.height,p=c.selected;this.background.attr(sq(sq({},u),{width:Math.max(a+o+r,void 0===h?0:h),height:Math.max(l,void 0===d?0:d),fill:p?this.selectedColor:"#fff"})),this.label.attr({transform:"translate(".concat(o,", ").concat((l-s)/2,")")})},e.prototype.render=function(){this.renderLabel(),this.renderBackground()},e.prototype.bindEvents=function(){var t=this;this.addEventListener("pointerenter",function(){t.style.selected||t.background.attr("fill",t.hoverColor)}),this.addEventListener("pointerleave",function(){t.style.selected||t.background.attr("fill",t.style.backgroundFill)});var e=this;this.addEventListener("click",function(){var n=t.style,r=n.label,i=n.value,o=n.onClick;null==o||o(i,{label:r,value:i},e)})},e.defaultOptions={style:{value:"",label:"",cursor:"pointer"}},e}(s9),cU=function(t){function e(n){var r,i,o=t.call(this,s6({},e.defaultOptions,n))||this;o.currentValue=null===(r=e.defaultOptions.style)||void 0===r?void 0:r.defaultValue,o.isPointerInSelect=!1,o.select=o.appendChild(new F.UL({className:"select",style:{cursor:"pointer",width:0,height:0}})),o.dropdown=o.appendChild(new F.UL({className:"dropdown"}));var a=o.style.defaultValue;return a&&(null===(i=o.style.options)||void 0===i?void 0:i.some(function(t){return t.value===a}))&&(o.currentValue=a),o}return sU(e,t),e.prototype.setValue=function(t){this.currentValue=t,this.render()},e.prototype.getValue=function(){return this.currentValue},Object.defineProperty(e.prototype,"dropdownPadding",{get:function(){return lc(this.style.dropdownPadding)},enumerable:!1,configurable:!0}),e.prototype.renderSelect=function(){var t,e=this,n=this.style,r=n.x,i=n.y,o=n.width,a=n.height,s=n.bordered,l=n.showDropdownIcon,u=ln(this.attributes,"select"),c=ln(this.attributes,"placeholder");this.select.attr(sq(sq({x:r,y:i,width:o,height:a},u),{fill:"#fff",strokeWidth:s?1:0}));var h=this.dropdownPadding;l&&ls(this.select).maybeAppend(".dropdown-icon","path").style("d","M-5,-3.5 L0,3.5 L5,-3.5").style("transform","translate(".concat(r+o-10-h[1]-h[3],", ").concat(i+a/2,")")).style("lineWidth",1).style("stroke",this.select.style.stroke);var d=null===(t=this.style.options)||void 0===t?void 0:t.find(function(t){return t.value===e.currentValue}),p=sq({x:r+h[3]},c);ls(this.select).selectAll(".placeholder").data(d?[]:[1]).join(function(t){return t.append("text").attr("className","placeholder").styles(p).style("y",function(){return i+(a-this.getBBox().height)/2})},function(t){return t.styles(p)},function(t){return t.remove()});var f=ln(this.attributes,"optionLabel"),g=sq({x:r+h[3]},f);ls(this.select).selectAll(".value").data(d?[d]:[]).join(function(t){return t.append(function(t){return lD(t.label)}).attr("className","value").styles(g).style("y",function(){return i+(a-this.getBBox().height)/2})},function(t){return t.styles(g)},function(t){return t.remove()})},e.prototype.renderDropdown=function(){var t,e,n=this,r=this.style,i=r.x,o=r.y,a=r.width,s=r.height,l=r.options,u=r.onSelect,c=r.open,h=ln(this.attributes,"dropdown"),d=ln(this.attributes,"option"),p=this.dropdownPadding;ls(this.dropdown).maybeAppend(".dropdown-container","g").attr("className","dropdown-container").selectAll(".dropdown-item").data(l,function(t){return t.value}).join(function(t){return t.append(function(t){return new c$({className:"dropdown-item",style:sq(sq(sq({},t),d),{width:a-p[1]-p[3],selected:t.value===n.currentValue,onClick:function(t,e,r){n.setValue(t),null==u||u(t,e,r),n.dispatchEvent(new F.Aw("change",{detail:{value:t,option:e,item:r}})),s1(n.dropdown)}})})}).each(function(t,e){var n,r=(null===(n=this.parentNode)||void 0===n?void 0:n.children).reduce(function(t,n,r){return r<e&&(t+=n.getBBox().height),t},0);this.attr("transform","translate(".concat(p[3],", ").concat(p[0]+r,")"))})},function(t){return t.update(function(t){return{selected:t.value===n.currentValue}})},function(t){return t.remove()});var f=null===(e=null===(t=this.dropdown.getElementsByClassName("dropdown-container"))||void 0===t?void 0:t[0])||void 0===e?void 0:e.getBBox(),g=h.spacing;this.dropdown.attr(sq({transform:"translate(".concat(i,", ").concat(o+s+g,")"),width:f.width+p[1]+p[3],height:f.height+p[0]+p[2]},h)),c||s1(this.dropdown)},e.prototype.render=function(){this.renderSelect(),this.renderDropdown()},e.prototype.bindEvents=function(){var t=this;this.addEventListener("click",function(t){t.stopPropagation()}),this.select.addEventListener("click",function(){"visible"===t.dropdown.style.visibility?s1(t.dropdown):s0(t.dropdown)}),this.addEventListener("pointerenter",function(){t.isPointerInSelect=!0}),this.addEventListener("pointerleave",function(){t.isPointerInSelect=!1}),null==document||document.addEventListener("click",function(){t.isPointerInSelect||s1(t.dropdown)})},e.defaultOptions={style:{x:0,y:0,width:140,height:32,options:[],bordered:!0,defaultValue:"",selectRadius:8,selectStroke:"#d9d9d9",showDropdownIcon:!0,placeholderText:"请选择",placeholderFontSize:12,placeholderTextBaseline:"top",placeholderFill:"#c2c2c2",dropdownFill:"#fff",dropdownStroke:"#d9d9d9",dropdownRadius:8,dropdownShadowBlur:4,dropdownShadowColor:"rgba(0, 0, 0, 0.08)",dropdownPadding:8,dropdownSpacing:10,optionPadding:[8,12],optionFontSize:12,optionTextBaseline:"top",optionBackgroundFill:"#fff",optionBackgroundRadius:4,optionLabelFontSize:12,optionLabelTextBaseline:"top"}},e}(s9),cq=function(t){function e(n){var r=t.call(this,s6({},{style:{backgroundOpacity:e.backgroundOpacities.default}},e.defaultOptions,n))||this;return r.showBackground=!0,r.background=r.appendChild(new F.UL({})),r.icon=r.appendChild(new F.ZA({})),r}return sU(e,t),Object.defineProperty(e.prototype,"label",{get:function(){return"BaseIcon"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineWidth",{get:function(){return Math.log10(this.attributes.size)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return lc(this.attributes.size/5)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"iconSize",{get:function(){var t=this.attributes.size,e=sX(this.padding,4),n=e[0],r=e[1],i=e[2];return Math.max(t-Math.max(e[3]+r,n+i),2*this.lineWidth+1)},enumerable:!1,configurable:!0}),e.prototype.renderBackground=function(){var t=this.attributes,e=t.x,n=t.y,r=t.size,i=r/2,o=ln(this.attributes,"background");this.background.attr(sq({x:e-i,y:n-i,width:r,height:r},o))},e.prototype.showIndicator=function(){if(this.label){var t=this.attributes.size,e=this.background.getBBox(),n=e.x,r=e.y;this.indicator.update({x:n+t/2,y:r-5,labelText:this.label,visibility:"visible"})}},e.prototype.hideIndicator=function(){this.indicator.update({visibility:"hidden"})},e.prototype.connectedCallback=function(){t.prototype.connectedCallback.call(this);var e,n=this.attributes.size,r=this.background.getBBox(),i=r.x,o=r.y,a=null===(e=this.ownerDocument)||void 0===e?void 0:e.defaultView;a&&(this.indicator=a.appendChild(new cG({style:{x:i+n/2,y:o-n/2,visibility:"hidden",position:"top",radius:3,zIndex:100}})))},e.prototype.disconnectedCallback=function(){this.indicator.destroy()},e.prototype.render=function(){this.renderIcon(),this.showBackground&&this.renderBackground()},e.prototype.bindEvents=function(){var t=this,n=this.attributes.onClick;if(this.addEventListener("click",function(){null==n||n(t)}),this.showBackground){var r=function(){return t.background.attr({opacity:e.backgroundOpacities.default})};this.addEventListener("pointerenter",function(){t.background.attr({opacity:e.backgroundOpacities.hover}),t.showIndicator()}),this.addEventListener("pointerleave",function(){r(),t.hideIndicator()}),this.addEventListener("pointerdown",function(){t.background.attr({opacity:e.backgroundOpacities.active})}),this.addEventListener("pointerup",function(){r()})}},e.tag="IconBase",e.defaultOptions={style:{x:0,y:0,size:10,color:"#565758",backgroundRadius:4,backgroundFill:"#e2e2e2"}},e.backgroundOpacities={default:0,hover:.8,active:1},e}(s9),cK=function(t,e){return void 0===e&&(e="#565758"),new F.y$({style:{fill:e,d:"M ".concat(t,",").concat(t," L -").concat(t,",0 L ").concat(t,",-").concat(t," Z"),transformOrigin:"center"}})},cY=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return sU(e,t),e.prototype.arcPath=function(t,e,n){var r=sX([n,n],2),i=r[0],o=r[1],a=function(r){return[t+n*Math.cos(r),e+n*Math.sin(r)]},s=sX(a(-5/4*Math.PI),2),l=s[0],u=s[1],c=sX(a(1/4*Math.PI),2),h=c[0],d=c[1];return"M".concat(l,",").concat(u,",A").concat(i,",").concat(o,",0,1,1,").concat(h,",").concat(d)},Object.defineProperty(e.prototype,"label",{get:function(){return"重置"},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var t=this.attributes,e=t.x,n=t.y,r=t.color,i=this.iconSize,o=this.lineWidth;ls(this.icon).maybeAppend(".reset","path").styles({stroke:r,lineWidth:o,d:this.arcPath(e,n,i/2-o),markerStart:cK(o+.5,r)})},e}(cq),cX=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return sU(e,t),Object.defineProperty(e.prototype,"label",{get:function(){return"快退"},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var t=this.attributes,e=t.x,n=t.y,r=t.color,i=this.iconSize,o=i/2,a=i/2/1.7320508075688772;ls(this.icon).maybeAppend(".backward","polygon").styles({points:[[e,n],[e,n-a],[e-o,n],[e,n+a],[e,n],[e+o,n-a],[e+o,n+a],[e,n]],fill:r})},e}(cq),cJ=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return sU(e,t),Object.defineProperty(e.prototype,"label",{get:function(){return"快进"},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var t=this.attributes,e=t.x,n=t.y,r=t.color,i=this.iconSize,o=i/2,a=i/2/1.7320508075688772;ls(this.icon).maybeAppend(".forward","polygon").styles({points:[[e,n],[e,n-a],[e+o,n],[e,n+a],[e,n],[e-o,n-a],[e-o,n+a],[e,n]],fill:r})},e}(cq),cQ=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return sU(e,t),Object.defineProperty(e.prototype,"label",{get:function(){return"播放"},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var t=this.attributes,e=t.x,n=t.y,r=t.color,i=this.iconSize,o=i/3*1.3856406460551018;ls(this.icon).maybeAppend(".play","polygon").styles({points:[[e+o,n],[e-o/2,n-i/2*.8],[e-o/2,n+i/2*.8],[e+o,n]],fill:r})},e}(cq),c0=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return sU(e,t),Object.defineProperty(e.prototype,"label",{get:function(){return"暂停"},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var t=this.attributes,e=t.x,n=t.y,r=t.color,i=this.iconSize,o=i/3;ls(this.icon).maybeAppend(".pause","polygon").styles({points:[[e-o,n-i/2],[e-o,n+i/2],[e-o/2,n+i/2],[e-o/2,n-i/2],[e-o,n-i/2],[e+o/2,n-i/2],[e+o/2,n+i/2],[e+o,n+i/2],[e+o,n-i/2]],fill:r})},e}(cq),c1=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return sU(e,t),Object.defineProperty(e.prototype,"label",{get:function(){return"范围时间"},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var t=this.attributes,e=t.x,n=t.y,r=t.color,i=this.iconSize,o=this.lineWidth;ls(this.icon).maybeAppend(".left-line","line").styles({x1:e-i/2,y1:n-i/2,x2:e-i/2,y2:n+i/2,stroke:r,lineWidth:o}),ls(this.icon).maybeAppend(".right-line","line").styles({x1:e+i/2,y1:n-i/2,x2:e+i/2,y2:n+i/2,stroke:r,lineWidth:o}),ls(this.icon).maybeAppend(".left-arrow","line").styles({x1:e,y1:n,x2:e-i/2+2*o,y2:n,stroke:r,lineWidth:o,markerEnd:cK(2*o,r)}),ls(this.icon).maybeAppend(".right-arrow","line").styles({x1:e,y1:n,x2:e+i/2-2*o,y2:n,stroke:r,lineWidth:o,markerEnd:cK(2*o,r)})},e}(cq),c2=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return sU(e,t),Object.defineProperty(e.prototype,"label",{get:function(){return"单一时间"},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var t=this.attributes,e=t.x,n=t.y,r=t.color,i=this.iconSize,o=this.lineWidth;ls(this.icon).maybeAppend(".line","line").styles({x1:e,y1:n-i/2,x2:e,y2:n+i/2,stroke:r,lineWidth:o}),ls(this.icon).maybeAppend(".left-arrow","line").styles({x1:e-i/2-2*o,y1:n,x2:e-2*o,y2:n,stroke:r,lineWidth:o,markerEnd:cK(2*o,r)}),ls(this.icon).maybeAppend(".right-arrow","line").styles({x1:e+i/2+2*o,y1:n,x2:e+2*o,y2:n,stroke:r,lineWidth:o,markerEnd:cK(2*o,r)})},e}(cq),c3=function(t){return[[-t/2,-t/2],[-t/2,t/2],[t/2,t/2]]},c6=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return sU(e,t),Object.defineProperty(e.prototype,"label",{get:function(){return"折线图"},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var t=this.attributes,e=t.x,n=t.y,r=t.color,i=this.iconSize,o=this.lineWidth,a=(i-2*o-o)/4,s=(i-2*o-o)/2,l=sX([e-i/2+o,n+i/2-2*o],2),u=l[0],c=l[1];ls(this.icon).maybeAppend(".coordinate","polyline").styles({points:c3(i).map(function(t){var r=sX(t,2);return[r[0]+e,r[1]+n]}),stroke:r,lineWidth:o}),ls(this.icon).maybeAppend(".line","polyline").styles({points:[[u,c],[u+a,c-s],[u+2*a,c],[u+4*a,c-2*s]],stroke:r,lineWidth:o})},e}(cq),c5=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return sU(e,t),Object.defineProperty(e.prototype,"label",{get:function(){return"条形图"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return[1,4,2,4,3]},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var t=this.data,e=this.attributes,n=e.x,r=e.y,i=e.color,o=this.iconSize,a=this.lineWidth,s=(o-a)/t.length,l=(o-2*a)/4,u=sX([n-o/2+2*a,r+o/2-a],2),c=u[0],h=u[1];ls(this.icon).maybeAppend(".coordinate","polyline").styles({points:c3(o).map(function(t){var e=sX(t,2);return[e[0]+n,e[1]+r]}),stroke:i,lineWidth:a}),ls(this.icon).maybeAppend(".bars","g").selectAll(".column").data(this.data.map(function(t,e){return{value:t,index:e}})).join(function(t){return t.append("line").attr("className","column").style("x1",function(t){return c+s*t.index}).style("y1",h).style("x2",function(t){return c+s*t.index}).style("y2",function(t){return h-l*t.value}).styles({y1:h,stroke:i,lineWidth:a})})},e}(cq),c4=function(t){function e(e){var n=t.call(this,s6({},{style:{color:"#d8d9d9"}},e))||this;return n.showBackground=!1,n}return sU(e,t),e.prototype.renderIcon=function(){var t=this.attributes,e=t.x,n=t.y,r=t.color,i=this.iconSize,o=this.lineWidth;ls(this.icon).maybeAppend(".split","line").styles({x1:e,y1:n-i/2,x2:e,y2:n+i/2,stroke:r,lineWidth:o})},e}(cq),c8=function(t){function e(){var e=t.apply(this,sJ([],sX(arguments),!1))||this;return e.showBackground=!1,e}return sU(e,t),Object.defineProperty(e.prototype,"padding",{get:function(){return lc(0)},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var t=this.iconSize,e=this.attributes,n=e.x,r=e.y,i=e.speed,o=a$(this.attributes,["x","y","transform","transformOrigin","width","height","size","color","speed"]),a=(0,Q.Z)(t,20,1/0),s=sq(sq({},o),{x:n-a/2,y:r-10,width:a,height:20,defaultValue:void 0===i?1:i,bordered:!1,showDropdownIcon:!1,selectRadius:2,dropdownPadding:this.padding,dropdownRadius:2,dropdownSpacing:t/5,placeholderFontSize:t/2,optionPadding:0,optionLabelFontSize:t/2,optionBackgroundRadius:1,options:[{label:"1x",value:1},{label:"1.5x",value:1.5},{label:"2x",value:2}]});ls(this.icon).maybeAppend(".speed",function(){return new cU({style:s})}).attr("className","speed").each(function(){this.update(s)})},e.tag="SpeedSelect",e}(cq),c9=function(t){function e(e){var n=t.call(this,e)||this;return n.icon=n.appendChild(new F.ZA({})),n.currentType=n.attributes.type,n}return sU(e,t),e.prototype.getType=function(){return this.currentType},e.prototype.render=function(){var t=this,e=this.attributes,n=(e.onChange,sK(e,["onChange"]));ls(this.icon).selectAll(".icon").data([this.currentType]).join(function(e){return e.append(function(e){var n,r=null===(n=t.toggles.find(function(t){return sX(t,1)[0]===e}))||void 0===n?void 0:n[1];if(!r)throw Error("Invalid type: ".concat(e));return new r({})}).attr("className","icon").styles(n,!1).update({})},function(t){return t.styles({restStyles:n}).update({})},function(t){return t.remove()})},e.prototype.bindEvents=function(){var t=this,e=this.attributes.onChange;this.addEventListener("click",function(n){n.preventDefault(),n.stopPropagation();var r=(t.toggles.findIndex(function(e){return sX(e,1)[0]===t.currentType})+1)%t.toggles.length,i=t.toggles[r][0];null==e||e(t.currentType),t.currentType=i,t.render()})},e.tag="ToggleIcon",e}(s9),c7=function(t){function e(e){var n=t.call(this,s6({},{style:{type:"play"}},e))||this;return n.toggles=[["play",cQ],["pause",c0]],n}return sU(e,t),e}(c9),ht=function(t){function e(e){var n=t.call(this,s6({},{style:{type:"range"}},e))||this;return n.toggles=[["range",c1],["value",c2]],n}return sU(e,t),e}(c9),he=function(t){function e(e){var n=t.call(this,s6({},{style:{type:"column"}},e))||this;return n.toggles=[["line",c6],["column",c5]],n}return sU(e,t),e}(c9),hn={reset:cY,speed:c8,backward:cX,playPause:c7,forward:cJ,selectionType:ht,chartType:he,split:c4},hr=function(t){function e(n){var r=t.call(this,s6({},e.defaultOptions,n))||this;return r.background=r.appendChild(new F.UL({})),r.functions=r.appendChild(new F.ZA({})),r}return sU(e,t),Object.defineProperty(e.prototype,"padding",{get:function(){return lc(this.attributes.padding)},enumerable:!1,configurable:!0}),e.prototype.renderBackground=function(){var t=this.style,e=t.x,n=t.y,r=t.width,i=t.height,o=ln(this.attributes,"background");this.background.attr(sq({x:e,y:n,width:r,height:i},o))},e.prototype.renderFunctions=function(){var t,e=this,n=this.attributes,r=n.functions,i=n.iconSize,o=n.iconSpacing,a=n.x,s=n.y,l=n.width,u=n.height,c=n.align,h=sX(this.padding,4),d=h[1],p=h[3],f=r.reduce(function(t,e){return t.length&&e.length?t.concat.apply(t,sJ(["split"],sX(e),!1)):t.concat.apply(t,sJ([],sX(e),!1))},[]),g=f.length*(i+o)-o,m={left:p+i/2,center:(l-g)/2+i/2,right:l-g-p-d+i/2}[c]||0;null===(t=this.speedSelect)||void 0===t||t.destroy(),this.functions.removeChildren(),f.forEach(function(t,n){var r,l=hn[t],c={x:a+n*(i+o)+m,y:s+u/2,size:i};if(l===c8?(c.speed=e.attributes.speed,c.onSelect=function(n){return e.handleFunctionChange(t,{value:n})}):[c7,ht,he].includes(l)?(c.onChange=function(n){return e.handleFunctionChange(t,{value:n})},l===c7&&(c.type="play"===e.attributes.state?"pause":"play"),l===ht&&(c.type="range"===e.attributes.selectionType?"value":"range"),l===he&&(c.type="line"===e.attributes.chartType?"column":"line")):c.onClick=function(){return e.handleFunctionChange(t,{value:t})},l===c8){var h=null===(r=e.ownerDocument)||void 0===r?void 0:r.defaultView;h&&(e.speedSelect=new l({style:sq(sq({},c),{zIndex:100})}),h.appendChild(e.speedSelect))}else e.functions.appendChild(new l({style:c}))})},e.prototype.disconnectedCallback=function(){var e;t.prototype.disconnectedCallback.call(this),null===(e=this.speedSelect)||void 0===e||e.destroy()},e.prototype.render=function(){this.renderBackground(),this.renderFunctions()},e.prototype.handleFunctionChange=function(t,e){var n=this.attributes.onChange;null==n||n(t,e)},e.defaultOptions={style:{x:0,y:0,width:300,height:40,padding:0,align:"center",iconSize:25,iconSpacing:0,speed:1,state:"pause",chartType:"line",selectionType:"range",backgroundFill:"#fbfdff",backgroundStroke:"#ebedf0",functions:[["reset","speed"],["backward","playPause","forward"],["selectionType","chartType"]]}},e}(s9),hi=function(t){function e(n){var r=t.call(this,s6({},e.defaultOptions,n))||this;return r.bindEvents(),r}return sU(e,t),e.prototype.bindEvents=function(){var t=this;this.addEventListener("mouseenter",function(){t.attr("lineWidth",Math.ceil(+(t.style.r||0)/2))}),this.addEventListener("mouseleave",function(){t.attr("lineWidth",0)})},e.defaultOptions={style:{r:5,fill:"#3f7cf7",lineWidth:0,stroke:"#3f7cf7",strokeOpacity:.5,cursor:"pointer"}},e}(F.Cd),ho=function(t){function e(n){return t.call(this,s6({},e.defaultOptions,n))||this}return sU(e,t),e.prototype.renderBackground=function(){var t=this.attributes,e=t.x,n=t.y,r=t.width,i=t.height,o=ln(this.attributes,"background");ls(this).maybeAppend("background","rect").attr("className","background").styles(sq({x:e-r/2,y:n-i/2,width:r,height:i},o))},e.prototype.renderIcon=function(){var t=this.attributes,e=t.x,n=t.y,r=t.iconSize,i=ln(this.attributes,"icon"),o=r/2;ls(this).maybeAppend("icon-left-line","line").attr("className","icon-left-line").styles(sq({x1:e-1,y1:n-o,x2:e-1,y2:n+o},i)),ls(this).maybeAppend("icon-right-line","line").attr("className","icon-right-line").styles(sq({x1:e+1,y1:n-o,x2:e+1,y2:n+o},i))},e.prototype.renderBorder=function(){var t=this.attributes,e=t.x,n=t.y,r=t.width,i=t.height,o=t.type,a=ln(this.attributes,"border"),s="start"===o?+r/2:-r/2;ls(this).maybeAppend("border","line").attr("className","border").styles(sq({x1:s+e,y1:n-i/2,x2:s+e,y2:n+i/2},a))},e.prototype.render=function(){this.renderBackground(),this.renderIcon(),this.renderBorder()},e.defaultOptions={style:{x:0,y:0,width:10,height:50,iconSize:10,type:"start",backgroundFill:"#fff",backgroundFillOpacity:.5,iconStroke:"#9a9a9a",iconLineWidth:1,borderStroke:"#e8e8e8",borderLineWidth:1}},e}(s9);function ha(t){var e=String(Math.floor(t/3600)).padStart(2,"0"),n=String(Math.floor(t%3600/60)).padStart(2,"0"),r=String(Math.floor(t%60)).padStart(2,"0");return t<3600?"".concat(n,":").concat(r):"".concat(e,":").concat(n,":").concat(r)}var hs=function(t){function e(n){var r=t.call(this,s6({},e.defaultOptions,n))||this;r.axis=r.appendChild(new uX({style:{type:"linear",startPos:[0,0],endPos:[0,0],data:[],showArrow:!1,animate:!1}})),r.timeline=r.appendChild(new cW({style:{onChange:function(t){r.handleSliderChange(t)}}})),r.controller=r.appendChild(new hr({})),r.states={},r.handleSliderChange=function(t){var e,n=Array.isArray(e=r.states.values)?sJ([],sX(e),!1):e;r.setBySliderValues(t),r.dispatchOnChange(n)};var i=r.attributes,o=i.selectionType,a=i.chartType,s=i.speed,l=i.state,u=i.playMode,c=i.values;return r.states={chartType:a,playMode:u,selectionType:o,speed:s,state:l},r.setByTimebarValues(c),r}return sU(e,t),Object.defineProperty(e.prototype,"data",{get:function(){return this.attributes.data.sort(function(t,e){return t.time<e.time?-1:t.time>e.time?1:0})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"space",{get:function(){var t,e=this.attributes,n=e.x,r=e.y,i=e.width,o=e.height,a=e.type,s=e.controllerHeight,l=(0,Q.Z)(+o-s,0,+o),u=new ll(n,r+ +o-s,+i,s),c=0;t="chart"===a?new ll(n,r+l-(c=35),+i,c):new ll;var h="time"===a?10:l;return{axisBBox:t,controllerBBox:u,timelineBBox:new ll(n,r+("time"===a?l:l-h),+i,h-c)}},enumerable:!1,configurable:!0}),e.prototype.setBySliderValues=function(t){var e,n,r=this.data,i=sX(Array.isArray(t)?t:[0,t],2),o=i[0],a=i[1],s=r.length,l=r[Math.floor(o*s)],u=r[Math.ceil(a*s)-(Array.isArray(t)?0:1)];this.states.values=[null!==(e=null==l?void 0:l.time)&&void 0!==e?e:r[0].time,null!==(n=null==u?void 0:u.time)&&void 0!==n?n:1/0]},e.prototype.setByTimebarValues=function(t){var e,n,r,i=this.data,o=sX(Array.isArray(t)?t:[void 0,t],2),a=o[0],s=o[1],l=i.find(function(t){return t.time===a}),u=i.find(function(t){return t.time===s});this.states.values=[null!==(e=null==l?void 0:l.time)&&void 0!==e?e:null===(n=i[0])||void 0===n?void 0:n.time,null!==(r=null==u?void 0:u.time)&&void 0!==r?r:1/0]},e.prototype.setByIndex=function(t){var e,n,r,i,o=this.data,a=sX(t,2),s=a[0],l=a[1];this.states.values=[null!==(n=null===(e=o[s])||void 0===e?void 0:e.time)&&void 0!==n?n:o[0].time,null!==(i=null===(r=this.data[l])||void 0===r?void 0:r.time)&&void 0!==i?i:1/0]},Object.defineProperty(e.prototype,"sliderValues",{get:function(){var t,e=this.states,n=e.values,r=e.selectionType,i=sX(Array.isArray(n)?n:[void 0,n],2),o=i[0],a=i[1],s=this.data,l=s.length,u="value"===r;return[(t=s.findIndex(function(t){return t.time===o}),u?0:t>-1?t/l:0),function(){if(a===1/0)return 1;var t=s.findIndex(function(t){return t.time===a});return t>-1?t/l:u?.5:1}()]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"values",{get:function(){var t=this.states,e=t.values,n=t.selectionType,r=sX(Array.isArray(e)?e:[this.data[0].time,e],2),i=r[0],o=r[1];return"value"===n?o:[i,o]},enumerable:!1,configurable:!0}),e.prototype.getDatumByRatio=function(t){var e=this.data,n=Math.floor(t*(e.length-1));return e[n]},Object.defineProperty(e.prototype,"chartHandleIconShape",{get:function(){var t=this.states.selectionType,e=this.space.timelineBBox.height;return"range"===t?function(t){return new ho({style:{type:t,height:e,iconSize:e/6}})}:function(){return new F.x1({style:{x1:0,y1:-e/2,x2:0,y2:e/2,lineWidth:2,stroke:"#c8c8c8"}})}},enumerable:!1,configurable:!0}),e.prototype.getChartStyle=function(t){var e=this,n=t.x,r=t.y,i=t.width,o=t.height,a=this.states,s=a.selectionType,l=a.chartType,u=this.data,c=this.attributes,h=c.type,d=c.labelFormatter,p=ln(this.attributes,"chart"),f=(p.type,sK(p,["type"])),g="range"===s;if("time"===h)return sq({handleIconShape:function(){return new hi({})},selectionFill:"#2e7ff8",selectionFillOpacity:1,showLabelOnInteraction:!0,handleLabelDy:g?-15:0,autoFitLabel:g,handleSpacing:g?-15:0,trackFill:"#edeeef",trackLength:i,trackOpacity:.5,trackRadius:o/2,trackSize:o/2,type:s,values:this.sliderValues,formatter:function(t){if(d)return d(t);var n=e.getDatumByRatio(t).time;return"number"==typeof n?ha(n):l8(n,"YYYY-MM-DD HH:mm:ss")},transform:"translate(".concat(n,", ").concat(r,")"),zIndex:1},f);var m="range"===s?5:0,v=u.map(function(t){return t.value});return sq({handleIconOffset:m,handleIconShape:this.chartHandleIconShape,selectionFill:"#fff",selectionFillOpacity:.5,selectionType:"invert",sparklineSpacing:.1,sparklineColumnLineWidth:0,sparklineColor:"#d4e5fd",sparklineAreaOpacity:1,sparklineAreaLineWidth:0,sparklineData:v,sparklineType:l,sparklineScale:.8,trackLength:i,trackSize:o,type:s,values:this.sliderValues,transform:"translate(".concat(n,", ").concat(r,")"),zIndex:1},f)},e.prototype.renderChart=function(t){void 0===t&&(t=this.space.timelineBBox),this.timeline.update(this.getChartStyle(t))},e.prototype.updateSelection=function(){this.timeline.setValues(this.sliderValues,!0),this.handleSliderChange(this.sliderValues)},e.prototype.getAxisStyle=function(t){var e=this.data,n=this.attributes,r=n.interval,i=n.labelFormatter,o=ln(this.attributes,"axis"),a=t.x,s=t.y,l=t.width,u=sJ(sJ([],sX(e),!1),[{time:0}],!1).map(function(t,e,n){var r=t.time;return{label:"".concat(r),value:e/(n.length-1),time:r}});return sq({startPos:[a,s],endPos:[a+l,s],data:u,labelFilter:function(t,e){return e<u.length-1},labelFormatter:function(t){var e=t.time;return i?i(e):"number"==typeof e?ha(e):function(t,e){var n=new Date(t);switch(e){case"half-hour":case"hour":case"four-hour":if([0,6,12,18].includes(n.getHours())&&0===n.getMinutes())return l8(n,"HH:mm\nYYYY-MM-DD");return l8(n,"HH:mm");case"half-day":if(12>n.getHours())return"AM\n".concat(l8(n,"YYYY-MM-DD"));return"PM";case"day":if([1,10,20].includes(n.getDate()))return l8(n,"DD\nYYYY-MM");return l8(n,"DD");case"week":if(7>=n.getDate())return l8(n,"DD\nYYYY-MM");return l8(n,"DD");case"month":if([0,6].includes(n.getMonth()))return l8(n,"MM月\nYYYY");return l8(n,"MM月");case"season":if([0].includes(n.getMonth()))return l8(n,"MM月\nYYYY");return l8(n,"MM月");case"year":return l8(n,"YYYY");default:return l8(n,"YYYY-MM-DD HH:mm")}}(e,r)}},o)},e.prototype.renderAxis=function(t){void 0===t&&(t=this.space.axisBBox),"chart"===this.attributes.type&&this.axis.update(this.getAxisStyle(t))},e.prototype.renderController=function(t){void 0===t&&(t=this.space.controllerBBox);var e=this.attributes.type,n=this.states,r=n.state,i=n.speed,o=n.selectionType,a=n.chartType,s=ln(this.attributes,"controller"),l=this,u=sq(sq(sq({},t),{iconSize:20,speed:i,state:r,selectionType:o,chartType:a,onChange:function(t,e){var n=e.value;switch(t){case"reset":l.internalReset();break;case"speed":l.handleSpeedChange(n);break;case"backward":l.internalBackward();break;case"playPause":"play"===n?l.internalPlay():l.internalPause();break;case"forward":l.internalForward();break;case"selectionType":l.handleSelectionTypeChange(n);break;case"chartType":l.handleChartTypeChange(n)}}}),s);"time"===e&&(u.functions=[["reset","speed"],["backward","playPause","forward"],["selectionType"]]),this.controller.update(u)},e.prototype.dispatchOnChange=function(t){var e,n=this.data,r=this.attributes.onChange,i=this.states,o=i.values,a=i.selectionType,s=sX(o,2),l=s[0],u=s[1],c=u===1/0?n.at(-1).time:u;(!t||(e="range"===a?[l,c]:c,Array.isArray(t)?!Array.isArray(e)||t[0]!==e[0]||t[1]!==e[1]&&t[1]!==1/0&&e[1]!==1/0:Array.isArray(e)||t!==e))&&null!=r&&r("range"===a?[l,c]:c)},e.prototype.internalReset=function(t){var e,n,r=this.states.selectionType;this.internalPause(),this.setBySliderValues("range"===r?[0,1]:[0,0]),this.renderController(),this.updateSelection(),t||(null===(n=null===(e=this.attributes)||void 0===e?void 0:e.onReset)||void 0===n||n.call(e),this.dispatchOnChange())},e.prototype.reset=function(){this.internalReset()},e.prototype.moveSelection=function(t,e){var n,r,i,o,a,s=this.data,l=s.length,u=this.states,c=u.values,h=u.selectionType,d=u.playMode,p=sX(c,2),f=p[0],g=p[1],m=s.findIndex(function(t){return t.time===f}),v=s.findIndex(function(t){return t.time===g});-1===v&&(v=l);var y="backward"===t?-1:1;"range"===h?"acc"===d?(a=[m,v+y],-1===y&&m===v&&(a=[m,l])):a=[m+y,v+y]:a=[m,v+y];var b=(r=(n=sX(a.sort(function(t,e){return t-e}),2))[0],i=n[1],o=function(t){return(0,Q.Z)(t,0,l)},i>l?"value"===h?[0,0]:"acc"===d?[o(r),o(r)]:[0,o(i-r)]:r<0?"acc"===d?[0,o(i)]:[o(r+l-i),l]:[o(r),o(i)]);return this.setByIndex(b),this.updateSelection(),b},e.prototype.internalBackward=function(t){var e,n,r=this.moveSelection("backward",t);return t||(null===(n=null===(e=this.attributes)||void 0===e?void 0:e.onBackward)||void 0===n||n.call(e),this.dispatchOnChange()),r},e.prototype.backward=function(){this.internalBackward()},e.prototype.internalPlay=function(t){var e,n,r=this,i=this.data,o=this.attributes.loop,a=this.states.speed;this.playInterval=window.setInterval(function(){r.internalForward()[1]!==i.length||o||(r.internalPause(),r.renderController())},1e3/(void 0===a?1:a)),this.states.state="play",t||null===(n=null===(e=this.attributes)||void 0===e?void 0:e.onPlay)||void 0===n||n.call(e)},e.prototype.play=function(){this.internalPlay()},e.prototype.internalPause=function(t){var e,n;clearInterval(this.playInterval),this.states.state="pause",t||null===(n=null===(e=this.attributes)||void 0===e?void 0:e.onPause)||void 0===n||n.call(e)},e.prototype.pause=function(){this.internalPause()},e.prototype.internalForward=function(t){var e,n,r=this.moveSelection("forward",t);return t||(null===(n=null===(e=this.attributes)||void 0===e?void 0:e.onForward)||void 0===n||n.call(e),this.dispatchOnChange()),r},e.prototype.forward=function(){this.internalForward()},e.prototype.handleSpeedChange=function(t){var e,n;this.states.speed=t,"play"===this.states.state&&(this.internalPause(!0),this.internalPlay(!0)),null===(n=null===(e=this.attributes)||void 0===e?void 0:e.onSpeedChange)||void 0===n||n.call(e,t)},e.prototype.handleSelectionTypeChange=function(t){var e,n;this.states.selectionType=t,this.renderChart(),null===(n=null===(e=this.attributes)||void 0===e?void 0:e.onSelectionTypeChange)||void 0===n||n.call(e,t)},e.prototype.handleChartTypeChange=function(t){var e,n;this.states.chartType=t,this.renderChart(),null===(n=null===(e=this.attributes)||void 0===e?void 0:e.onChartTypeChange)||void 0===n||n.call(e,t)},e.prototype.render=function(){var t=this.space,e=t.axisBBox,n=t.controllerBBox,r=t.timelineBBox;this.renderController(n),this.renderAxis(e),this.renderChart(r),"play"===this.states.state&&this.internalPlay()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.internalPause(!0)},e.defaultOptions={style:{x:0,y:0,axisLabelFill:"#6e6e6e",axisLabelTextAlign:"left",axisLabelTextBaseline:"top",axisLabelTransform:"translate(5, -12)",axisLineLineWidth:1,axisLineStroke:"#cacdd1",axisTickLength:15,axisTickLineWidth:1,axisTickStroke:"#cacdd1",chartShowLabel:!1,chartType:"line",controllerAlign:"center",controllerHeight:40,data:[],interval:"day",loop:!1,playMode:"acc",selectionType:"range",type:"time"}},e}(s9),hl=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)0>e.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};let hu=["timestamp","time","date","datetime"];class hc extends aU{get padding(){return ev(this.options.padding)}constructor(t,e){super(t,Object.assign({},hc.defaultOptions,e)),this.backup(),this.upsertTimebar()}play(){var t;null===(t=this.timebar)||void 0===t||t.play()}pause(){var t;null===(t=this.timebar)||void 0===t||t.pause()}forward(){var t;null===(t=this.timebar)||void 0===t||t.forward()}backward(){var t;null===(t=this.timebar)||void 0===t||t.backward()}reset(){var t;null===(t=this.timebar)||void 0===t||t.reset()}update(t){super.update(t),this.backup(),this.upsertTimebar()}backup(){this.originalData=hh(this.context.graph.getData())}upsertTimebar(){let{canvas:t}=this.context,e=this.options,{onChange:n,timebarType:r,data:i,x:o,y:a,width:s,height:l,mode:u}=e,c=hl(e,["onChange","timebarType","data","x","y","width","height","mode"]),h=t.getSize(),[d]=this.padding;this.upsertCanvas().ready.then(()=>{var t;let e=Object.assign(Object.assign({x:h[0]/2-s/2,y:d,onChange:t=>{let e=((0,ec.Z)(t)?t:[t,t]).map(t=>t instanceof Date?t.getTime():t);"modify"===this.options.mode?this.filterElements(e):this.hiddenElements(e),null==n||n(e)}},c),{data:i.map(t=>(0,$.Z)(t)?{time:t,value:0}:t),width:s,height:l,type:r});this.timebar?this.timebar.update(e):(this.timebar=new hs({style:e}),null===(t=this.canvas)||void 0===t||t.appendChild(this.timebar))})}upsertCanvas(){if(this.canvas)return this.canvas;let{className:t,height:e,position:n}=this.options,r=this.context.canvas,[i]=r.getSize(),[o,,a]=this.padding,[s,l]=lY({width:i,height:e+o+a,graphCanvas:r,className:"timebar",placement:n});return this.container=s,t&&s.classList.add(t),this.canvas=l,this.canvas}filterElements(t){var e,n,r,i;return e=this,n=void 0,r=void 0,i=function*(){var e;if(!this.originalData)return;let{elementTypes:n,getTime:r}=this.options,{graph:i,element:o}=this.context,a=hh(this.originalData);n.forEach(e=>{let n=`${e}s`;a[n]=(this.originalData[n]||[]).filter(e=>!!hd(r(e),t))});let s=[...a.nodes,...a.combos].map(t=>e2(t));a.edges=a.edges.filter(t=>{let e=t.source,n=t.target;return s.includes(e)&&s.includes(n)}),i.setData(a),yield null===(e=o.draw({animation:!1,silence:!0}))||void 0===e?void 0:e.finished},new(r||(r=Promise))(function(t,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(e){var n;e.done?t(e.value):((n=e.value)instanceof r?n:new r(function(t){t(n)})).then(a,s)}l((i=i.apply(e,n||[])).next())})}hiddenElements(t){let{graph:e}=this.context,{elementTypes:n,getTime:r}=this.options,i=[],o=[];n.forEach(e=>{var n;let a=`${e}s`;((null===(n=this.originalData)||void 0===n?void 0:n[a])||[]).forEach(e=>{let n=e2(e);hd(r(e),t)?o.push(n):i.push(n)})}),e.hideElement(i,!1),e.showElement(o,!1)}destroy(){var t,e,n;let{graph:r}=this.context;this.originalData&&r.setData(Object.assign({},this.originalData)),null===(t=this.timebar)||void 0===t||t.destroy(),null===(e=this.canvas)||void 0===e||e.destroy(),null===(n=this.container)||void 0===n||n.remove(),this.originalData=void 0,this.container=void 0,this.timebar=void 0,this.canvas=void 0,super.destroy()}}hc.defaultOptions={position:"bottom",enable:!0,timebarType:"time",className:"g6-timebar",width:450,height:60,zIndex:3,elementTypes:["node"],padding:10,mode:"modify",getTime:t=>hp(t,hu,void 0),loop:!1};let hh=t=>{let{nodes:e=[],edges:n=[],combos:r=[]}=t;return{nodes:[...e],edges:[...n],combos:[...r]}},hd=(t,e)=>{if((0,$.Z)(e))return t===e;let[n,r]=e;return t>=n&&t<=r},hp=(t,e,n)=>{var r;for(let n=0;n<e.length;n++){let i=e[n],o=null===(r=t.data)||void 0===r?void 0:r[i];if(o)return o}return n},hf=`
  .g6-toolbar {
    position: absolute;
    z-index: 100;
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;
    border-radius: 4px;
    box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.1);
    opacity: 0.65;
  }
  .g6-toolbar .g6-toolbar-item {
    display: inline-block;
    width: 16px;
    height: 16px;
    padding: 4px;
    cursor: pointer;
    box-sizing: content-box;
  }

  .g6-toolbar .g6-toolbar-item:hover {
    background-color: #f0f0f0;
  }

  .g6-toolbar .g6-toolbar-item svg {
    display: inline-block;
    width: 100%;
    height: 100%;
    pointer-events: none;
  }
`,hg=`
  <svg>
    <symbol id="zoom-in" viewBox="64 64 896 896">
      <path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"></path>
    </symbol>
    <symbol id="zoom-out" viewBox="64 64 896 896">
      <path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"></path>
    </symbol>
    <symbol id="edit" viewBox="64 64 896 896">
      <path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"></path>
    </symbol>
    <symbol id="delete" viewBox="64 64 896 896">
      <path d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"></path>
    </symbol>
    <symbol id="redo" viewBox="64 64 896 896">
      <path d="M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"></path>
    </symbol>
    <symbol id="undo" viewBox="64 64 896 896">
      <path d="M511.4 124C290.5 124.3 112 303 112 523.9c0 128 60.2 242 153.8 315.2l-37.5 48c-4.1 5.3-.3 13 6.3 12.9l167-.8c5.2 0 9-4.9 7.7-9.9L369.8 727a8 8 0 00-14.1-3L315 776.1c-10.2-8-20-16.7-29.3-26a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-7.5 7.5-15.3 14.5-23.4 21.2a7.93 7.93 0 00-1.2 11.1l39.4 50.5c2.8 3.5 7.9 4.1 11.4 1.3C854.5 760.8 912 649.1 912 523.9c0-221.1-179.4-400.2-400.6-399.9z"></path>
    </symbol>
    <symbol id="export" viewBox="64 64 896 896">
      <path d="M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"></path>
    </symbol>
    <symbol id="auto-fit" viewBox="64 64 896 896">
      <path d="M952 474H829.8C812.5 327.6 696.4 211.5 550 194.2V72c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v122.2C327.6 211.5 211.5 327.6 194.2 474H72c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h122.2C211.5 696.4 327.6 812.5 474 829.8V952c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V829.8C696.4 812.5 812.5 696.4 829.8 550H952c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zM512 756c-134.8 0-244-109.2-244-244s109.2-244 244-244 244 109.2 244 244-109.2 244-244 244z"></path>
      <path d="M512 392c-32.1 0-62.1 12.4-84.8 35.2-22.7 22.7-35.2 52.7-35.2 84.8s12.5 62.1 35.2 84.8C449.9 619.4 480 632 512 632s62.1-12.5 84.8-35.2C619.4 574.1 632 544 632 512s-12.5-62.1-35.2-84.8A118.57 118.57 0 00512 392z"></path>
    </symbol>
    <symbol id="reset" viewBox="64 64 896 896">
      <path d="M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"></path>
    </symbol>
    <symbol id="exit-fullscreen" viewBox="0 0 1024 1024">
      <path d="M418.13333333 361.43786666c0 0.2048-0.13653333 0.4096-0.13653334 0.68266667C417.99679999 362.32533333 418.13333333 362.53013333 418.13333333 362.73493333 418.13333333 371.54133333 414.44693333 379.392 408.78079999 385.39946666 408.43946666 385.7408 408.30293333 386.21866666 408.02986666 386.49173333c-1.09226667 1.09226667-2.59413333 1.77493333-3.82293333 2.73066667C398.40426666 393.65973333 391.64586666 396.8 383.93173333 396.8 383.72693333 396.8 383.59039999 396.73173333 383.38559999 396.73173333S382.97599999 396.8 382.77119999 396.8L112.29866666 396.8C92.50133333 396.8 76.79999999 381.50826666 76.79999999 362.66666666 76.66346666 343.89333333 92.63786666 328.53333333 112.16213333 328.53333333l189.44 0L87.44959999 114.51733333C73.59146666 100.59093333 73.25013333 78.5408 86.63039999 65.29706666c13.17546667-13.44853333 35.36213333-12.97066667 49.152 0.88746667l214.08426667 214.08426667L349.86666666 90.89706666C349.79839999 71.23626666 365.22666666 55.46666666 383.99999999 55.46666666 402.77333333 55.33013333 418.13333333 71.30453333 418.13333333 90.8288L418.13333333 361.43786666zM928.90453333 328.53333333l-189.44 0 214.15253333-214.08426667c13.85813333-13.9264 14.19946667-35.90826667 0.88746667-49.22026666-13.17546667-13.44853333-35.36213333-12.97066667-49.152 0.88746666l-214.08426667 214.08426667L691.26826666 90.89706666C691.26826666 71.23626666 675.83999999 55.46666666 657.06666666 55.46666666 638.29333333 55.33013333 622.93333333 71.30453333 622.93333333 90.8288l0 270.60906666c0 0.2048 0.13653333 0.4096 0.13653333 0.68266667C623.06986666 362.32533333 622.93333333 362.53013333 622.93333333 362.73493333 622.93333333 371.54133333 626.61973333 379.392 632.28586666 385.39946666c0.34133333 0.34133333 0.47786667 0.8192 0.8192 1.09226667 1.09226667 1.09226667 2.59413333 1.77493333 3.8912 2.73066667C642.66239999 393.65973333 649.42079999 396.8 657.13493333 396.8c0.2048 0 0.34133333-0.06826667 0.54613333-0.06826667S658.09066666 396.8 658.29546666 396.8l270.5408 0C948.56533333 396.8 964.26666666 381.50826666 964.26666666 362.66666666 964.40319999 343.89333333 948.42879999 328.53333333 928.90453333 328.53333333zM418.13333333 635.73333333c0-8.8064-3.6864-16.5888-9.35253334-22.66453333C408.43946666 612.72746666 408.30293333 612.2496 408.02986666 611.90826666 406.86933333 610.88426666 405.43573333 610.2016 404.20693333 609.24586666 398.47253333 604.80853333 391.64586666 601.6 383.93173333 601.6 383.72693333 601.6 383.59039999 601.73653333 383.38559999 601.73653333S382.97599999 601.6 382.77119999 601.6L112.29866666 601.6C92.50133333 601.6 76.79999999 616.96 76.79999999 635.73333333 76.66346666 654.50666666 92.63786666 669.86666666 112.16213333 669.86666666l189.44 0-214.15253334 214.15253334c-13.85813333 13.85813333-14.19946667 35.84-0.88746666 49.22026666 13.17546667 13.44853333 35.36213333 12.9024 49.152-0.95573333l214.08426666-214.08426667 0 189.37173334c0 19.59253333 15.42826667 35.49866667 34.2016 35.36213333C402.77333333 943.2064 418.13333333 927.232 418.13333333 907.5712L418.13333333 637.09866666c0-0.27306667-0.13653333-0.47786667-0.13653334-0.68266666C417.99679999 636.14293333 418.13333333 635.93813333 418.13333333 635.73333333zM739.46453333 669.86666666l189.44 0c19.456 0 35.49866667-15.36 35.36213333-34.13333333C964.26666666 616.96 948.56533333 601.6 928.76799999 601.6L658.29546666 601.6C658.09066666 601.6 657.88586666 601.73653333 657.68106666 601.73653333S657.33973333 601.6 657.13493333 601.6C649.42079999 601.6 642.59413333 604.80853333 636.85973333 609.24586666 635.63093333 610.2016 634.19733333 610.88426666 633.03679999 611.90826666 632.76373333 612.2496 632.62719999 612.72746666 632.28586666 613.0688 626.61973333 619.14453333 622.93333333 626.92693333 622.93333333 635.73333333c0 0.2048 0.13653333 0.4096 0.13653333 0.68266667C623.06986666 636.6208 622.93333333 636.8256 622.93333333 637.09866666l0 270.5408C622.93333333 927.232 638.29333333 943.2064 657.06666666 942.93333333c18.77333333 0.13653333 34.2016-15.70133333 34.2016-35.36213333l0-189.37173334 214.08426667 214.08426667c13.78986667 13.85813333 35.90826667 14.40426667 49.152 0.95573333 13.312-13.312 12.97066667-35.36213333-0.88746667-49.22026666L739.46453333 669.86666666z"  ></path></symbol>
    <symbol id="request-fullscreen" viewBox="0 0 1024 1024">
      <path d="M69.818182 87.598545v273.128728a34.909091 34.909091 0 0 0 69.818182 0V163.653818l221.928727 222.021818a33.512727 33.512727 0 0 0 47.383273-47.383272L186.926545 116.363636h197.073455a34.909091 34.909091 0 0 0 0-69.818181H110.871273C85.364364 46.545455 69.818182 59.671273 69.818182 87.598545zM938.542545 46.545455H665.413818a34.909091 34.909091 0 0 0 0 69.818181h197.073455L640.465455 338.292364a33.512727 33.512727 0 0 0 47.383272 47.383272l221.928728-222.021818v197.073455a34.909091 34.909091 0 0 0 69.818181 0V87.598545c0-27.927273-15.453091-41.053091-40.96-41.05309z m-827.671272 907.636363h273.128727a34.909091 34.909091 0 0 0 0-69.818182H186.926545l222.021819-221.928727a33.512727 33.512727 0 0 0-47.383273-47.383273L139.636364 837.073455V640a34.909091 34.909091 0 0 0-69.818182 0v273.128727c0 27.927273 15.546182 41.053091 41.053091 41.053091z m868.724363-41.053091V640a34.909091 34.909091 0 0 0-69.818181 0v197.073455L687.941818 615.051636a33.512727 33.512727 0 0 0-47.383273 47.383273L862.487273 884.363636H665.413818a34.909091 34.909091 0 0 0 0 69.818182h273.128727c25.6 0 41.053091-13.125818 41.053091-41.053091z"  ></path></symbol>
  </svg>
`;var hm=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(a,s)}l((r=r.apply(t,e||[])).next())})};class hv extends aU{constructor(t,e){super(t,Object.assign({},hv.defaultOptions,e)),this.$element=aq("toolbar",!1),this.onToolbarItemClick=t=>{let{onClick:e}=this.options;if(t.target instanceof Element&&t.target.className.includes("g6-toolbar-item")){let n=t.target.getAttribute("value");null==e||e(n,t.target)}};let n=this.context.canvas.getContainer();this.$element.style.display="flex",n.appendChild(this.$element),aK("g6-toolbar-css","style",{},hf,document.head),aK("g6-toolbar-svgicon","div",{display:"none"},hg),this.$element.addEventListener("click",this.onToolbarItemClick),this.update(e)}update(t){let e=Object.create(null,{update:{get:()=>super.update}});return hm(this,void 0,void 0,function*(){e.update.call(this,t);let{className:n,position:r,style:i}=this.options;this.$element.className=`g6-toolbar ${n||""}`,Object.assign(this.$element.style,i,function(t){let e={top:"unset",right:"unset",bottom:"unset",left:"unset"};return t.split("-").forEach(t=>{e[t]="8px"}),e.flexDirection=t.startsWith("top")||t.startsWith("bottom")?"row":"column",e}(r)),this.$element.innerHTML=yield this.getDOMContent()})}destroy(){this.$element.removeEventListener("click",this.onToolbarItemClick),this.$element.remove(),super.destroy()}getDOMContent(){return hm(this,void 0,void 0,function*(){return(yield this.options.getItems()).map(t=>`
          <div class="g6-toolbar-item" value="${t.value}">
            <svg aria-hidden="true" focusable="false">
              <use xlink:href="#${t.id}"></use>
            </svg>
          </div>`).join("")})}}function hy(t){var e=document.createElement("div");e.innerHTML=t;var n=e.childNodes[0];return n&&e.contains(n)&&e.removeChild(n),n}hv.defaultOptions={position:"top-left"};var hb=function(t,e){if(null==e){t.innerHTML="";return}t.replaceChildren?Array.isArray(e)?t.replaceChildren.apply(t,sJ([],sX(e),!1)):t.replaceChildren(e):(t.innerHTML="",Array.isArray(e)?e.forEach(function(e){return t.appendChild(e)}):t.appendChild(e))};function hx(t){return void 0===t&&(t=""),{CONTAINER:"".concat(t,"tooltip"),TITLE:"".concat(t,"tooltip-title"),LIST:"".concat(t,"tooltip-list"),LIST_ITEM:"".concat(t,"tooltip-list-item"),NAME:"".concat(t,"tooltip-list-item-name"),MARKER:"".concat(t,"tooltip-list-item-marker"),NAME_LABEL:"".concat(t,"tooltip-list-item-name-label"),VALUE:"".concat(t,"tooltip-list-item-value"),CROSSHAIR_X:"".concat(t,"tooltip-crosshair-x"),CROSSHAIR_Y:"".concat(t,"tooltip-crosshair-y")}}var hE={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"},hw=function(t){function e(e){var n,r,i,o,a,s=this,l=null===(a=null===(o=e.style)||void 0===o?void 0:o.template)||void 0===a?void 0:a.prefixCls,u=hx(l);return(s=t.call(this,e,{data:[],x:0,y:0,visibility:"visible",title:"",position:"bottom-right",offset:[5,5],enterable:!1,container:{x:0,y:0},bounding:null,template:{prefixCls:"",container:'<div class="'.concat(u.CONTAINER,'"></div>'),title:'<div class="'.concat(u.TITLE,'"></div>'),item:'<li class="'.concat(u.LIST_ITEM,'" data-index={index}>\n        <span class="').concat(u.NAME,'">\n          <span class="').concat(u.MARKER,'" style="background:{color}"></span>\n          <span class="').concat(u.NAME_LABEL,'" title="{name}">{name}</span>\n        </span>\n        <span class="').concat(u.VALUE,'" title="{value}">{value}</span>\n      </li>')},style:(void 0===(n=l)&&(n=""),i=hx(n),(r={})[".".concat(i.CONTAINER)]={position:"absolute",visibility:"visible","z-index":8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)","background-color":"rgba(255, 255, 255, 0.96)","box-shadow":"0 6px 12px 0 rgba(0, 0, 0, 0.12)","border-radius":"4px",color:"rgba(0, 0, 0, 0.65)","font-size":"12px","line-height":"20px",padding:"12px","min-width":"120px","max-width":"360px","font-family":"Roboto-Regular"},r[".".concat(i.TITLE)]={color:"rgba(0, 0, 0, 0.45)"},r[".".concat(i.LIST)]={margin:"0px","list-style-type":"none",padding:"0px"},r[".".concat(i.LIST_ITEM)]={"list-style-type":"none",display:"flex","line-height":"2em","align-items":"center","justify-content":"space-between","white-space":"nowrap"},r[".".concat(i.MARKER)]={width:"8px",height:"8px","border-radius":"50%",display:"inline-block","margin-right":"4px"},r[".".concat(i.NAME)]={display:"flex","align-items":"center","max-width":"216px"},r[".".concat(i.NAME_LABEL)]=sq({flex:1},hE),r[".".concat(i.VALUE)]=sq({display:"inline-block",float:"right",flex:1,"text-align":"right","min-width":"28px","margin-left":"30px",color:"rgba(0, 0, 0, 0.85)"},hE),r[".".concat(i.CROSSHAIR_X)]={position:"absolute",width:"1px","background-color":"rgba(0, 0, 0, 0.25)"},r[".".concat(i.CROSSHAIR_Y)]={position:"absolute",height:"1px","background-color":"rgba(0, 0, 0, 0.25)"},r)})||this).timestamp=-1,s.prevCustomContentKey=s.attributes.contentKey,s.initShape(),s.render(s.attributes,s),s}return sU(e,t),Object.defineProperty(e.prototype,"HTMLTooltipElement",{get:function(){return this.element},enumerable:!1,configurable:!0}),e.prototype.getContainer=function(){return this.element},Object.defineProperty(e.prototype,"elementSize",{get:function(){return{width:this.element.offsetWidth,height:this.element.offsetHeight}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"HTMLTooltipItemsElements",{get:function(){var t=this.attributes,e=t.data,n=t.template;return e.map(function(t,e){var r,i=t.name,o=t.color,a=t.index,s=sK(t,["name","color","index"]),l=sq({name:void 0===i?"":i,color:void 0===o?"black":o,index:null!=a?a:e},s);return hy((r=n.item)&&l?r.replace(/\\?\{([^{}]+)\}/g,function(t,e){return"\\"===t.charAt(0)?t.slice(1):void 0===l[e]?"":l[e]}):r)})},enumerable:!1,configurable:!0}),e.prototype.render=function(t,e){this.renderHTMLTooltipElement(),this.updatePosition()},e.prototype.destroy=function(){var e;null===(e=this.element)||void 0===e||e.remove(),t.prototype.destroy.call(this)},e.prototype.show=function(t,e){var n=this;if(void 0!==t&&void 0!==e){var r="hidden"===this.element.style.visibility,i=function(){n.attributes.x=null!=t?t:n.attributes.x,n.attributes.y=null!=e?e:n.attributes.y,n.updatePosition()};r?this.closeTransition(i):i()}this.element.style.visibility="visible"},e.prototype.hide=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.attributes.enterable&&this.isCursorEntered(t,e)||(this.element.style.visibility="hidden")},e.prototype.initShape=function(){var t=this.attributes.template;this.element=hy(t.container),this.id&&this.element.setAttribute("id",this.id)},e.prototype.renderCustomContent=function(){if(void 0===this.prevCustomContentKey||this.prevCustomContentKey!==this.attributes.contentKey){this.prevCustomContentKey=this.attributes.contentKey;var t=this.attributes.content;t&&("string"==typeof t?this.element.innerHTML=t:hb(this.element,t))}},e.prototype.renderHTMLTooltipElement=function(){var t,e,n=this.attributes,r=n.template,i=n.title,o=n.enterable,a=n.style,s=n.content,l=hx(r.prefixCls),u=this.element;if(this.element.style.pointerEvents=o?"auto":"none",s)this.renderCustomContent();else{i?(u.innerHTML=r.title,u.getElementsByClassName(l.TITLE)[0].innerHTML=i):null===(e=null===(t=u.getElementsByClassName(l.TITLE))||void 0===t?void 0:t[0])||void 0===e||e.remove();var c=this.HTMLTooltipItemsElements,h=document.createElement("ul");h.className=l.LIST,hb(h,c);var d=this.element.querySelector(".".concat(l.LIST));d?d.replaceWith(h):u.appendChild(h)}!function(t,e){Object.entries(e).forEach(function(e){var n=sX(e,2),r=n[0],i=n[1];sJ([t],sX(t.querySelectorAll(r)),!1).filter(function(t){return t.matches(r)}).forEach(function(t){t&&(t.style.cssText+=Object.entries(i).reduce(function(t,e){return"".concat(t).concat(e.join(":"),";")},""))})})}(u,a)},e.prototype.getRelativeOffsetFromCursor=function(t){var e=this.attributes,n=e.position,r=e.offset,i=(t||n).split("-"),o={left:[-1,0],right:[1,0],top:[0,-1],bottom:[0,1]},a=this.elementSize,s=a.width,l=a.height,u=[-s/2,-l/2];return i.forEach(function(t){var e=sX(u,2),n=e[0],i=e[1],a=sX(o[t],2),c=a[0],h=a[1];u=[n+(s/2+r[0])*c,i+(l/2+r[1])*h]}),u},e.prototype.setOffsetPosition=function(t){var e=sX(t,2),n=e[0],r=e[1],i=this.attributes,o=i.x,a=i.y,s=i.container,l=s.x,u=s.y;this.element.style.left="".concat(+(void 0===o?0:o)+l+n,"px"),this.element.style.top="".concat(+(void 0===a?0:a)+u+r,"px")},e.prototype.updatePosition=function(){var t=this.attributes.showDelay,e=Date.now();this.timestamp>0&&e-this.timestamp<(void 0===t?60:t)||(this.timestamp=e,this.setOffsetPosition(this.autoPosition(this.getRelativeOffsetFromCursor())))},e.prototype.autoPosition=function(t){var e=sX(t,2),n=e[0],r=e[1],i=this.attributes,o=i.x,a=i.y,s=i.bounding,l=i.position;if(!s)return[n,r];var u=this.element,c=u.offsetWidth,h=u.offsetHeight,d=sX([+o+n,+a+r],2),p=d[0],f=d[1],g={left:"right",right:"left",top:"bottom",bottom:"top"},m=s.x,v=s.y,y={left:p<m,right:p+c>m+s.width,top:f<v,bottom:f+h>v+s.height},b=[];l.split("-").forEach(function(t){y[t]?b.push(g[t]):b.push(t)});var x=b.join("-");return this.getRelativeOffsetFromCursor(x)},e.prototype.isCursorEntered=function(t,e){if(this.element){var n=this.element.getBoundingClientRect();return new ll(n.x,n.y,n.width,n.height).isPointIn(t,e)}return!1},e.prototype.closeTransition=function(t){var e=this,n=this.element.style.transition;this.element.style.transition="none",t(),setTimeout(function(){e.element.style.transition=n},10)},e.tag="tooltip",e}(s9);class hS extends aU{constructor(t,e){super(t,Object.assign({},hS.defaultOptions,e)),this.currentTarget=null,this.tooltipElement=null,this.container=null,this.isEnable=t=>{let{enable:e}=this.options;return"function"==typeof e?e(t):e},this.onClick=t=>{let{target:{id:e}}=t;this.currentTarget===e?this.hide(t):this.show(t)},this.onPointerMove=t=>{let{target:e}=t;this.currentTarget&&e.id!==this.currentTarget&&this.show(t)},this.onPointerLeave=t=>{this.hide(t)},this.onCanvasMove=t=>{this.hide(t)},this.onPointerEnter=t=>{this.show(t)},this.showById=t=>{this.show({target:{id:t}})},this.getElementData=(t,e)=>{let{model:n}=this.context;switch(e){case"node":return n.getNodeData([t]);case"edge":return n.getEdgeData([t]);case"combo":return n.getComboData([t]);default:return[]}},this.show=t=>{var e,n;let r,i;let{client:o,target:{id:a}}=t;if(o6(t.target)||!this.tooltipElement||!this.isEnable(t))return;let s=this.context.graph.getElementType(a),{getContent:l,title:u}=this.options;this.currentTarget=a;let c=this.getElementData(a,s);if(o)r=o.x,i=o.y;else{let t=nX(c,"0.style",{x:0,y:0});r=t.x,i=t.y}let h={};if(l)h.content=l(t,c);else{let t=this.context.graph.getElementRenderStyle(a),e="node"===s?t.fill:t.stroke;h={title:u||s,data:c.map(t=>({name:"ID",value:t.id||`${t.source} -> ${t.target}`,color:e}))}}null===(n=(e=this.options).onOpenChange)||void 0===n||n.call(e,!0),this.tooltipElement.update(Object.assign(Object.assign(Object.assign({},this.tooltipStyleProps),{x:r,y:i,style:{".tooltip":{visibility:"visible"}}}),h))},this.hide=t=>{var e,n,r,i,o;if(!t){null===(n=(e=this.options).onOpenChange)||void 0===n||n.call(e,!1),null===(r=this.tooltipElement)||void 0===r||r.hide(),this.currentTarget=null;return}if(!this.tooltipElement||!this.currentTarget)return;let{client:{x:a,y:s}}=t;null===(o=(i=this.options).onOpenChange)||void 0===o||o.call(i,!1),this.tooltipElement.hide(a,s),this.currentTarget=null},this.initTooltip=()=>{var t;let e=new hw({className:"tooltip",style:this.tooltipStyleProps});return null===(t=this.container)||void 0===t||t.appendChild(e.HTMLTooltipElement),e},this.render(),this.bindEvents()}getEvents(){return"click"===this.options.trigger?{"node:click":this.onClick,"edge:click":this.onClick,"combo:click":this.onClick,"canvas:click":this.onPointerLeave,contextmenu:this.onPointerLeave,drag:this.onPointerLeave}:{"node:pointerenter":this.onPointerEnter,"node:pointermove":this.onPointerMove,"canvas:pointermove":this.onCanvasMove,"edge:pointerenter":this.onPointerEnter,"edge:pointermove":this.onPointerMove,"combo:pointerenter":this.onPointerEnter,"combo:pointermove":this.onPointerMove,contextmenu:this.onPointerLeave,"node:drag":this.onPointerLeave}}update(t){var e;this.unbindEvents(),super.update(t),this.tooltipElement&&(null===(e=this.container)||void 0===e||e.removeChild(this.tooltipElement.HTMLTooltipElement)),this.tooltipElement=this.initTooltip(),this.bindEvents()}render(){let{canvas:t}=this.context,e=t.getContainer();e&&(this.container=e,this.tooltipElement=this.initTooltip())}unbindEvents(){let{graph:t}=this.context,e=this.getEvents();Object.keys(e).forEach(n=>{t.off(n,e[n])})}bindEvents(){let{graph:t}=this.context,e=this.getEvents();Object.keys(e).forEach(n=>{t.on(n,e[n])})}get tooltipStyleProps(){let{canvas:t}=this.context,{center:e}=t.getBounds(),{top:n,left:r}=t.getContainer().getBoundingClientRect(),{style:i,position:o,enterable:a,container:s={x:-r,y:-n},title:l,offset:u}=this.options,[c,h]=e,[d,p]=t.getSize();return{x:c,y:h,container:s,title:l,bounding:{x:0,y:0,width:d,height:p},position:o,enterable:a,offset:u,style:i}}destroy(){var t;this.unbindEvents(),this.tooltipElement&&(null===(t=this.container)||void 0===t||t.removeChild(this.tooltipElement.HTMLTooltipElement)),super.destroy()}}hS.defaultOptions={trigger:"hover",position:"top-right",enterable:!1,enable:!0,offset:[10,10],style:{".tooltip":{visibility:"hidden"}}};var hM=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(a,s)}l((r=r.apply(t,e||[])).next())})};function hk(t,e){return r||(r=document.createElement("canvas")),r.width=t,r.height=e,r.getContext("2d").clearRect(0,0,t,e),r}var hO=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)0>e.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class hC extends aU{constructor(t,e){super(t,Object.assign({},hC.defaultOptions,e)),this.$element=aq("watermark"),this.context.canvas.getContainer().appendChild(this.$element),this.update(e)}update(t){var e,n,r,i;let o=Object.create(null,{update:{get:()=>super.update}});return e=this,n=void 0,r=void 0,i=function*(){o.update.call(this,t);let e=this.options,{width:n,height:r,text:i,imageURL:a}=e,s=hO(e,["width","height","text","imageURL"]);Object.keys(s).forEach(e=>{e.startsWith("background")&&(this.$element.style[e]=t[e])});let l=a?yield function(t,e,n,r){return hM(this,void 0,void 0,function*(){let i=hk(t,e),o=i.getContext("2d"),{rotate:a,opacity:s}=r;a&&o.rotate(a),s&&(o.globalAlpha=s);let l=new Image;return l.crossOrigin="anonymous",l.src=n,new Promise(n=>{l.onload=function(){let r=t>l.width?(t-l.width)/2:0,a=e>l.height?(e-l.height)/2:0;o.drawImage(l,0,0,l.width,l.height,r,a,t-2*r,e-2*a),n(i.toDataURL())}})})}(n,r,a,s):yield function(t,e,n,r){return hM(this,void 0,void 0,function*(){let i=hk(t,e),o=i.getContext("2d"),{rotate:a,opacity:s,textFill:l,textFontSize:u,textFontFamily:c,textFontVariant:h,textFontWeight:d,textAlign:p,textBaseline:f}=r;return o.textAlign=p,o.textBaseline=f,o.translate(t/2,e/2),o.font=`${u}px ${c} ${h} ${d}`,a&&o.rotate(a),s&&(o.globalAlpha=s),l&&(o.fillStyle=l,o.fillText(`${n}`,0,0)),i.toDataURL()})}(n,r,i,s);this.$element.style.backgroundImage=`url(${l})`},new(r||(r=Promise))(function(t,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(e){var n;e.done?t(e.value):((n=e.value)instanceof r?n:new r(function(t){t(n)})).then(a,s)}l((i=i.apply(e,n||[])).next())})}destroy(){super.destroy(),this.$element.remove()}}hC.defaultOptions={width:200,height:100,opacity:.2,rotate:Math.PI/12,text:"",textFill:"#000",textFontSize:16,textAlign:"center",textBaseline:"middle",backgroundRepeat:"repeat"};let hA=["#7E92B5","#F4664A","#FFBE3A"],hT={type:"group",color:["#1783FF","#00C9C9","#F08F56","#D580FF","#7863FF","#DB9D0D","#60C42D","#FF80CA","#2491B3","#17C76F"]},hP={type:"group",color:["#99ADD1","#1783FF","#00C9C9","#F08F56","#D580FF","#7863FF","#DB9D0D","#60C42D","#FF80CA","#2491B3","#17C76F"]};function hL(t){let{bgColor:e,textColor:n,nodeColor:r,nodeColorDisabled:i,nodeStroke:o,nodeHaloStrokeOpacityActive:a=.15,nodeHaloStrokeOpacitySelected:s=.25,nodeOpacityDisabled:l=.06,nodeIconOpacityInactive:u=.85,nodeOpacityInactive:c=.25,nodeBadgePalette:h=hA,nodePaletteOptions:d=hT,edgeColor:p,edgeColorDisabled:f,edgePaletteOptions:g=hP,comboColor:m,comboColorDisabled:v,comboStroke:y,comboStrokeDisabled:b,edgeColorInactive:x}=t;return{background:e,node:{palette:d,style:{donutOpacity:1,badgeBackgroundOpacity:1,badgeFill:"#fff",badgeFontSize:8,badgePadding:[0,4],badgePalette:h,fill:r,fillOpacity:1,halo:!1,iconFill:"#fff",iconOpacity:1,labelBackground:!1,labelBackgroundFill:e,labelBackgroundLineWidth:0,labelBackgroundOpacity:.75,labelFill:n,labelFillOpacity:.85,labelLineHeight:16,labelPadding:[0,2],labelFontSize:12,labelFontWeight:400,labelOpacity:1,labelOffsetY:2,lineWidth:0,portFill:r,portLineWidth:1,portStroke:o,portStrokeOpacity:.65,size:32,stroke:o,strokeOpacity:1,zIndex:2},state:{selected:{halo:!0,haloLineWidth:24,haloStrokeOpacity:s,labelFontSize:12,labelFontWeight:"bold",lineWidth:4,stroke:o},active:{halo:!0,haloLineWidth:12,haloStrokeOpacity:a},highlight:{labelFontWeight:"bold",lineWidth:4,stroke:o,strokeOpacity:.85},inactive:{badgeBackgroundOpacity:c,donutOpacity:c,fillOpacity:c,iconOpacity:u,labelFill:n,labelFillOpacity:c,strokeOpacity:c},disabled:{badgeBackgroundOpacity:.25,donutOpacity:l,fill:i,fillOpacity:l,iconFill:i,iconOpacity:.25,labelFill:n,labelFillOpacity:.25,strokeOpacity:l}},animation:{enter:"fade",exit:"fade",show:"fade",hide:"fade",expand:"node-expand",collapse:"node-collapse",update:[{fields:["x","y","fill","stroke"]}],translate:[{fields:["x","y"]}]}},edge:{palette:g,style:{badgeBackgroundFill:p,badgeFill:"#fff",badgeFontSize:8,badgeOffsetX:10,fillOpacity:1,halo:!1,haloLineWidth:12,haloStrokeOpacity:1,increasedLineWidthForHitTesting:2,labelBackground:!1,labelBackgroundFill:e,labelBackgroundLineWidth:0,labelBackgroundOpacity:.75,labelBackgroundPadding:[4,4,4,4],labelFill:n,labelFontSize:12,labelFontWeight:400,labelOpacity:1,labelPlacement:"center",labelTextBaseline:"middle",lineWidth:1,stroke:p,strokeOpacity:1,zIndex:1},state:{selected:{halo:!0,haloStrokeOpacity:.25,labelFontSize:14,labelFontWeight:"bold",lineWidth:3},active:{halo:!0,haloStrokeOpacity:.15},highlight:{labelFontWeight:"bold",lineWidth:3},inactive:{stroke:x,fillOpacity:.08,labelOpacity:.25,strokeOpacity:.08,badgeBackgroundOpacity:.25},disabled:{stroke:f,fillOpacity:.45,strokeOpacity:.45,labelOpacity:.25,badgeBackgroundOpacity:.45}},animation:{enter:"fade",exit:"fade",expand:"path-in",collapse:"path-out",show:"fade",hide:"fade",update:[{fields:["sourceNode","targetNode"]},{fields:["stroke"],shape:"key"}],translate:[{fields:["sourceNode","targetNode"]}]}},combo:{style:{collapsedMarkerFill:e,collapsedMarkerFontSize:12,collapsedMarkerFillOpacity:1,collapsedSize:32,collapsedFillOpacity:1,fill:m,halo:!1,haloLineWidth:12,haloStroke:y,haloStrokeOpacity:.25,labelBackground:!1,labelBackgroundFill:e,labelBackgroundLineWidth:0,labelBackgroundOpacity:.75,labelBackgroundPadding:[2,4,2,4],labelFill:n,labelFontSize:12,labelFontWeight:400,labelOpacity:1,lineDash:0,lineWidth:1,fillOpacity:.04,strokeOpacity:1,padding:10,stroke:y},state:{selected:{halo:!0,labelFontSize:14,labelFontWeight:700,lineWidth:4},active:{halo:!0},highlight:{labelFontWeight:700,lineWidth:4},inactive:{fillOpacity:.65,labelOpacity:.25,strokeOpacity:.65},disabled:{fill:v,fillOpacity:.25,labelOpacity:.25,stroke:b,strokeOpacity:.25}},animation:{enter:"fade",exit:"fade",show:"fade",hide:"fade",expand:"combo-expand",collapse:"combo-collapse",update:[{fields:["x","y"]},{fields:["fill","stroke","lineWidth"],shape:"key"}],translate:[{fields:["x","y"]}]}}}}let hR=hL({bgColor:"#000000",comboColor:"#fdfdfd",comboColorDisabled:"#d0e4ff",comboStroke:"#99add1",comboStrokeDisabled:"#969696",edgeColor:"#637088",edgeColorDisabled:"#637088",edgeColorInactive:"#D0E4FF",edgePaletteOptions:{type:"group",color:["#637088","#0F55A6","#008383","#9C5D38","#8B53A6","#4E40A6","#8F6608","#3E801D","#A65383","#175E75","#0F8248"]},nodeColor:"#1783ff",nodeColorDisabled:"#D0E4FF",nodeHaloStrokeOpacityActive:.25,nodeHaloStrokeOpacitySelected:.45,nodeIconOpacityInactive:.45,nodeOpacityDisabled:.25,nodeOpacityInactive:.45,nodeStroke:"#d0e4ff",textColor:"#ffffff"}),hD=hL({bgColor:"#ffffff",comboColor:"#99ADD1",comboColorDisabled:"#f0f0f0",comboStroke:"#99add1",comboStrokeDisabled:"#d9d9d9",edgeColor:"#99add1",edgeColorDisabled:"#d9d9d9",edgeColorInactive:"#1B324F",nodeColor:"#1783ff",nodeColorDisabled:"#1B324F",nodeHaloStrokeOpacityActive:.15,nodeHaloStrokeOpacitySelected:.25,nodeIconOpacityInactive:.85,nodeOpacityDisabled:.06,nodeOpacityInactive:.25,nodeStroke:"#000000",textColor:"#000000"});class hN extends no{beforeDraw(t,e){return t}afterLayout(){}}class hI extends hN{beforeDraw(t){let{model:e}=this.context,n=t.add.combos,r=t=>{let n=[];return t.forEach((t,r)=>{let i=e.getAncestorsData(r,"combo").map(t=>e2(t)).reverse();n.push([r,t,i.length])}),new Map(n.sort(([,,t],[,,e])=>e-t).map(([t,e])=>[t,e]))};return t.add.combos=r(n),t.update.combos=r(t.update.combos),t}}function hZ(t,e,n,r,i){let o=e2(r),a=`${n}s`,s=i?r:t.add[a].get(o)||t.update[a].get(o)||t.remove[a].get(o)||r;Object.entries(t).forEach(([t,n])=>{e===t?n[a].set(o,s):n[a].delete(o)})}function hj(t,e){return Object.keys(t).every(n=>t[n]===e[n])}class h_ extends hN{beforeDraw(t,e){if("visibility"===e.stage||!this.context.model.model.hasTreeStructure(t2))return t;let{model:n}=this.context,{add:r,update:i}=t,o=[...t.update.combos.entries(),...t.add.combos.entries()];for(;o.length;){let[e,a]=o.pop();if(nY(a)){let a=n.getDescendantsData(e),{internal:s,external:l}=om(a.map(e2),t=>n.getRelatedEdgesData(t));a.forEach(e=>{let r=e2(e),i=o.findIndex(([t])=>t===r);-1!==i&&o.splice(i,1),hZ(t,"remove",n.getElementType(r),e)}),s.forEach(e=>hZ(t,"remove","edge",e)),l.forEach(t=>{var e;let n=e2(t);(null===(e=this.context.element)||void 0===e?void 0:e.getElement(n))?i.edges.set(n,t):r.edges.set(n,t)})}else{let r=n.getChildrenData(e),{edges:i}=om(r.map(e2),t=>n.getRelatedEdgesData(t));[...r,...i].forEach(e=>{var r;let i=e2(e),a=n.getElementType(i);(null===(r=this.context.element)||void 0===r?void 0:r.getElement(i))?hZ(t,"update",a,e):hZ(t,"add",a,e),"combo"===a&&o.push([i,e])})}}return t}}let hB=(t,e,n,r)=>{let i=`${n}s`,o=e2(r);t.add[i].has(o)||t.update[i].has(o)||t[e][i].set(e2(r),r)};class hF extends hN{getElement(t){return this.context.element.getElement(t)}handleExpand(t,e){if(hB(e,"add","node",t),nY(t))return;let n=e2(t);hB(e,"add","node",t),this.context.model.getRelatedEdgesData(n,"out").forEach(t=>{hZ(e,"add","edge",t)}),this.context.model.getChildrenData(n).forEach(t=>{this.handleExpand(t,e)})}beforeDraw(t){let{graph:e,model:n}=this.context;if(!n.model.hasTreeStructure(t3))return t;let{add:{nodes:r,edges:i},update:{nodes:o}}=t,a=new Map,s=new Map;r.forEach((t,e)=>{nY(t)&&a.set(e,t)}),i.forEach(t=>{if("node"!==e.getElementType(t.source))return;let n=e.getNodeData(t.source);nY(n)&&a.set(t.source,n)}),o.forEach((t,e)=>{let n=this.getElement(e);if(!n)return;let r=n.attributes.collapsed;nY(t)?r||a.set(e,t):r&&s.set(e,t)});let l=new Set;return a.forEach((e,r)=>{n.getDescendantsData(r).forEach(e=>{let r=e2(e);l.has(r)||(hZ(t,"remove","node",e),n.getRelatedEdgesData(r).forEach(e=>{hZ(t,"remove","edge",e)}),l.add(r))})}),s.forEach((e,r)=>{if(n.getAncestorsData(r,t3).some(nY)){hZ(t,"remove","node",e);return}this.handleExpand(e,t)}),t}}var hz=n(71241),hW=function(){function t(e){(0,z.Z)(this,t),this.dragndropPluginOptions=e}return(0,W.Z)(t,[{key:"apply",value:function(e){var n=this,r=e.renderingService,i=e.renderingContext.root.ownerDocument,o=i.defaultView,a=function(t){var e=t.target,r=e===i,a=r&&n.dragndropPluginOptions.isDocumentDraggable?i:e.closest&&e.closest("[draggable=true]");if(a){var s,l=!1,u=t.timeStamp,c=[t.clientX,t.clientY],h=null,d=[t.clientX,t.clientY],p=(s=(0,rY.Z)((0,rK.Z)().mark(function t(o){var s,p,f,g,m,v;return(0,rK.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(l){t.next=8;break}if(s=o.timeStamp-u,p=(0,hz.y)([o.clientX,o.clientY],c),!(s<=n.dragndropPluginOptions.dragstartTimeThreshold||p<=n.dragndropPluginOptions.dragstartDistanceThreshold)){t.next=5;break}return t.abrupt("return");case 5:o.type="dragstart",a.dispatchEvent(o),l=!0;case 8:if(o.type="drag",o.dx=o.clientX-d[0],o.dy=o.clientY-d[1],a.dispatchEvent(o),d=[o.clientX,o.clientY],r){t.next=21;break}return f="pointer"===n.dragndropPluginOptions.overlap?[o.canvasX,o.canvasY]:e.getBounds().center,t.next=17,i.elementsFromPoint(f[0],f[1]);case 17:v=(null==(m=(g=t.sent)[g.indexOf(e)+1])?void 0:m.closest("[droppable=true]"))||(n.dragndropPluginOptions.isDocumentDroppable?i:null),h!==v&&(h&&(o.type="dragleave",o.target=h,h.dispatchEvent(o)),v&&(o.type="dragenter",o.target=v,v.dispatchEvent(o)),(h=v)&&(o.type="dragover",o.target=h,h.dispatchEvent(o)));case 21:case"end":return t.stop()}},t)})),function(t){return s.apply(this,arguments)});o.addEventListener("pointermove",p);var f=function(t){if(l){t.detail={preventClick:!0};var e=t.clone();h&&(e.type="drop",e.target=h,h.dispatchEvent(e)),e.type="dragend",a.dispatchEvent(e),l=!1}o.removeEventListener("pointermove",p)};e.addEventListener("pointerup",f,{once:!0}),e.addEventListener("pointerupoutside",f,{once:!0})}};r.hooks.init.tap(t.tag,function(){o.addEventListener("pointerdown",a)}),r.hooks.destroy.tap(t.tag,function(){o.removeEventListener("pointerdown",a)})}}])}();hW.tag="Dragndrop";var hV=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,z.Z)(this,e),(t=(0,V.Z)(this,e)).name="dragndrop",t.options=n,t}return(0,H.Z)(e,t),(0,W.Z)(e,[{key:"init",value:function(){this.addRenderingPlugin(new hW((0,rQ.Z)({overlap:"pointer",isDocumentDraggable:!1,isDocumentDroppable:!1,dragstartDistanceThreshold:0,dragstartTimeThreshold:0},this.options)))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}},{key:"setOptions",value:function(t){Object.assign(this.plugins[0].dragndropPluginOptions,t)}}])}(F.F6),hH=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(a,s)}l((r=r.apply(t,e||[])).next())})},hG=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)0>e.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};let h$=["main"],hU=["background","main","label","transient"];class hq{getConfig(){return this.config}getLayer(t="main"){return this.extends.layers[t]||this.getLayers().main}getLayers(){return this.extends.layers}getRenderer(t){return this.extends.renderers[t]}getCamera(t="main"){return this.getLayer(t).getCamera()}getRoot(t="main"){return this.getLayer(t).getRoot()}getContextService(t="main"){return this.getLayer(t).getContextService()}setCursor(t){this.config.cursor=t,this.getLayer().setCursor(t)}get document(){return this.getLayer().document}get context(){return this.getLayer().context}constructor(t){this.config={enableMultiLayer:!0},Object.assign(this.config,t);let e=this.config,{renderer:n,background:r,cursor:i,enableMultiLayer:o}=e,a=hG(e,["renderer","background","cursor","enableMultiLayer"]),s=o?hU:h$,l=hK(n,s),u=Object.fromEntries(s.map(t=>{let e=new F.Xz(Object.assign(Object.assign({},a),{supportsMutipleCanvasesInOneContainer:o,renderer:l[t],background:o?"background"===t?r:void 0:r}));return[t,e]}));hY(u),this.extends={config:this.config,renderer:n,renderers:l,layers:u}}get ready(){return Promise.all(Object.entries(this.getLayers()).map(([,t])=>t.ready))}resize(t,e){Object.assign(this.extends.config,{width:t,height:e}),Object.values(this.getLayers()).forEach(n=>{let r=n.getCamera(),i=r.getPosition(),o=r.getFocalPoint();n.resize(t,e),r.setPosition(i),r.setFocalPoint(o)})}getBounds(t){return eM(Object.values(this.getLayers()).map(e=>t?e.getRoot().childNodes.find(e=>e.classList.includes(t)):e.getRoot()).filter(t=>(null==t?void 0:t.childNodes.length)>0).map(t=>t.getBounds()))}getContainer(){let t=this.extends.config.container;return"string"==typeof t?document.getElementById(t):t}getSize(){return[this.extends.config.width||0,this.extends.config.height||0]}appendChild(t,e){var n;let r=(null===(n=t.style)||void 0===n?void 0:n.$layer)||"main";return this.getLayer(r).appendChild(t,e)}setRenderer(t){if(t===this.extends.renderer)return;let e=hK(t,this.config.enableMultiLayer?hU:h$);this.extends.renderers=e,Object.entries(e).forEach(([t,e])=>this.getLayer(t).setRenderer(e)),hY(this.getLayers())}getCanvasByViewport(t){return nT(this.getLayer().viewport2Canvas(nP(t)))}getViewportByCanvas(t){return nT(this.getLayer().canvas2Viewport(nP(t)))}getViewportByClient(t){return nT(this.getLayer().client2Viewport(nP(t)))}getClientByViewport(t){return nT(this.getLayer().viewport2Client(nP(t)))}getClientByCanvas(t){return this.getClientByViewport(this.getViewportByCanvas(t))}getCanvasByClient(t){let e=this.getLayer(),n=e.client2Viewport(nP(t));return nT(e.viewport2Canvas(n))}toDataURL(){return hH(this,arguments,void 0,function*(t={}){let e=globalThis.devicePixelRatio||1,{mode:n="viewport"}=t,r=hG(t,["mode"]),[i,o,a,s]=[0,0,0,0];if("viewport"===n)[a,s]=this.getSize();else if("overall"===n){let t=this.getBounds(),e=ex(t);[i,o]=t.min,[a,s]=e}let l=hy('<div id="virtual-image"></div>'),u=new F.Xz({width:a,height:s,renderer:new iU,devicePixelRatio:e,container:l,background:this.extends.config.background});yield u.ready,u.appendChild(this.getLayer("background").getRoot().cloneNode(!0)),u.appendChild(this.getRoot().cloneNode(!0));let c=this.getLayer("label").getRoot().cloneNode(!0),h=u.viewport2Canvas({x:0,y:0}),d=this.getCanvasByViewport([0,0]);c.translate([d[0]-h.x,d[1]-h.y]),c.scale(1/this.getCamera().getZoom()),u.appendChild(c),u.appendChild(this.getLayer("transient").getRoot().cloneNode(!0));let p=this.getCamera(),f=u.getCamera();if("viewport"===n)f.setZoom(p.getZoom()),f.setPosition(p.getPosition()),f.setFocalPoint(p.getFocalPoint());else if("overall"===n){let[t,e,n]=f.getPosition(),[r,a,s]=f.getFocalPoint();f.setPosition([t+i,e+o,n]),f.setFocalPoint([r+i,a+o,s])}let g=u.getContextService();return new Promise(t=>{u.addEventListener(F.$6.RERENDER,()=>hH(this,void 0,void 0,function*(){yield new Promise(t=>setTimeout(t,300)),t((yield g.toDataURL(r)))}))})})}destroy(){Object.values(this.getLayers()).forEach(t=>{t.getCamera().cancelLandmarkAnimation(),t.destroy()})}}function hK(t,e){return Object.fromEntries(e.map(e=>{let n=(null==t?void 0:t(e))||new iU;return"main"===e?n.registerPlugin(new hV({isDocumentDraggable:!0,isDocumentDroppable:!0,dragstartDistanceThreshold:10,dragstartTimeThreshold:100})):n.unregisterPlugin(n.getPlugin("dom-interaction")),[e,n]}))}function hY(t){Object.entries(t).forEach(([t,e])=>{let n=e.getContextService().getDomElement();(null==n?void 0:n.style)&&(n.style.gridArea="1 / 1 / 2 / 2",n.style.outline="none",n.tabIndex=1,"main"!==t&&(n.style.pointerEvents="none")),(null==n?void 0:n.parentElement)&&(n.parentElement.style.display="grid")})}let hX=t=>t?parseInt(t):0;function hJ(t){if(!t)return[0,0];let e=640,n=480,[r,i]=function(t){let e=getComputedStyle(t),n=t.clientWidth||hX(e.width),r=t.clientHeight||hX(e.height);return[n-(hX(e.paddingLeft)+hX(e.paddingRight)),r-(hX(e.paddingTop)+hX(e.paddingBottom))]}(t);return e=r||e,n=i||n,[Math.max((0,$.Z)(e)?e:1,1),Math.max((0,$.Z)(n)?n:1,1)]}class hQ{constructor(t){this.type=t}}class h0 extends hQ{constructor(t,e){super(t),this.data=e}}class h1 extends hQ{constructor(t,e,n,r){super(t),this.animationType=e,this.animation=n,this.data=r}}class h2 extends hQ{constructor(t,e,n){super(t),this.elementType=e,this.data=n}}class h3 extends hQ{constructor(t,e){super(t),this.data=e}}function h6(t,e){t.emit(e.type,e)}function h5(t){var e;return(null===(e=null==t?void 0:t.style)||void 0===e?void 0:e.zIndex)||0}let h4="cachedStyle",h8=t=>`__${t}__`;class h9{constructor(t){this.tasks=[],this.animations=new Set,this.context=t}getTasks(){let t=[...this.tasks];return this.tasks=[],t}add(t,e){this.tasks.push([t,e])}animate(t,e,n){var r,i,o;null===(r=null==e?void 0:e.before)||void 0===r||r.call(e);let a=this.getTasks().map(([e,r])=>{var i,o,a;let{element:s,elementType:l,stage:u}=e,c=function(t,e,n,r){var i,o;let{animation:a}=t,s=null===(i=null==t?void 0:t[e])||void 0===i?void 0:i.animation;if(!1===s)return[];let l=null==s?void 0:s[n];if(!1===l||!1===a||!1===r)return[];let u=null===(o=t9(t)[e])||void 0===o?void 0:o.animation,c=(t=[])=>{var e;return("string"==typeof(e=t)?t5(L.ANIMATION,e)||(t8.warn(`The animation of ${e} is not registered.`),[]):e).map(t=>Object.assign(Object.assign(Object.assign(Object.assign({},t1),(0,tQ.Z)(a)&&a),t),(0,tQ.Z)(r)&&r))};if(l)return c(l);if(!u)return[];let h=u[n];return!1===h?[]:c(h)}(this.context.options,l,u,t);null===(i=null==r?void 0:r.before)||void 0===i||i.call(r);let h=c.length?eo(s,this.inferStyle(e,n),c):null;return h?(null===(o=null==r?void 0:r.beforeAnimate)||void 0===o||o.call(r,h),h.finished.then(()=>{var t,e;null===(t=null==r?void 0:r.afterAnimate)||void 0===t||t.call(r,h),null===(e=null==r?void 0:r.after)||void 0===e||e.call(r),this.animations.delete(h)})):null===(a=null==r?void 0:r.after)||void 0===a||a.call(r),h}).filter(Boolean);a.forEach(t=>this.animations.add(t));let s=t7(a);return s?(null===(i=null==e?void 0:e.beforeAnimate)||void 0===i||i.call(e,s),s.finished.then(()=>{var t,n;null===(t=null==e?void 0:e.afterAnimate)||void 0===t||t.call(e,s),null===(n=null==e?void 0:e.after)||void 0===n||n.call(e),this.release()})):null===(o=null==e?void 0:e.after)||void 0===o||o.call(e),s}inferStyle(t,e){var n,r;let{element:i,elementType:o,stage:a,originalStyle:s,updatedStyle:l={}}=t;t.modifiedStyle||(t.modifiedStyle=Object.assign(Object.assign({},s),l));let{modifiedStyle:u}=t,c={},h={};if("enter"===a)Object.assign(c,{opacity:0});else if("exit"===a)Object.assign(h,{opacity:0});else if("show"===a)Object.assign(c,{opacity:0}),Object.assign(h,{opacity:null!==(n=nX(i,[h4,h8("opacity")]))&&void 0!==n?n:ee("opacity")});else if("hide"===a)Object.assign(c,{opacity:null!==(r=nX(i,[h4,h8("opacity")]))&&void 0!==r?r:ee("opacity")}),Object.assign(h,{opacity:0});else if("collapse"===a){let{collapse:t}=e||{},{target:n,descendants:r,position:a}=t;if("node"===o){if(r.includes(i.id)){let[t,e,n]=a;Object.assign(h,{x:t,y:e,z:n})}}else if("combo"===o){if(i.id===n||r.includes(i.id)){let[t,e]=a;Object.assign(h,{x:t,y:e,childrenNode:s.childrenNode})}}else"edge"===o&&Object.assign(h,{sourceNode:u.sourceNode,targetNode:u.targetNode})}else if("expand"===a){let{expand:t}=e||{},{target:n,descendants:r,position:a}=t;if("node"===o){if(i.id===n||r.includes(i.id)){let[t,e,n]=a;Object.assign(c,{x:t,y:e,z:n})}}else if("combo"===o){if(i.id===n||r.includes(i.id)){let[t,e,n]=a;Object.assign(c,{x:t,y:e,z:n,childrenNode:u.childrenNode})}}else"edge"===o&&Object.assign(c,{sourceNode:u.sourceNode,targetNode:u.targetNode})}return[Object.keys(c).length>0?Object.assign({},s,c):s,Object.keys(h).length>0?Object.assign({},u,h):u]}stop(){this.animations.forEach(t=>t.cancel())}clear(){this.tasks=[]}release(){var t,e;let{canvas:n}=this.context,r=null===(e=null===(t=n.document)||void 0===t?void 0:t.timeline)||void 0===e?void 0:e.animationsWithPromises;r&&(n.document.timeline.animationsWithPromises=r.filter(t=>"finished"!==t.playState))}destroy(){this.stop(),this.animations.clear(),this.tasks=[]}}class h7{constructor(t){this.batchCount=0,this.context=t}emit(t){let{graph:e}=this.context;e.emit(t.type,t)}startBatch(t=!0){this.batchCount++,1===this.batchCount&&this.emit(new h0(A.BATCH_START,{initiate:t}))}endBatch(){this.batchCount--,0===this.batchCount&&this.emit(new h0(A.BATCH_END))}get isBatching(){return this.batchCount>0}destroy(){this.context=null}}class dt extends ni{constructor(t){super(t),this.currentTarget=null,this.currentTargetType=null,this.category="behavior",this.forwardCanvasEvents=t=>{let{target:e}=t,n=function(t){if(!t)return null;if(t instanceof F.BB)return{type:"canvas",element:t};let e=t;for(;e;){if(oH(e))return{type:"node",element:e};if(oG(e))return{type:"edge",element:e};if(o$(e))return{type:"combo",element:e};e=e.parentElement}return null}(e);if(!n)return;let{graph:r,canvas:i}=this.context,{type:o,element:a}=n;if("destroyed"in a&&(o6(a)||a.destroyed))return;let{type:s,detail:l,button:u}=t,c=Object.assign(Object.assign({},t),{target:a,targetType:o,originalTarget:e});s===k.POINTER_MOVE&&(this.currentTarget!==a&&(this.currentTarget&&r.emit(`${this.currentTargetType}:${k.POINTER_LEAVE}`,Object.assign(Object.assign({},c),{type:k.POINTER_LEAVE,target:this.currentTarget,targetType:this.currentTargetType})),a&&(Object.assign(c,{type:k.POINTER_ENTER}),r.emit(`${o}:${k.POINTER_ENTER}`,c))),this.currentTarget=a,this.currentTargetType=o),s===k.CLICK&&2===u||(r.emit(`${o}:${s}`,c),r.emit(s,c)),s===k.CLICK&&2===l&&(Object.assign(c,{type:k.DBLCLICK}),r.emit(`${o}:${k.DBLCLICK}`,c),r.emit(k.DBLCLICK,c)),s===k.POINTER_DOWN&&2===u&&(Object.assign(c,{type:k.CONTEXT_MENU,preventDefault:()=>{var t;null===(t=i.getContainer())||void 0===t||t.addEventListener(k.CONTEXT_MENU,t=>t.preventDefault(),{once:!0})}}),r.emit(`${o}:${k.CONTEXT_MENU}`,c),r.emit(k.CONTEXT_MENU,c))},this.forwardContainerEvents=t=>{this.context.graph.emit(t.type,t)},this.forwardEvents(),this.setBehaviors(this.context.options.behaviors||[])}setBehaviors(t){this.setExtensions(t)}forwardEvents(){let t=this.context.canvas.getContainer();t&&[O.KEY_DOWN,O.KEY_UP].forEach(e=>{t.addEventListener(e,this.forwardContainerEvents)});let e=this.context.canvas.document;e&&[k.CLICK,k.DBLCLICK,k.POINTER_OVER,k.POINTER_LEAVE,k.POINTER_ENTER,k.POINTER_MOVE,k.POINTER_OUT,k.POINTER_DOWN,k.POINTER_UP,k.CONTEXT_MENU,k.DRAG_START,k.DRAG,k.DRAG_END,k.DRAG_ENTER,k.DRAG_OVER,k.DRAG_LEAVE,k.DROP,k.WHEEL].forEach(t=>{e.addEventListener(t,this.forwardCanvasEvents)})}destroy(){let t=this.context.canvas.getContainer();t&&[O.KEY_DOWN,O.KEY_UP].forEach(e=>{t.removeEventListener(e,this.forwardContainerEvents)}),this.context.canvas.document.removeAllEventListeners(),super.destroy()}}var de=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)0>e.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function dn(t,e){let{data:n,style:r}=t,i=de(t,["data","style"]),{data:o,style:a}=e,s=de(e,["data","style"]),l=Object.assign(Object.assign({},i),s);return(n||o)&&Object.assign(l,{data:Object.assign(Object.assign({},n),o)}),(r||a)&&Object.assign(l,{style:Object.assign(Object.assign({},r),a)}),l}function dr(t){let{data:e,style:n}=t,r=de(t,["data","style"]);return e&&(r.data=Object.assign({},e)),n&&(r.style=Object.assign({},n)),r}function di(t={},e={}){let{states:n=[],data:r={},style:i={},children:o=[]}=t,a=de(t,["states","data","style","children"]),{states:s=[],data:l={},style:u={},children:c=[]}=e,h=de(e,["states","data","style","children"]),d=(t,e)=>t.length===e.length&&t.every((t,n)=>t===e[n]),p=(t,e)=>{let n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.every(n=>t[n]===e[n])};return!!(p(a,h)&&d(o,c)&&d(n,s)&&p(r,l)&&p(i,u))}var da=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)0>e.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function ds(t){let{id:e=e2(t),style:n,data:r}=t,i=da(t,["id","style","data"]),o=Object.assign(Object.assign({},t),{style:Object.assign({},n),data:Object.assign({},r)});return"source"in t&&"target"in t?Object.assign({id:e,data:o},i):{id:e,data:o}}function dl(t){return t.data}class du{constructor(){this.latestRemovedComboIds=new Set,this.comboIds=new Set,this.changes=[],this.batchCount=0,this.isTraceless=!1,this.enableUpdateNodeLikeHierarchy=!0,this.model=new ao.k}pushChange(t){if(this.isTraceless)return;let{type:e}=t;if(e===E.NodeUpdated||e===E.EdgeUpdated||e===E.ComboUpdated){let{value:n,original:r}=t;this.changes.push({value:dr(n),original:dr(r),type:e})}else this.changes.push({value:dr(t.value),type:e})}getChanges(){return this.changes}clearChanges(){this.changes=[]}batch(t){this.batchCount++,this.model.batch(t),this.batchCount--}isBatching(){return this.batchCount>0}silence(t){this.isTraceless=!0,t(),this.isTraceless=!1}isCombo(t){return this.comboIds.has(t)||this.latestRemovedComboIds.has(t)}getData(){return{nodes:this.getNodeData(),edges:this.getEdgeData(),combos:this.getComboData()}}getNodeData(t){return this.model.getAllNodes().reduce((e,n)=>{let r=dl(n);return this.isCombo(e2(r))||(void 0===t?e.push(r):t.includes(e2(r))&&e.push(r)),e},[])}getEdgeDatum(t){return dl(this.model.getEdge(t))}getEdgeData(t){return this.model.getAllEdges().reduce((e,n)=>{let r=dl(n);return void 0===t?e.push(r):t.includes(e2(r))&&e.push(r),e},[])}getComboData(t){return this.model.getAllNodes().reduce((e,n)=>{let r=dl(n);return this.isCombo(e2(r))&&(void 0===t?e.push(r):t.includes(e2(r))&&e.push(r)),e},[])}getRootsData(t=t3){return this.model.getRoots(t).map(dl)}getAncestorsData(t,e){let{model:n}=this;return n.hasNode(t)&&n.hasTreeStructure(e)?n.getAncestors(t,e).map(dl):[]}getDescendantsData(t){let e=this.getElementDataById(t),n=[];return nH(e,t=>{t!==e&&n.push(t)},t=>this.getChildrenData(e2(t)),"TB"),n}getParentData(t,e){let{model:n}=this;if(!e){t8.warn("The hierarchy structure key is not specified");return}if(!n.hasNode(t)||!n.hasTreeStructure(e))return;let r=n.getParent(t,e);return r?dl(r):void 0}getChildrenData(t){let e="node"===this.getElementType(t)?t3:t2,{model:n}=this;return n.hasNode(t)&&n.hasTreeStructure(e)?n.getChildren(t,e).map(dl):[]}getElementsDataByType(t){return"node"===t?this.getNodeData():"edge"===t?this.getEdgeData():"combo"===t?this.getComboData():[]}getElementDataById(t){return"edge"===this.getElementType(t)?this.getEdgeDatum(t):this.getNodeLikeDatum(t)}getNodeLikeDatum(t){return dl(this.model.getNode(t))}getNodeLikeData(t){return this.model.getAllNodes().reduce((e,n)=>{let r=dl(n);return t?t.includes(e2(r))&&e.push(r):e.push(r),e},[])}getElementDataByState(t,e){return this.getElementsDataByType(t).filter(t=>{var n;return null===(n=t.states)||void 0===n?void 0:n.includes(e)})}getElementState(t){var e;return(null===(e=this.getElementDataById(t))||void 0===e?void 0:e.states)||[]}hasNode(t){return this.model.hasNode(t)&&!this.isCombo(t)}hasEdge(t){return this.model.hasEdge(t)}hasCombo(t){return this.model.hasNode(t)&&this.isCombo(t)}getRelatedEdgesData(t,e="both"){return this.model.getRelatedEdges(t,e).map(dl)}getNeighborNodesData(t){return this.model.getNeighbors(t).map(dl)}setData(t){let{nodes:e=[],edges:n=[],combos:r=[]}=t,{nodes:i,edges:o,combos:a}=this.getData(),s=nn(i,e,t=>e2(t),di),l=nn(o,n,t=>e2(t),di),u=nn(a,r,t=>e2(t),di);this.batch(()=>{let t={nodes:s.enter,edges:l.enter,combos:u.enter};this.addData(t),this.computeZIndex(t,"add",!0);let e={nodes:s.update,edges:l.update,combos:u.update};this.updateData(e),this.computeZIndex(e,"update",!0);let n={nodes:s.exit.map(e2),edges:l.exit.map(e2),combos:u.exit.map(e2)};this.removeData(n)})}addData(t){let{nodes:e,edges:n,combos:r}=t;this.batch(()=>{this.addComboData(r),this.addNodeData(e),this.addEdgeData(n)}),this.computeZIndex(t,"add")}addNodeData(t=[]){t.length&&(this.model.addNodes(t.map(t=>(this.pushChange({value:t,type:E.NodeAdded}),ds(t)))),this.updateNodeLikeHierarchy(t),this.computeZIndex({nodes:t},"add"))}addEdgeData(t=[]){t.length&&(this.model.addEdges(t.map(t=>(this.pushChange({value:t,type:E.EdgeAdded}),ds(t)))),this.computeZIndex({edges:t},"add"))}addComboData(t=[]){if(!t.length)return;let{model:e}=this;e.hasTreeStructure(t2)||e.attachTreeStructure(t2),e.addNodes(t.map(t=>(this.comboIds.add(e2(t)),this.pushChange({value:t,type:E.ComboAdded}),ds(t)))),this.updateNodeLikeHierarchy(t),this.computeZIndex({combos:t},"add")}addChildrenData(t,e){let n=this.getNodeLikeDatum(t),r=e.map(e2);this.addNodeData(e),this.updateNodeData([{id:t,children:[...n.children||[],...r]}]),this.addEdgeData(r.map(e=>({source:t,target:e})))}computeZIndex(t,e,n=!1){!n&&this.isBatching()||this.batch(()=>{let{nodes:n=[],edges:r=[],combos:i=[]}=t;i.forEach(t=>{var n,r,i;let o=e2(t);if("add"===e&&(0,$.Z)(null===(n=t.style)||void 0===n?void 0:n.zIndex)||"update"===e&&!("combo"in t))return;let a=this.getParentData(o,t2),s=a?(null!==(i=null===(r=a.style)||void 0===r?void 0:r.zIndex)&&void 0!==i?i:0)+1:0;this.preventUpdateNodeLikeHierarchy(()=>{this.updateComboData([{id:o,style:{zIndex:s}}])})}),n.forEach(t=>{var n,r,i;let o=e2(t);if("add"===e&&(0,$.Z)(null===(n=t.style)||void 0===n?void 0:n.zIndex)||"update"===e&&!("combo"in t)&&!("children"in t))return;let a=0,s=this.getParentData(o,t2);if(s)a=((null===(r=s.style)||void 0===r?void 0:r.zIndex)||0)+1;else{let t=this.getParentData(o,t3);t&&(a=(null===(i=null==t?void 0:t.style)||void 0===i?void 0:i.zIndex)||0)}this.preventUpdateNodeLikeHierarchy(()=>{this.updateNodeData([{id:o,style:{zIndex:a}}])})}),r.forEach(t=>{var e,n,r,i,o;if((0,$.Z)(null===(e=t.style)||void 0===e?void 0:e.zIndex))return;let{id:a,source:s,target:l}=t;if(a){let t=this.getEdgeDatum(a);s=t.source,l=t.target}else a=e2(t);if(!s||!l)return;let u=(null===(r=null===(n=this.getNodeLikeDatum(s))||void 0===n?void 0:n.style)||void 0===r?void 0:r.zIndex)||0,c=(null===(o=null===(i=this.getNodeLikeDatum(l))||void 0===i?void 0:i.style)||void 0===o?void 0:o.zIndex)||0;this.updateEdgeData([{id:e2(t),style:{zIndex:Math.max(u,c)-1}}])})})}getFrontZIndex(t){var e;let n=this.getElementType(t),r=this.getElementDataById(t),i=this.getData();if(Object.assign(i,{[`${n}s`]:i[`${n}s`].filter(e=>e2(e)!==t)}),"combo"===n&&!nY(r)){let e=new Set(this.getAncestorsData(t,t2).map(e2));i.nodes=i.nodes.filter(t=>!e.has(e2(t))),i.combos=i.combos.filter(t=>!e.has(e2(t))),i.edges=i.edges.filter(({source:t,target:n})=>!e.has(t)&&!e.has(n))}return Math.max((null===(e=r.style)||void 0===e?void 0:e.zIndex)||0,0,...Object.values(i).flat().map(t=>{var e;return((null===(e=null==t?void 0:t.style)||void 0===e?void 0:e.zIndex)||0)+1}))}updateNodeLikeHierarchy(t){if(!this.enableUpdateNodeLikeHierarchy)return;let{model:e}=this;t.forEach(t=>{let n=e2(t),r=t.combo;void 0!==r&&(e.hasTreeStructure(t2)||e.attachTreeStructure(t2),null===r&&this.refreshComboData(n),this.setParent(n,t.combo,t2));let i=t.children||[];if(i.length){e.hasTreeStructure(t3)||e.attachTreeStructure(t3);let t=i.filter(t=>e.hasNode(t));t.forEach(t=>this.setParent(t,n,t3)),t.length!==i.length&&this.updateNodeData([{id:n,children:t}])}})}preventUpdateNodeLikeHierarchy(t){this.enableUpdateNodeLikeHierarchy=!1,t(),this.enableUpdateNodeLikeHierarchy=!0}updateData(t){let{nodes:e,edges:n,combos:r}=t;this.batch(()=>{this.updateNodeData(e),this.updateComboData(r),this.updateEdgeData(n)}),this.computeZIndex(t,"update")}updateNodeData(t=[]){if(!t.length)return;let{model:e}=this;this.batch(()=>{let n=[];t.forEach(t=>{let r=e2(t),i=dl(e.getNode(r));if(di(i,t))return;let o=dn(i,t);this.pushChange({value:o,original:i,type:E.NodeUpdated}),e.mergeNodeData(r,o),n.push(o)}),this.updateNodeLikeHierarchy(n)}),this.computeZIndex({nodes:t},"update")}refreshData(){let{nodes:t,edges:e,combos:n}=this.getData();t.forEach(t=>{this.pushChange({value:t,original:t,type:E.NodeUpdated})}),e.forEach(t=>{this.pushChange({value:t,original:t,type:E.EdgeUpdated})}),n.forEach(t=>{this.pushChange({value:t,original:t,type:E.ComboUpdated})})}syncNodeDatum(t){let{model:e}=this,n=e2(t),r=dn(dl(e.getNode(n)),t);e.mergeNodeData(n,r)}updateEdgeData(t=[]){if(!t.length)return;let{model:e}=this;this.batch(()=>{t.forEach(t=>{let n=e2(t),r=dl(e.getEdge(n));if(di(r,t))return;t.source&&r.source!==t.source&&e.updateEdgeSource(n,t.source),t.target&&r.target!==t.target&&e.updateEdgeTarget(n,t.target);let i=dn(r,t);this.pushChange({value:i,original:r,type:E.EdgeUpdated}),e.mergeEdgeData(n,i)})}),this.computeZIndex({edges:t},"update")}updateComboData(t=[]){if(!t.length)return;let{model:e}=this;e.batch(()=>{let n=[];t.forEach(t=>{let r=e2(t),i=dl(e.getNode(r));if(di(i,t))return;let o=dn(i,t);this.pushChange({value:o,original:i,type:E.ComboUpdated}),e.mergeNodeData(r,o),n.push(o)}),this.updateNodeLikeHierarchy(n)}),this.computeZIndex({combos:t},"update")}setParent(t,e,n,r=!0){if(t===e)return;let i=this.getNodeLikeDatum(t).combo;if(i!==e&&n===t2){let n={id:t,combo:e};this.isCombo(t)?this.syncComboDatum(n):this.syncNodeDatum(n)}this.model.setParent(t,e,n),r&&n===t2&&(function(t,e){void 0===e&&(e=new Map);var n=[];if(Array.isArray(t))for(var r=0,i=t.length;r<i;r++){var o=t[r];e.has(o)||(n.push(o),e.set(o,!0))}return n})([i,e]).forEach(t=>{void 0!==t&&this.refreshComboData(t)})}refreshComboData(t){let e=this.getComboData([t])[0],n=this.getAncestorsData(t,t2);e&&this.pushChange({value:e,original:e,type:E.ComboUpdated}),n.forEach(t=>{this.pushChange({value:t,original:t,type:E.ComboUpdated})})}syncComboDatum(t){let{model:e}=this,n=e2(t);if(!e.hasNode(n))return;let r=dn(dl(e.getNode(n)),t);e.mergeNodeData(n,r)}getElementPosition(t){return nO(this.getElementDataById(t))}translateNodeLikeBy(t,e){this.isCombo(t)?this.translateComboBy(t,e):this.translateNodeBy(t,e)}translateNodeLikeTo(t,e){this.isCombo(t)?this.translateComboTo(t,e):this.translateNodeTo(t,e)}translateNodeBy(t,e){let n=nc(this.getElementPosition(t),[...e,0].slice(0,3));this.translateNodeTo(t,n)}translateNodeTo(t,e){let[n=0,r=0,i=0]=e;this.preventUpdateNodeLikeHierarchy(()=>{this.updateNodeData([{id:t,style:{x:n,y:r,z:i}}])})}translateComboBy(t,e){let[n=0,r=0,i=0]=e;if([n,r,i].some(isNaN)||[n,r,i].every(t=>0===t))return;let o=this.getComboData([t])[0];if(!o)return;let a=new Set;nH(o,t=>{let e=e2(t);if(a.has(e))return;a.add(e);let[o,s,l]=nO(t),u=dn(t,{style:{x:o+n,y:s+r,z:l+i}});this.pushChange({value:u,original:t,type:this.isCombo(e)?E.ComboUpdated:E.NodeUpdated}),this.model.mergeNodeData(e,u)},t=>this.getChildrenData(e2(t)),"BT")}translateComboTo(t,e){var n;if(e.some(isNaN))return;let[r=0,i=0,o=0]=e,a=null===(n=this.getComboData([t]))||void 0===n?void 0:n[0];if(!a)return;let[s,l,u]=nO(a),c=r-s,h=i-l,d=o-u;nH(a,t=>{let e=e2(t),[n,r,i]=nO(t),o=dn(t,{style:{x:n+c,y:r+h,z:i+d}});this.pushChange({value:o,original:t,type:this.isCombo(e)?E.ComboUpdated:E.NodeUpdated}),this.model.mergeNodeData(e,o)},t=>this.getChildrenData(e2(t)),"BT")}removeData(t){let{nodes:e,edges:n,combos:r}=t;this.batch(()=>{this.removeEdgeData(n),this.removeNodeData(e),this.removeComboData(r),this.latestRemovedComboIds=new Set(r)})}removeNodeData(t=[]){t.length&&this.batch(()=>{t.forEach(t=>{this.removeEdgeData(this.getRelatedEdgesData(t).map(e2)),this.pushChange({value:this.getNodeData([t])[0],type:E.NodeRemoved}),this.removeNodeLikeHierarchy(t)}),this.model.removeNodes(t)})}removeEdgeData(t=[]){t.length&&(t.forEach(t=>this.pushChange({value:this.getEdgeData([t])[0],type:E.EdgeRemoved})),this.model.removeEdges(t))}removeComboData(t=[]){t.length&&this.batch(()=>{t.forEach(t=>{this.pushChange({value:this.getComboData([t])[0],type:E.ComboRemoved}),this.removeNodeLikeHierarchy(t),this.comboIds.delete(t)}),this.model.removeNodes(t)})}removeNodeLikeHierarchy(t){if(this.model.hasTreeStructure(t2)){let e=this.getNodeLikeDatum(t).combo;this.setParent(t,void 0,t2,!1),this.model.getChildren(t,t2).forEach(t=>{let n=dl(t),r=e2(n);this.setParent(e2(n),e,t2,!1);let i=dn(n,{id:e2(n),combo:e});this.pushChange({value:i,original:n,type:this.isCombo(r)?E.ComboUpdated:E.NodeUpdated}),this.model.mergeNodeData(e2(n),i)}),(0,tt.Z)(e)||this.refreshComboData(e)}}getElementType(t){if(this.model.hasNode(t))return this.isCombo(t)?"combo":"node";if(this.model.hasEdge(t))return"edge";throw Error(t4(`Unknown element type of id: ${t}`))}destroy(){let{model:t}=this,e=t.getAllNodes(),n=t.getAllEdges();t.removeEdges(n.map(t=>t.id)),t.removeNodes(e.map(t=>t.id)),this.context={}}}var dc=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(a,s)}l((r=r.apply(t,e||[])).next())})};class dh{constructor(t){this.elementMap={},this.shapeTypeMap={},this.paletteStyle={},this.defaultStyle={},this.stateStyle={},this.visibilityCache=new WeakMap,this.context=t}init(){if(!this.container){let{canvas:t}=this.context;this.container=t.appendChild(new F.ZA({className:"elements"}))}}emit(t,e){e.silence||h6(this.context.graph,t)}forEachElementData(t){nV.forEach(e=>{let n=this.context.model.getElementsDataByType(e);t(e,n)})}getElementType(t,e){var n;let{options:r,graph:i}=this.context,o=(null===(n=r[t])||void 0===n?void 0:n.type)||e.type;return o?"string"==typeof o?o:o.call(i,e):"edge"===t?"line":"circle"}getTheme(t){return t9(this.context.options)[t]||{}}getThemeStyle(t){return this.getTheme(t).style||{}}getThemeStateStyle(t,e){let{state:n={}}=this.getTheme(t);return Object.assign({},...e.map(t=>n[t]||{}))}computePaletteStyle(){let{options:t}=this.context;this.paletteStyle={},this.forEachElementData((e,n)=>{var r,i;let o=Object.assign({},re(null===(r=this.getTheme(e))||void 0===r?void 0:r.palette),re(null===(i=t[e])||void 0===i?void 0:i.palette));(null==o?void 0:o.field)&&Object.assign(this.paletteStyle,function(t,e){if(!e)return{};let{type:n,color:r,field:i,invert:o}=e,a=t=>{let e="string"==typeof r?t5("palette",r):r;if("function"==typeof e){let n={};return t.forEach(([t,r])=>{n[t]=e(o?1-r:r)}),n}if(Array.isArray(e)){let n=o?[...e].reverse():e,r={};return t.forEach(([t,i])=>{r[t]=n[i%e.length]}),r}return{}},s=(t,e)=>{var n;return"string"==typeof t?null===(n=e.data)||void 0===n?void 0:n[t]:null==t?void 0:t(e)};if("group"===n){let e=ed(t,t=>{if(!i)return"default";let e=s(i,t);return e?String(e):"default"}),n=a(Object.keys(e).map((t,e)=>[t,e])),r={};return Object.entries(e).forEach(([t,e])=>{e.forEach(e=>{r[e2(e)]=n[t]})}),r}if("value"===n){let[e,n]=t.reduce(([t,e],n)=>{let r=s(i,n);if("number"!=typeof r)throw Error(t4(`Palette field ${i} is not a number`));return[Math.min(t,r),Math.max(e,r)]},[1/0,-1/0]),r=n-e;return a(t.map(t=>[t.id,(s(i,t)-e)/r]))}}(n,o))})}getPaletteStyle(t,e){let n=this.paletteStyle[e];return n?"edge"===t?{stroke:n}:{fill:n}:{}}computeElementDefaultStyle(t,e){var n;let{options:r}=this.context,i=(null===(n=r[t])||void 0===n?void 0:n.style)||{};"transform"in i&&Array.isArray(i.transform)&&(i.transform=[...i.transform]),this.defaultStyle[e2(e.datum)]=n4(i,e)}computeElementsDefaultStyle(t){let{graph:e}=this.context;this.forEachElementData((n,r)=>{let i=r.length;for(let o=0;o<i;o++){let i=r[o];(void 0===t||t.includes(e2(i)))&&this.computeElementDefaultStyle(n,{datum:i,graph:e})}})}getDefaultStyle(t){return this.defaultStyle[t]||{}}getElementState(t){try{let{model:e}=this.context;return e.getElementState(t)}catch(t){return[]}}getElementStateStyle(t,e,n){var r,i;let{options:o}=this.context;return n4((null===(i=null===(r=o[t])||void 0===r?void 0:r.state)||void 0===i?void 0:i[e])||{},n)}computeElementStatesStyle(t,e,n){this.stateStyle[e2(n.datum)]=Object.assign({},...e.map(e=>this.getElementStateStyle(t,e,n)))}computeElementsStatesStyle(t){let{graph:e}=this.context;this.forEachElementData((n,r)=>{let i=r.length;for(let o=0;o<i;o++){let i=r[o];if(void 0===t||t.includes(e2(i))){let t=this.getElementState(e2(i));this.computeElementStatesStyle(n,t,{datum:i,graph:e})}}})}getStateStyle(t){return this.stateStyle[t]||{}}computeStyle(t,e){t&&["translate","zIndex"].includes(t)||(this.computePaletteStyle(),this.computeElementsDefaultStyle(e),this.computeElementsStatesStyle(e))}getElement(t){return this.elementMap[t]}getNodes(){return this.context.model.getNodeData().map(({id:t})=>this.elementMap[t])}getEdges(){return this.context.model.getEdgeData().map(t=>this.elementMap[e2(t)])}getCombos(){return this.context.model.getComboData().map(({id:t})=>this.elementMap[t])}getElementComputedStyle(t,e){let n=e2(e),r=this.getThemeStyle(t),i=this.getPaletteStyle(t,n),o=e.style||{},a=Object.assign({},r,i,o,this.getDefaultStyle(n),this.getThemeStateStyle(t,this.getElementState(n)),this.getStateStyle(n));if("combo"===t){let t=this.context.model.getChildrenData(n),e=a.collapsed?[]:t.map(e2).filter(t=>this.getElement(t));Object.assign(a,{childrenNode:e,childrenData:t})}return a}draw(t={animation:!0}){this.init();let e=this.computeChangesAndDrawData(t);if(!e)return null;let{type:n="draw",stage:r=n,animation:i,silence:o}=t,{dataChanges:a,drawData:s}=e;this.markDestroyElement(s),this.computeStyle(r);let{add:l,update:u,remove:c}=s;return this.destroyElements(c,t),this.createElements(l,t),this.updateElements(u,t),this.context.animation.animate(i,o?{}:{before:()=>this.emit(new h0(A.BEFORE_DRAW,{dataChanges:a,animation:i,stage:r,render:"render"===n}),t),beforeAnimate:e=>this.emit(new h1(A.BEFORE_ANIMATE,w.DRAW,e,s),t),afterAnimate:e=>this.emit(new h1(A.AFTER_ANIMATE,w.DRAW,e,s),t),after:()=>this.emit(new h0(A.AFTER_DRAW,{dataChanges:a,animation:i,stage:r,render:"render"===n,firstRender:!1===this.context.graph.rendered}),t)})}computeChangesAndDrawData(t){let{model:e}=this.context,n=e.getChanges(),r=sN(n);if(0===r.length)return null;let{NodeAdded:i=[],NodeUpdated:o=[],NodeRemoved:a=[],EdgeAdded:s=[],EdgeUpdated:l=[],EdgeRemoved:u=[],ComboAdded:c=[],ComboUpdated:h=[],ComboRemoved:d=[]}=ed(r,t=>t.type),p=t=>new Map(t.map(t=>{let e=t.value;return[e2(e),e]})),f={add:{nodes:p(i),edges:p(s),combos:p(c)},update:{nodes:p(o),edges:p(l),combos:p(h)},remove:{nodes:p(a),edges:p(u),combos:p(d)}},g=this.transformData(f,t);return e.clearChanges(),{dataChanges:n,drawData:g}}transformData(t,e){return Object.values(this.context.transform.getTransformInstance()).reduce((t,n)=>n.beforeDraw(t,e),t)}createElement(t,e,n){var r;let i=e2(e);if(this.getElement(i))return;let o=this.getElementType(t,e),a=this.getElementComputedStyle(t,e),s=t5(t,o);if(!s)return t8.warn(`The element ${o} of ${t} is not registered.`);this.emit(new h2(A.BEFORE_ELEMENT_CREATE,t,e),n);let l=this.container.appendChild(new s({id:i,context:this.context,style:Object.assign({},a)}));this.shapeTypeMap[i]=o,this.elementMap[i]=l;let{stage:u="enter"}=n;null===(r=this.context.animation)||void 0===r||r.add({element:l,elementType:t,stage:u,originalStyle:Object.assign({},l.attributes),updatedStyle:a},{after:()=>{var r;this.emit(new h2(A.AFTER_ELEMENT_CREATE,t,e),n),null===(r=l.onCreate)||void 0===r||r.call(l)}})}createElements(t,e){let{nodes:n,edges:r,combos:i}=t;[["node",n],["combo",i],["edge",r]].forEach(([t,n])=>{n.forEach(n=>this.createElement(t,n,e))})}getUpdateStageStyle(t,e,n){let{stage:r="update"}=n;if("translate"===r){if("node"!==t&&"combo"!==t)return{};{let{style:{x:t=0,y:n=0,z:r=0}={}}=e;return{x:t,y:n,z:r}}}return this.getElementComputedStyle(t,e)}updateElement(t,e,n){var r;let i=e2(e),{stage:o="update"}=n,a=this.getElement(i);if(!a)return()=>null;this.emit(new h2(A.BEFORE_ELEMENT_UPDATE,t,e),n);let s=this.getElementType(t,e),l=this.getUpdateStageStyle(t,e,n);this.shapeTypeMap[i]!==s&&(a.destroy(),delete this.shapeTypeMap[i],delete this.elementMap[i],this.createElement(t,e,{animation:!1,silence:!0}));let u="visibility"!==o?o:"hidden"===l.visibility?"hide":"show";"hide"===u&&delete l.visibility,null===(r=this.context.animation)||void 0===r||r.add({element:a,elementType:t,stage:u,originalStyle:Object.assign({},a.attributes),updatedStyle:l},{before:()=>{let t=this.elementMap[i];"collapse"!==o&&o3(t,l),"visibility"===o&&(h8("opacity") in(nX(t,h4)||{})||function(t,e){let n=Array.isArray(e)?e:[e];nX(t,h4)||nJ(t,h4,{}),n.forEach(e=>{nJ(nX(t,h4),h8(e),t.attributes[e])})}(t,"opacity"),this.visibilityCache.set(t,"show"===u?"visible":"hidden"),"show"===u&&nr(t,"visible"))},after:()=>{var r;let a=this.elementMap[i];"collapse"===o&&o3(a,l),"hide"===u&&nr(a,this.visibilityCache.get(a)),this.emit(new h2(A.AFTER_ELEMENT_UPDATE,t,e),n),null===(r=a.onUpdate)||void 0===r||r.call(a)}})}updateElements(t,e){let{nodes:n,edges:r,combos:i}=t;[["node",n],["combo",i],["edge",r]].forEach(([t,n])=>{n.forEach(n=>this.updateElement(t,n,e))})}markDestroyElement(t){Object.values(t.remove).forEach(t=>{t.forEach(t=>{let e=e2(t),n=this.getElement(e);n&&nJ(n,"__to_be_destroyed__",!0)})})}destroyElement(t,e,n){var r;let{stage:i="exit"}=n,o=e2(e),a=this.elementMap[o];if(!a)return()=>null;this.emit(new h2(A.BEFORE_ELEMENT_DESTROY,t,e),n),null===(r=this.context.animation)||void 0===r||r.add({element:a,elementType:t,stage:i,originalStyle:Object.assign({},a.attributes),updatedStyle:{}},{after:()=>{var r;this.clearElement(o),a.destroy(),null===(r=a.onDestroy)||void 0===r||r.call(a),this.emit(new h2(A.AFTER_ELEMENT_DESTROY,t,e),n)}})}destroyElements(t,e){let{nodes:n,edges:r,combos:i}=t;[["combo",i],["edge",r],["node",n]].forEach(([t,n])=>{n.forEach(n=>this.destroyElement(t,n,e))})}clearElement(t){delete this.paletteStyle[t],delete this.defaultStyle[t],delete this.stateStyle[t],delete this.elementMap[t],delete this.shapeTypeMap[t]}alignLayoutResultToElement(t,e){var n,r;let i=null===(n=t.nodes)||void 0===n?void 0:n.find(t=>e2(t)===e);if(i){let n=nh(nO(this.context.model.getNodeLikeDatum(e)),nO(i));null===(r=t.nodes)||void 0===r||r.forEach(t=>{var e,r,i;(null===(e=t.style)||void 0===e?void 0:e.x)&&(t.style.x+=n[0]),(null===(r=t.style)||void 0===r?void 0:r.y)&&(t.style.y+=n[1]),(null===(i=t.style)||void 0===i?void 0:i.z)&&(t.style.z+=n[2]||0)})}}collapseNode(t,e){return dc(this,void 0,void 0,function*(){var n;let{animation:r,align:i}=e,{model:o,layout:a}=this.context,s=this.computeChangesAndDrawData({stage:"collapse",animation:r});if(!s)return;this.markDestroyElement(s.drawData);let l=yield a.simulate();i&&this.alignLayoutResultToElement(l,t),o.updateData(l);let u=this.computeChangesAndDrawData({stage:"collapse",animation:r});if(!u)return;let{drawData:c}=u,{add:h,remove:d,update:p}=c;this.markDestroyElement(c);let f={animation:r,stage:"collapse",data:c};this.destroyElements(d,f),this.createElements(h,f),this.updateElements(p,f),yield null===(n=this.context.animation.animate(r,{beforeAnimate:t=>this.emit(new h1(A.BEFORE_ANIMATE,w.COLLAPSE,t,c),f),afterAnimate:t=>this.emit(new h1(A.AFTER_ANIMATE,w.COLLAPSE,t,c),f)},{collapse:{target:t,descendants:Array.from(d.nodes).map(([,t])=>e2(t)),position:nO(p.nodes.get(t))}}))||void 0===n?void 0:n.finished})}expandNode(t,e){return dc(this,void 0,void 0,function*(){var n;let{model:r,layout:i}=this.context,{animation:o,align:a}=e,s=nO(r.getNodeData([t])[0]),l=this.computeChangesAndDrawData({stage:"expand",animation:o});if(!l)return;let{drawData:{add:u}}=l;this.createElements(u,{animation:!1,stage:"expand",target:t}),this.context.animation.clear();let c=yield i.simulate();a&&this.alignLayoutResultToElement(c,t),r.updateData(c),this.computeStyle("expand");let h=this.computeChangesAndDrawData({stage:"collapse",animation:o});if(!h)return;let{drawData:d}=h,{update:p}=d,f={animation:o,stage:"expand",data:d};u.edges.forEach(t=>p.edges.set(e2(t),t)),u.nodes.forEach(t=>p.nodes.set(e2(t),t)),this.updateElements(p,f),yield null===(n=this.context.animation.animate(o,{beforeAnimate:t=>this.emit(new h1(A.BEFORE_ANIMATE,w.EXPAND,t,d),f),afterAnimate:t=>this.emit(new h1(A.AFTER_ANIMATE,w.EXPAND,t,d),f)},{expand:{target:t,descendants:Array.from(u.nodes).map(([,t])=>e2(t)),position:s}}))||void 0===n?void 0:n.finished})}collapseCombo(t,e){return dc(this,void 0,void 0,function*(){var n;let{model:r,element:i}=this.context;if(r.getAncestorsData(t,t2).some(t=>nY(t)))return;let o=i.getElement(t),a=o.getComboPosition(Object.assign(Object.assign({},o.attributes),{collapsed:!0})),s=this.computeChangesAndDrawData({stage:"collapse",animation:e});if(!s)return;let{dataChanges:l,drawData:u}=s;this.markDestroyElement(u);let{update:c,remove:h}=u,d={animation:e,stage:"collapse",data:u};this.destroyElements(h,d),this.updateElements(c,d);let p=t=>Array.from(t).map(([,t])=>e2(t));yield null===(n=this.context.animation.animate(e,{before:()=>this.emit(new h0(A.BEFORE_DRAW,{dataChanges:l,animation:e}),d),beforeAnimate:t=>this.emit(new h1(A.BEFORE_ANIMATE,w.COLLAPSE,t,u),d),afterAnimate:t=>this.emit(new h1(A.AFTER_ANIMATE,w.COLLAPSE,t,u),d),after:()=>this.emit(new h0(A.AFTER_DRAW,{dataChanges:l,animation:e}),d)},{collapse:{target:t,descendants:[...p(h.nodes),...p(h.combos)],position:a}}))||void 0===n?void 0:n.finished})}expandCombo(t,e){return dc(this,void 0,void 0,function*(){var n;let{model:r}=this.context,i=nO(r.getComboData([t])[0]);this.computeStyle("expand");let o=this.computeChangesAndDrawData({stage:"expand",animation:e});if(!o)return;let{dataChanges:a,drawData:s}=o,{add:l,update:u}=s,c={animation:e,stage:"expand",data:s,target:t};this.createElements(l,c),this.updateElements(u,c);let h=t=>Array.from(t).map(([,t])=>e2(t));yield null===(n=this.context.animation.animate(e,{before:()=>this.emit(new h0(A.BEFORE_DRAW,{dataChanges:a,animation:e}),c),beforeAnimate:t=>this.emit(new h1(A.BEFORE_ANIMATE,w.EXPAND,t,s),c),afterAnimate:t=>this.emit(new h1(A.AFTER_ANIMATE,w.EXPAND,t,s),c),after:()=>this.emit(new h0(A.AFTER_DRAW,{dataChanges:a,animation:e}),c)},{expand:{target:t,descendants:[...h(l.nodes),...h(l.combos)],position:i}}))||void 0===n?void 0:n.finished})}destroy(){this.container.destroy(),this.elementMap={},this.shapeTypeMap={},this.defaultStyle={},this.stateStyle={},this.paletteStyle={},this.context={}}}let dd=Symbol("Comlink.proxy"),dp=Symbol("Comlink.endpoint"),df=Symbol("Comlink.releaseProxy"),dg=Symbol("Comlink.finalizer"),dm=Symbol("Comlink.thrown"),dv=t=>"object"==typeof t&&null!==t||"function"==typeof t,dy=new Map([["proxy",{canHandle:t=>dv(t)&&t[dd],serialize(t){let{port1:e,port2:n}=new MessageChannel;return function t(e,n=globalThis,r=["*"]){n.addEventListener("message",function i(o){let a;if(!o||!o.data)return;if(!function(t,e){for(let n of t)if(e===n||"*"===n||n instanceof RegExp&&n.test(e))return!0;return!1}(r,o.origin)){console.warn(`Invalid origin '${o.origin}' for comlink proxy`);return}let{id:s,type:l,path:u}=Object.assign({path:[]},o.data),c=(o.data.argumentList||[]).map(dA);try{var h,d;let n=u.slice(0,-1).reduce((t,e)=>t[e],e),r=u.reduce((t,e)=>t[e],e);switch(l){case"GET":a=r;break;case"SET":n[u.slice(-1)[0]]=dA(o.data.value),a=!0;break;case"APPLY":a=r.apply(n,c);break;case"CONSTRUCT":h=new r(...c),a=Object.assign(h,{[dd]:!0});break;case"ENDPOINT":{let{port1:n,port2:r}=new MessageChannel;t(e,r),d=[n],dO.set(n,d),a=n}break;case"RELEASE":a=void 0;break;default:return}}catch(t){a={value:t,[dm]:0}}Promise.resolve(a).catch(t=>({value:t,[dm]:0})).then(t=>{let[r,o]=dC(t);n.postMessage(Object.assign(Object.assign({},r),{id:s}),o),"RELEASE"===l&&(n.removeEventListener("message",i),db(n),dg in e&&"function"==typeof e[dg]&&e[dg]())}).catch(t=>{let[e,r]=dC({value:TypeError("Unserializable return value"),[dm]:0});n.postMessage(Object.assign(Object.assign({},e),{id:s}),r)})}),n.start&&n.start()}(t,e),[n,[n]]},deserialize:t=>(t.start(),dx(t))}],["throw",{canHandle:t=>dv(t)&&dm in t,serialize:({value:t})=>[t instanceof Error?{isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:{isError:!1,value:t},[]],deserialize(t){if(t.isError)throw Object.assign(Error(t.value.message),t.value);throw t.value}}]]);function db(t){"MessagePort"===t.constructor.name&&t.close()}function dx(t,e){let n=new Map;return t.addEventListener("message",function(t){let{data:e}=t;if(!e||!e.id)return;let r=n.get(e.id);if(r)try{r(e)}finally{n.delete(e.id)}}),function t(e,n,r=[],i=function(){}){let o=!1,a=new Proxy(i,{get(i,s){if(dE(o),s===df)return()=>{dM&&dM.unregister(a),dw(e),n.clear(),o=!0};if("then"===s){if(0===r.length)return{then:()=>a};let t=dT(e,n,{type:"GET",path:r.map(t=>t.toString())}).then(dA);return t.then.bind(t)}return t(e,n,[...r,s])},set(t,i,a){dE(o);let[s,l]=dC(a);return dT(e,n,{type:"SET",path:[...r,i].map(t=>t.toString()),value:s},l).then(dA)},apply(i,a,s){dE(o);let l=r[r.length-1];if(l===dp)return dT(e,n,{type:"ENDPOINT"}).then(dA);if("bind"===l)return t(e,n,r.slice(0,-1));let[u,c]=dk(s);return dT(e,n,{type:"APPLY",path:r.map(t=>t.toString()),argumentList:u},c).then(dA)},construct(t,i){dE(o);let[a,s]=dk(i);return dT(e,n,{type:"CONSTRUCT",path:r.map(t=>t.toString()),argumentList:a},s).then(dA)}});return function(t,e){let n=(dS.get(e)||0)+1;dS.set(e,n),dM&&dM.register(t,e,t)}(a,e),a}(t,n,[],e)}function dE(t){if(t)throw Error("Proxy has been released and is not useable")}function dw(t){return dT(t,new Map,{type:"RELEASE"}).then(()=>{db(t)})}let dS=new WeakMap,dM="FinalizationRegistry"in globalThis&&new FinalizationRegistry(t=>{let e=(dS.get(t)||0)-1;dS.set(t,e),0===e&&dw(t)});function dk(t){var e;let n=t.map(dC);return[n.map(t=>t[0]),(e=n.map(t=>t[1]),Array.prototype.concat.apply([],e))]}let dO=new WeakMap;function dC(t){for(let[e,n]of dy)if(n.canHandle(t)){let[r,i]=n.serialize(t);return[{type:"HANDLER",name:e,value:r},i]}return[{type:"RAW",value:t},dO.get(t)||[]]}function dA(t){switch(t.type){case"HANDLER":return dy.get(t.name).deserialize(t.value);case"RAW":return t.value}}function dT(t,e,n,r){return new Promise(i=>{let o=[,,,,].fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-");e.set(o,i),t.start&&t.start(),t.postMessage(Object.assign({id:o},n),r)})}class dP extends sD.Z{constructor(t,e,n){super(),this.graph=t,this.layout=e,this.options=n,this.spawnWorker()}spawnWorker(){this.proxy=dx(new Worker(n.tu(new URL(n.p+n.u(8693),n.b)),{type:void 0})),this.running&&(this.running=!1,this.execute())}execute(){var t;return(0,eI.__awaiter)(this,void 0,void 0,function*(){if(this.running)return this;this.running=!0;let e=this.layout.options,{onTick:n}=e,r=(0,eI.__rest)(e,["onTick"]),i={};Object.keys(r).forEach(t=>{(0,eu.Z)(r[t])||(i[t]=r[t])});let o={layout:{id:this.layout.id,options:i,iterations:null===(t=this.options)||void 0===t?void 0:t.iterations},nodes:this.graph.getAllNodes(),edges:this.graph.getAllEdges()},a=new Float32Array([0]),[s]=yield this.proxy.calculateLayout(o,[a]);return s})}stop(){return this.running=!1,this.proxy.stopLayout(),this}kill(){this.proxy[df]()}isRunning(){return this.running}}var dL=n(11013),dR=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(a,s)}l((r=r.apply(t,e||[])).next())})},dD=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)0>e.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class dN{get presetOptions(){return{animation:!!en(this.context.options,!0)}}get options(){let{options:t}=this.context;return t.layout}constructor(t){this.instances=[],this.context=t}getLayoutInstance(){return this.instances}layout(){return dR(this,void 0,void 0,function*(){if(!this.options)return;let t=Array.isArray(this.options)?this.options:[this.options],{graph:e}=this.context;for(let n of(h6(e,new h0(A.BEFORE_LAYOUT)),t)){let r=t.indexOf(n),i=this.getLayoutData(n),o=Object.assign(Object.assign({},this.presetOptions),n);h6(e,new h0(A.BEFORE_STAGE_LAYOUT,{options:o,index:r}));let a=yield this.stepLayout(i,o,r);h6(e,new h0(A.AFTER_STAGE_LAYOUT,{options:o,index:r})),n.animation||this.updateElementPosition(a,!1)}h6(e,new h0(A.AFTER_LAYOUT)),this.transformDataAfterLayout()})}transformDataAfterLayout(){Object.values(this.context.transform.getTransformInstance()).forEach(t=>t.afterLayout())}simulate(){return dR(this,void 0,void 0,function*(){if(!this.options)return{};let t=Array.isArray(this.options)?this.options:[this.options],e={};for(let n of t){let r=t.indexOf(n),i=this.getLayoutData(n);e=yield this.stepLayout(i,Object.assign(Object.assign(Object.assign({},this.presetOptions),n),{animation:!1}),r)}return e})}stepLayout(t,e,n){return dR(this,void 0,void 0,function*(){return!function(t){let{type:e}=t;return["compact-box","mindmap","dendrogram","indented"].includes(e)}(e)?yield this.graphLayout(t,e,n):yield this.treeLayout(t,e,n)})}graphLayout(t,e,n){return dR(this,void 0,void 0,function*(){let{animation:r,enableWorker:i,iterations:o=300}=e,a=this.initGraphLayout(e);if(!a)return{};if(this.instances[n]=a,this.instance=a,i)return this.supervisor=new dP(a.graphData2LayoutModel(t),a.instance,{iterations:o}),al((yield this.supervisor.execute()));if((0,dL.h)(a))return r?yield a.execute(t,{onTick:t=>{this.updateElementPosition(t,!1)}}):(a.execute(t),a.stop(),a.tick(o));let s=yield a.execute(t);if(r){let t=this.updateElementPosition(s,r);yield null==t?void 0:t.finished}return s})}treeLayout(t,e,n){return dR(this,void 0,void 0,function*(){let{type:n,animation:r}=e,i=t5("layout",n);if(!i)return{};let{nodes:o=[],edges:a=[]}=t,s=new ao.k({nodes:o.map(t=>({id:e2(t),data:t.data||{}})),edges:a.map(t=>({id:e2(t),source:t.source,target:t.target,data:t.data||{}}))});!function(t){if(!t.hasTreeStructure(t3))for(let e of(t.attachTreeStructure(t3),t.getAllEdges())){let{source:n,target:r}=e;t.setParent(r,n,t3)}}(s);let l={nodes:[],edges:[]},u={nodes:[],edges:[]};s.getRoots(t3).forEach(t=>{nH(t,t=>{t.children=s.getSuccessors(t.id)},t=>s.getSuccessors(t.id),"TB");let n=i(t,e),{x:r,y:o,z:a=0}=n;nH(n,t=>{let{id:e,x:n,y:i,z:s=0}=t;l.nodes.push({id:e,style:{x:r,y:o,z:a}}),u.nodes.push({id:e,style:{x:n,y:i,z:s}})},t=>t.children,"TB")});let c=this.inferTreeLayoutOffset(u);if(dI(u,c),r){dI(l,c),this.updateElementPosition(l,!1);let t=this.updateElementPosition(u,r);yield null==t?void 0:t.finished}return u})}inferTreeLayoutOffset(t){var e;let[n,r]=[1/0,-1/0],[i,o]=[1/0,-1/0];null===(e=t.nodes)||void 0===e||e.forEach(t=>{let{x:e=0,y:a=0}=t.style||{};n=Math.min(n,e),r=Math.max(r,e),i=Math.min(i,a),o=Math.max(o,a)});let{canvas:a}=this.context,s=a.getSize(),[l,u]=a.getCanvasByViewport([0,0]),[c,h]=a.getCanvasByViewport(s);return n>=l&&r<=c&&i>=u&&o<=h?[0,0]:[(l+c)/2-(n+r)/2,(u+h)/2-(i+o)/2]}stopLayout(){this.instance&&(0,dL.h)(this.instance)&&(this.instance.stop(),this.instance=void 0),this.supervisor&&(this.supervisor.stop(),this.supervisor=void 0),this.animationResult&&(this.animationResult.finish(),this.animationResult=void 0)}getLayoutData(t){let{nodeFilter:e=()=>!0}=t,{nodes:n,edges:r,combos:i}=this.context.model.getData(),o=t=>this.context.element.getElement(t),a=n.filter(t=>{let n=o(e2(t));return!(!n||o6(n))&&e(t)}),s=new Map(a.map(t=>[e2(t),t]));return{nodes:a,edges:r.filter(t=>{let{source:e,target:n}=t;return!!(s.has(e)&&s.has(n))}),combos:i}}initGraphLayout(t){var e;let{element:n,viewport:r}=this.context,{type:i,enableWorker:o,animation:a,iterations:s}=t,l=dD(t,["type","enableWorker","animation","iterations"]),[u,c]=r.getCanvasSize(),h=null!==(e=null==t?void 0:t.nodeSize)&&void 0!==e?e:t=>{let e=null==n?void 0:n.getElement(t.id),{size:r}=(null==e?void 0:e.attributes)||{};return r},d=t5("layout",i);if(!d)return t8.warn(`The layout of ${i} is not registered.`);let p=new(Object.getPrototypeOf(d.prototype)===aa.prototype?d:function(t,e){class n extends aa{constructor(e,n){if(super(e,n),this.instance=new t({}),this.id=this.instance.id,"stop"in this.instance&&"tick"in this.instance){let t=this.instance;this.stop=t.stop.bind(t),this.tick=e=>al(t.tick(e))}}execute(t,e){var n,r,i,o;return n=this,r=void 0,i=void 0,o=function*(){return al((yield this.instance.execute(this.graphData2LayoutModel(t),this.transformOptions((0,nl.Z)({},this.options,e)))))},new(i||(i=Promise))(function(t,e){function a(t){try{l(o.next(t))}catch(t){e(t)}}function s(t){try{l(o.throw(t))}catch(t){e(t)}}function l(e){var n;e.done?t(e.value):((n=e.value)instanceof i?n:new i(function(t){t(n)})).then(a,s)}l((o=o.apply(n,r||[])).next())})}transformOptions(t){let{onTick:e}=t;return e&&(t.onTick=t=>e(al(t))),t}graphData2LayoutModel(t){let{nodes:n=[],edges:r=[],combos:i=[]}=t,o=n.map(t=>{let e=e2(t),{data:n,style:r,combo:i}=t,o=as(t,["data","style","combo"]),a={id:e,data:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),{data:n}),i?{parentId:i}:{}),{style:r}),o)};return(null==r?void 0:r.x)&&Object.assign(a.data,{x:r.x}),(null==r?void 0:r.y)&&Object.assign(a.data,{y:r.y}),(null==r?void 0:r.z)&&Object.assign(a.data,{z:r.z}),a}),a=new Map(o.map(t=>[t.id,t])),s=r.filter(t=>{let{source:e,target:n}=t;return a.has(e)&&a.has(n)}).map(t=>{let{source:e,target:n,data:r,style:i}=t;return{id:e2(t),source:e,target:n,data:Object.assign({},r),style:Object.assign({},i)}}),l=i.map(t=>({id:e2(t),data:Object.assign({_isCombo:!0},t.data),style:Object.assign({},t.style)})),u=new ao.k({nodes:[...o,...l],edges:s});return e.model.model.hasTreeStructure(t2)&&(u.attachTreeStructure(t2),o.forEach(t=>{let n=e.model.model.getParent(t.id,t2);n&&u.hasNode(n.id)&&u.setParent(t.id,n.id,t2)})),u}}return n}(d,this.context))(this.context),f={nodeSize:h,width:u,height:c,center:[u/2,c/2]};switch(p.id){case"d3-force":case"d3-force-3d":Object.assign(f,{center:{x:u/2,y:c/2,z:0}})}return(0,nl.Z)(p.options,f,l),p}updateElementPosition(t,e){let{model:n,element:r}=this.context;return r?(n.updateData(t),r.draw({animation:e,silence:!0})):null}destroy(){var t;this.stopLayout(),this.context={},null===(t=this.supervisor)||void 0===t||t.kill(),this.supervisor=void 0,this.instance=void 0,this.instances=[],this.animationResult=void 0}}let dI=(t,e)=>{var n;let[r,i]=e;null===(n=t.nodes)||void 0===n||n.forEach(t=>{if(t.style){let{x:e=0,y:n=0}=t.style;t.style.x=e+r,t.style.y=n+i}else t.style={x:r,y:i}})};class dZ extends ni{constructor(t){super(t),this.category="plugin",this.setPlugins(this.context.options.plugins||[])}setPlugins(t){this.setExtensions(t)}getPluginInstance(t){let e=this.extensionMap[t];if(e)return e;t8.warn(`Cannot find the plugin ${t}, will try to find it by type.`);let n=this.extensions.find(e=>e.type===t);if(n)return this.extensionMap[n.key]}}let dj=["update-related-edges","collapse-expand-node","collapse-expand-combo","get-edge-actual-ends","arrange-draw-order"];class d_ extends ni{constructor(t){super(t),this.category="transform",this.setTransforms(this.context.options.transforms||[])}getTransforms(){}setTransforms(t){this.setExtensions([...dj.slice(0,dj.length-1),...t,dj[dj.length-1]])}getTransformInstance(t){return t?this.extensionMap[t]:this.extensionMap}}var dB=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(a,s)}l((r=r.apply(t,e||[])).next())})};class dF{get padding(){return ev(this.context.options.padding)}get paddingOffset(){let[t,e,n,r]=this.padding,[i,o,a]=[(r-e)/2,(t-n)/2,0];return[i,o,a]}constructor(t){this.landmarkCounter=0,this.context=t;let[e,n]=this.paddingOffset,{zoom:r,rotation:i,x:o=e,y:a=n}=t.options;this.transform({mode:"absolute",scale:r,translate:[o,a],rotate:i},!1)}get camera(){let{canvas:t}=this.context;return new Proxy(t.getCamera(),{get:(e,n)=>{let r=Object.entries(t.getLayers()).filter(([t])=>!["main"].includes(t)).map(([,t])=>t.getCamera()),i=e[n];if("function"==typeof i)return(...t)=>{let o=i.apply(e,t);return r.forEach(e=>{e[n].apply(e,t)}),o}}})}createLandmark(t){return this.camera.createLandmark(`landmark-${this.landmarkCounter++}`,t)}getAnimation(t){let e=en(this.context.options,t);return!!e&&(0,iq.Z)(Object.assign({},e),["easing","duration"])}getCanvasSize(){let{canvas:t}=this.context,{width:e=0,height:n=0}=t.getConfig();return[e,n]}getCanvasCenter(){let{canvas:t}=this.context,{width:e=0,height:n=0}=t.getConfig();return[e/2,n/2,0]}getViewportCenter(){let[t,e]=this.camera.getPosition();return[t,e,0]}getGraphCenter(){return this.context.graph.getViewportByCanvas(this.getCanvasCenter())}getZoom(){return this.camera.getZoom()}getRotation(){return this.camera.getRoll()}getTranslateOptions(t){let{camera:e}=this,{mode:n,translate:r=[]}=t,i=this.getZoom(),o=e.getPosition(),a=e.getFocalPoint(),[s,l]=this.getCanvasCenter(),[u=0,c=0,h=0]=r,d=np([-u,-c,-h],i);return"relative"===n?{position:nc(o,d),focalPoint:nc(a,d)}:{position:nc([s,l,o[2]],d),focalPoint:nc([s,l,a[2]],d)}}getRotateOptions(t){let{mode:e,rotate:n=0}=t;return{roll:"relative"===e?this.camera.getRoll()+n:n}}getZoomOptions(t){let{zoomRange:e}=this.context.options,n=this.camera.getZoom(),{mode:r,scale:i=1}=t;return(0,Q.Z)("relative"===r?n*i:i,...e)}transform(t,e){return dB(this,void 0,void 0,function*(){let{graph:n}=this.context,{translate:r,rotate:i,scale:o,origin:a}=t;this.cancelAnimation();let s=this.getAnimation(e);if(h6(n,new h3(A.BEFORE_TRANSFORM,t)),!i&&o&&!r&&a&&!s){this.camera.setZoomByViewportPoint(this.getZoomOptions(t),a),h6(n,new h3(A.AFTER_TRANSFORM,t));return}let l={};if(r&&Object.assign(l,this.getTranslateOptions(t)),(0,$.Z)(i)&&Object.assign(l,this.getRotateOptions(t)),(0,$.Z)(o)&&Object.assign(l,{zoom:this.getZoomOptions(t)}),s)return h6(n,new h1(A.BEFORE_ANIMATE,w.TRANSFORM,null,t)),new Promise(e=>{this.transformResolver=e,this.camera.gotoLandmark(this.createLandmark(l),Object.assign(Object.assign({},s),{onfinish:()=>{h6(n,new h1(A.AFTER_ANIMATE,w.TRANSFORM,null,t)),h6(n,new h3(A.AFTER_TRANSFORM,t)),this.transformResolver=void 0,e()}}))});this.camera.gotoLandmark(this.createLandmark(l),{duration:0}),h6(n,new h3(A.AFTER_TRANSFORM,t))})}fitView(t,e){return dB(this,void 0,void 0,function*(){let[n,r,i,o]=this.padding,{when:a="always",direction:s="both"}=t||{},[l,u]=this.context.canvas.getSize(),c=l-o-r,h=u-n-i,d=this.context.canvas.getBounds(),[p,f]=ex(this.getBBoxInViewport(d));if("overflow"===a&&!("x"===s&&p>=c||"y"===s&&f>=h||"both"===s&&p>=c&&f>=h))return yield this.fitCenter({animation:e});let g=c/p,m=h/f,v="x"===s?g:"y"===s?m:Math.min(g,m),y=this.getAnimation(e);yield this.transform({mode:"relative",scale:v,translate:nc(nh(this.getCanvasCenter(),this.getBBoxInViewport(d).center),np(this.paddingOffset,v))},y)})}fitCenter(t){return dB(this,void 0,void 0,function*(){let e=this.context.canvas.getBounds();yield this.focus(e,t)})}focusElements(t){return dB(this,arguments,void 0,function*(t,e={}){let{element:n}=this.context;if(!n)return;let r=t=>e.shapes?t.getShape(e.shapes).getRenderBounds():t.getRenderBounds(),i=eM(t.map(t=>r(n.getElement(t))));yield this.focus(i,e)})}focus(t,e){return dB(this,void 0,void 0,function*(){let n=this.context.graph.getViewportByCanvas(t.center),r=nh(e.position||this.getCanvasCenter(),n);yield this.transform({mode:"relative",translate:nc(r,this.paddingOffset)},e.animation)})}getBBoxInViewport(t){let{min:e,max:n}=t,{graph:r}=this.context,[i,o]=r.getViewportByCanvas(e),[a,s]=r.getViewportByCanvas(n),l=new F.mN;return l.setMinMax([i,o,0],[a,s,0]),l}isInViewport(t,e=!1,n=0){let{graph:r}=this.context,i=this.getCanvasSize(),[o,a]=r.getCanvasByViewport([0,0]),[s,l]=r.getCanvasByViewport(i),u=new F.mN;return u.setMinMax([o,a,0],[s,l,0]),n&&(u=eS(u,n)),eg(t)?ek(t,u):e?function(t,e){let[n,r]=t.min,[i,o]=t.max,[a,s]=e.min,[l,u]=e.max;return n>=a&&i<=l&&r>=s&&o<=u}(t,u):u.intersects(t)}cancelAnimation(){var t,e;(null===(t=this.camera.landmarks)||void 0===t?void 0:t.length)&&this.camera.cancelLandmarkAnimation(),null===(e=this.transformResolver)||void 0===e||e.call(this)}}var dz=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(a,s)}l((r=r.apply(t,e||[])).next())})};class dW extends sD.Z{constructor(t){var e;super(),this.rendered=!1,this.destroyed=!1,this.context={model:new du},this.isCollapsingExpanding=!1,this.onResize=at(()=>{this.resize()},300),this.options=Object.assign({},dW.defaultOptions,t),this._setOptions(this.options,!0),this.context.graph=this,this.options.autoResize&&(null===(e=globalThis.addEventListener)||void 0===e||e.call(globalThis,"resize",this.onResize))}getOptions(){return this.options}setOptions(t){this._setOptions(t,!1)}_setOptions(t,e){if(this.updateCanvas(t),e){let{data:e}=t;e&&this.addData(e);return}Object.assign(this.options,t);let{behaviors:n,combo:r,data:i,edge:o,layout:a,node:s,plugins:l,theme:u,transforms:c}=t;n&&this.setBehaviors(n),i&&this.setData(i),s&&this.setNode(s),o&&this.setEdge(o),r&&this.setCombo(r),a&&this.setLayout(a),u&&this.setTheme(u),l&&this.setPlugins(l),c&&this.setTransforms(c)}getSize(){return this.context.canvas?this.context.canvas.getSize():[this.options.width||0,this.options.height||0]}setSize(t,e){t&&(this.options.width=t),e&&(this.options.height=e),this.resize(t,e)}setZoomRange(t){this.options.zoomRange=t}getZoomRange(){return this.options.zoomRange}setNode(t){this.options.node=t,this.context.model.refreshData()}setEdge(t){this.options.edge=t,this.context.model.refreshData()}setCombo(t){this.options.combo=t,this.context.model.refreshData()}getTheme(){return this.options.theme}setTheme(t){this.options.theme=(0,eu.Z)(t)?t(this.getTheme()):t}setLayout(t){this.options.layout=(0,eu.Z)(t)?t(this.getLayout()):t}getLayout(){return this.options.layout}setBehaviors(t){var e;this.options.behaviors=(0,eu.Z)(t)?t(this.getBehaviors()):t,null===(e=this.context.behavior)||void 0===e||e.setBehaviors(this.options.behaviors)}updateBehavior(t){this.setBehaviors(e=>e.map(e=>"object"==typeof e&&e.key===t.key?Object.assign(Object.assign({},e),t):e))}getBehaviors(){return this.options.behaviors||[]}setPlugins(t){var e;this.options.plugins=(0,eu.Z)(t)?t(this.getPlugins()):t,null===(e=this.context.plugin)||void 0===e||e.setPlugins(this.options.plugins)}updatePlugin(t){this.setPlugins(e=>e.map(e=>"object"==typeof e&&e.key===t.key?Object.assign(Object.assign({},e),t):e))}getPlugins(){return this.options.plugins||[]}getPluginInstance(t){return this.context.plugin.getPluginInstance(t)}setTransforms(t){var e;this.options.transforms=(0,eu.Z)(t)?t(this.getTransforms()):t,null===(e=this.context.transform)||void 0===e||e.setTransforms(this.options.transforms)}updateTransform(t){this.setTransforms(e=>e.map(e=>"object"==typeof e&&e.key===t.key?Object.assign(Object.assign({},e),t):e)),this.context.model.refreshData()}getTransforms(){return this.options.transforms||[]}getData(){return this.context.model.getData()}getElementData(t){return Array.isArray(t)?t.map(t=>this.context.model.getElementDataById(t)):this.context.model.getElementDataById(t)}getNodeData(t){var e;return void 0===t?this.context.model.getNodeData():Array.isArray(t)?this.context.model.getNodeData(t):null===(e=this.context.model.getNodeData([t]))||void 0===e?void 0:e[0]}getEdgeData(t){var e;return void 0===t?this.context.model.getEdgeData():Array.isArray(t)?this.context.model.getEdgeData(t):null===(e=this.context.model.getEdgeData([t]))||void 0===e?void 0:e[0]}getComboData(t){var e;return void 0===t?this.context.model.getComboData():Array.isArray(t)?this.context.model.getComboData(t):null===(e=this.context.model.getComboData([t]))||void 0===e?void 0:e[0]}setData(t){this.context.model.setData((0,eu.Z)(t)?t(this.getData()):t)}addData(t){this.context.model.addData((0,eu.Z)(t)?t(this.getData()):t)}addNodeData(t){this.context.model.addNodeData((0,eu.Z)(t)?t(this.getNodeData()):t)}addEdgeData(t){this.context.model.addEdgeData((0,eu.Z)(t)?t(this.getEdgeData()):t)}addComboData(t){this.context.model.addComboData((0,eu.Z)(t)?t(this.getComboData()):t)}addChildrenData(t,e){this.context.model.addChildrenData(t,e)}updateData(t){this.context.model.updateData((0,eu.Z)(t)?t(this.getData()):t)}updateNodeData(t){this.context.model.updateNodeData((0,eu.Z)(t)?t(this.getNodeData()):t)}updateEdgeData(t){this.context.model.updateEdgeData((0,eu.Z)(t)?t(this.getEdgeData()):t)}updateComboData(t){this.context.model.updateComboData((0,eu.Z)(t)?t(this.getComboData()):t)}removeData(t){this.context.model.removeData((0,eu.Z)(t)?t(this.getData()):t)}removeNodeData(t){this.context.model.removeNodeData((0,eu.Z)(t)?t(this.getNodeData()):t)}removeEdgeData(t){this.context.model.removeEdgeData((0,eu.Z)(t)?t(this.getEdgeData()):t)}removeComboData(t){this.context.model.removeComboData((0,eu.Z)(t)?t(this.getComboData()):t)}getElementType(t){return this.context.model.getElementType(t)}getRelatedEdgesData(t,e="both"){return this.context.model.getRelatedEdgesData(t,e)}getNeighborNodesData(t){return this.context.model.getNeighborNodesData(t)}getAncestorsData(t,e){return this.context.model.getAncestorsData(t,e)}getParentData(t,e){return this.context.model.getParentData(t,e)}getChildrenData(t){return this.context.model.getChildrenData(t)}getDescendantsData(t){return this.context.model.getDescendantsData(t)}getElementDataByState(t,e){return this.context.model.getElementDataByState(t,e)}initCanvas(){return dz(this,void 0,void 0,function*(){var t;if(this.context.canvas)return yield this.context.canvas.ready;let{container:e="container",width:n,height:r,renderer:i,cursor:o,background:a,canvas:s,devicePixelRatio:l=null!==(t=globalThis.devicePixelRatio)&&void 0!==t?t:1}=this.options;if(e instanceof hq)this.context.canvas=e,o&&e.setCursor(o),i&&e.setRenderer(i),yield e.ready;else{let t=(0,G.Z)(e)?document.getElementById(e):e,u=hJ(t);this.emit(A.BEFORE_CANVAS_INIT,{container:t,width:n,height:r});let c=new hq(Object.assign(Object.assign({},s),{container:t,width:n||u[0],height:r||u[1],background:a,renderer:i,cursor:o,devicePixelRatio:l}));this.context.canvas=c,yield c.ready,this.emit(A.AFTER_CANVAS_INIT,{canvas:c})}})}updateCanvas(t){var e,n;let{renderer:r,cursor:i,height:o,width:a}=t,s=this.context.canvas;s&&(r&&(this.emit(A.BEFORE_RENDERER_CHANGE,{renderer:this.options.renderer}),s.setRenderer(r),this.emit(A.AFTER_RENDERER_CHANGE,{renderer:r})),i&&s.setCursor(i),((0,$.Z)(a)||(0,$.Z)(o))&&this.setSize(null!==(e=null!=a?a:this.options.width)&&void 0!==e?e:0,null!==(n=null!=o?o:this.options.height)&&void 0!==n?n:0))}initRuntime(){this.context.options=this.options,this.context.batch||(this.context.batch=new h7(this.context)),this.context.plugin||(this.context.plugin=new dZ(this.context)),this.context.viewport||(this.context.viewport=new dF(this.context)),this.context.transform||(this.context.transform=new d_(this.context)),this.context.element||(this.context.element=new dh(this.context)),this.context.animation||(this.context.animation=new h9(this.context)),this.context.layout||(this.context.layout=new dN(this.context)),this.context.behavior||(this.context.behavior=new dt(this.context))}prepare(){return dz(this,void 0,void 0,function*(){if(yield Promise.resolve(),this.destroyed)throw Error(t4("The graph instance has been destroyed"));yield this.initCanvas(),this.initRuntime()})}render(){return dz(this,void 0,void 0,function*(){yield this.prepare(),h6(this,new h0(A.BEFORE_RENDER));let t=this.context.element.draw({type:"render"});yield Promise.all([null==t?void 0:t.finished,this.context.layout.layout()]),yield this.autoFit(),this.rendered=!0,h6(this,new h0(A.AFTER_RENDER))})}draw(){return dz(this,void 0,void 0,function*(){var t;yield this.prepare(),yield null===(t=this.context.element.draw())||void 0===t?void 0:t.finished})}layout(){return dz(this,void 0,void 0,function*(){yield this.context.layout.layout()})}stopLayout(){this.context.layout.stopLayout()}clear(){return dz(this,void 0,void 0,function*(){this.context.model.setData({}),yield this.draw()})}destroy(){var t;h6(this,new h0(A.BEFORE_DESTROY));let{layout:e,animation:n,element:r,model:i,canvas:o,behavior:a,plugin:s}=this.context;null==s||s.destroy(),null==a||a.destroy(),null==e||e.destroy(),null==n||n.destroy(),null==r||r.destroy(),i.destroy(),null==o||o.destroy(),this.options={},this.context={},this.off(),null===(t=globalThis.removeEventListener)||void 0===t||t.call(globalThis,"resize",this.onResize),this.destroyed=!0,h6(this,new h0(A.AFTER_DESTROY))}getCanvas(){return this.context.canvas}resize(t,e){var n;let r=hJ(null===(n=this.context.canvas)||void 0===n?void 0:n.getContainer()),i=[t||r[0],e||r[1]];this.context.canvas&&(tJ(i,this.context.canvas.getSize())||(h6(this,new h0(A.BEFORE_SIZE_CHANGE,{size:i})),this.context.canvas.resize(...i),h6(this,new h0(A.AFTER_SIZE_CHANGE,{size:i}))))}fitView(t,e){return dz(this,void 0,void 0,function*(){var n;yield null===(n=this.context.viewport)||void 0===n?void 0:n.fitView(t,e)})}fitCenter(t){return dz(this,void 0,void 0,function*(){var e;yield null===(e=this.context.viewport)||void 0===e?void 0:e.fitCenter({animation:t})})}autoFit(){return dz(this,void 0,void 0,function*(){let{autoFit:t}=this.context.options;if(t){if((0,G.Z)(t))"view"===t?yield this.fitView():"center"===t&&(yield this.fitCenter());else{let{type:e,animation:n}=t;"view"===e?yield this.fitView(t.options,n):"center"===e&&(yield this.fitCenter(n))}}})}focusElement(t,e){return dz(this,void 0,void 0,function*(){var n;yield null===(n=this.context.viewport)||void 0===n?void 0:n.focusElements(Array.isArray(t)?t:[t],{animation:e})})}zoomBy(t,e,n){return dz(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"relative",scale:t,origin:n},e)})}zoomTo(t,e,n){return dz(this,void 0,void 0,function*(){this.context.viewport.transform({mode:"absolute",scale:t,origin:n},e)})}getZoom(){return this.context.viewport.getZoom()}rotateBy(t,e,n){return dz(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"relative",rotate:t,origin:n},e)})}rotateTo(t,e,n){return dz(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"absolute",rotate:t,origin:n},e)})}getRotation(){return this.context.viewport.getRotation()}translateBy(t,e){return dz(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"relative",translate:t},e)})}translateTo(t,e){return dz(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"absolute",translate:t},e)})}getPosition(){return nh([0,0],this.getCanvasByViewport([0,0]))}translateElementBy(t,e){return dz(this,arguments,void 0,function*(t,e,n=!0){var r;let[i,o]=(0,tQ.Z)(t)?[t,null==e||e]:[{[t]:e},n];Object.entries(i).forEach(([t,e])=>this.context.model.translateNodeLikeBy(t,e)),yield null===(r=this.context.element.draw({animation:o,stage:"translate"}))||void 0===r?void 0:r.finished})}translateElementTo(t,e){return dz(this,arguments,void 0,function*(t,e,n=!0){var r;let[i,o]=(0,tQ.Z)(t)?[t,null==e||e]:[{[t]:e},n];Object.entries(i).forEach(([t,e])=>this.context.model.translateNodeLikeTo(t,e)),yield null===(r=this.context.element.draw({animation:o,stage:"translate"}))||void 0===r?void 0:r.finished})}getElementPosition(t){return this.context.model.getElementPosition(t)}getElementRenderStyle(t){return a$(this.context.element.getElement(t).attributes,["context"])}setElementVisibility(t,e){return dz(this,arguments,void 0,function*(t,e,n=!0){var r;let[i,o]=(0,tQ.Z)(t)?[t,null==e||e]:[{[t]:e},n],a={nodes:[],edges:[],combos:[]};Object.entries(i).forEach(([t,e])=>{let n=this.getElementType(t);a[`${n}s`].push({id:t,style:{visibility:e}})});let{model:s,element:l}=this.context;s.preventUpdateNodeLikeHierarchy(()=>{s.updateData(a)}),yield null===(r=l.draw({animation:o,stage:"visibility"}))||void 0===r?void 0:r.finished})}showElement(t,e){return dz(this,void 0,void 0,function*(){let n=Array.isArray(t)?t:[t];yield this.setElementVisibility(Object.fromEntries(n.map(t=>[t,"visible"])),e)})}hideElement(t,e){return dz(this,void 0,void 0,function*(){let n=Array.isArray(t)?t:[t];yield this.setElementVisibility(Object.fromEntries(n.map(t=>[t,"hidden"])),e)})}getElementVisibility(t){var e,n;let r=this.context.element.getElement(t);return null!==(n=null===(e=null==r?void 0:r.style)||void 0===e?void 0:e.visibility)&&void 0!==n?n:"visible"}setElementZIndex(t,e){return dz(this,void 0,void 0,function*(){var n;let r={nodes:[],edges:[],combos:[]};Object.entries((0,tQ.Z)(t)?t:{[t]:e}).forEach(([t,e])=>{let n=this.getElementType(t);r[`${n}s`].push({id:t,style:{zIndex:e}})});let{model:i,element:o}=this.context;i.preventUpdateNodeLikeHierarchy(()=>i.updateData(r)),yield null===(n=o.draw({animation:!1,stage:"zIndex"}))||void 0===n?void 0:n.finished})}frontElement(t){return dz(this,void 0,void 0,function*(){let e=Array.isArray(t)?t:[t],{model:n}=this.context,r={};e.map(t=>{let e=n.getFrontZIndex(t);if("combo"===n.getElementType(t)){let i=n.getAncestorsData(t,t2).at(-1)||this.getComboData(t),o=[i,...n.getDescendantsData(e2(i))],a=e-h5(i);o.forEach(t=>{r[e2(t)]=this.getElementZIndex(e2(t))+a});let{internal:s}=om(o.map(e2),t=>n.getRelatedEdgesData(t));s.forEach(t=>{let e=e2(t);r[e]=this.getElementZIndex(e)+a})}else r[t]=e}),yield this.setElementZIndex(r)})}getElementZIndex(t){return h5(this.context.model.getElementDataById(t))}setElementState(t,e){return dz(this,arguments,void 0,function*(t,e,n=!0){var r;let[i,o]=(0,tQ.Z)(t)?[t,null==e||e]:[{[t]:e},n],a=t=>t?Array.isArray(t)?t:[t]:[],s={nodes:[],edges:[],combos:[]};Object.entries(i).forEach(([t,e])=>{let n=this.getElementType(t);s[`${n}s`].push({id:t,states:a(e)})}),this.updateData(s),yield null===(r=this.context.element.draw({animation:o,stage:"state"}))||void 0===r?void 0:r.finished})}getElementState(t){return this.context.model.getElementState(t)}getElementRenderBounds(t){return this.context.element.getElement(t).getRenderBounds()}collapseElement(t){return dz(this,arguments,void 0,function*(t,e=!0){let{model:n,element:r}=this.context;if(nY(n.getNodeLikeData([t])[0])||this.isCollapsingExpanding)return;"boolean"==typeof e&&(e={animation:e,align:!0});let i=n.getElementType(t);yield this.frontElement(t),this.isCollapsingExpanding=!0,this.setElementCollapsibility(t,!0),"node"===i?yield r.collapseNode(t,e):"combo"===i&&(yield r.collapseCombo(t,!!e.animation)),this.isCollapsingExpanding=!1})}expandElement(t){return dz(this,arguments,void 0,function*(t,e=!0){let{model:n,element:r}=this.context;if(!nY(n.getNodeLikeData([t])[0])||this.isCollapsingExpanding)return;"boolean"==typeof e&&(e={animation:e,align:!0});let i=n.getElementType(t);this.isCollapsingExpanding=!0,this.setElementCollapsibility(t,!1),"node"===i?yield r.expandNode(t,e):"combo"===i&&(yield r.expandCombo(t,!!e.animation)),this.isCollapsingExpanding=!1})}setElementCollapsibility(t,e){let n=this.getElementType(t);"node"===n?this.updateNodeData([{id:t,style:{collapsed:e}}]):"combo"===n&&this.updateComboData([{id:t,style:{collapsed:e}}])}toDataURL(){return dz(this,arguments,void 0,function*(t={}){return this.context.canvas.toDataURL(t)})}getCanvasByViewport(t){return this.context.canvas.getCanvasByViewport(t)}getViewportByCanvas(t){return this.context.canvas.getViewportByCanvas(t)}getClientByCanvas(t){return this.context.canvas.getClientByCanvas(t)}getCanvasByClient(t){return this.context.canvas.getCanvasByClient(t)}getViewportCenter(){return this.context.viewport.getViewportCenter()}getCanvasCenter(){return this.context.viewport.getCanvasCenter()}on(t,e,n){return super.on(t,e,n)}once(t,e){return super.once(t,e)}off(t,e){return super.off(t,e)}}dW.defaultOptions={autoResize:!1,theme:"light",rotation:0,zoom:1,zoomRange:[.01,10]};class dV extends hN{beforeDraw(t){let{add:e,update:n}=t,{model:r}=this.context;return[...e.edges.entries(),...n.edges.entries()].forEach(([,t])=>{dH(r,t)}),t}}let dH=(t,e)=>{let{source:n,target:r}=e,i=t.getElementDataById(n),o=t.getElementDataById(r),a=ov(i,e=>t.getParentData(e,t2)),s=ov(o,e=>t.getParentData(e,t2)),l={sourceNode:e2(a),targetNode:e2(s)};return e.style?Object.assign(e.style,l):e.style=l,e},dG=(t,e,n)=>{let[r,i]=e,[o,a]=n;return i===r?o:o+(t-r)/(i-r)*(a-o)},d$=(t,e,n)=>{let[r,i]=e,[o,a]=n;return o+Math.log(t-r+1)/Math.log(i-r+1)*(a-o)},dU=(t,e,n,r=2)=>{let[i,o]=e,[a,s]=n;return a+Math.pow((t-i)/(o-i),r)*(s-a)},dq=(t,e,n)=>{let[r,i]=e,[o,a]=n;return o+Math.sqrt((t-r)/(i-r))*(a-o)};class dK extends hN{constructor(t,e){super(t,(0,nl.Z)({},dK.defaultOptions,e)),this.assignSizeByCentrality=(t,e,n,r,i,o)=>{let a=[e,n],s=[r[0],i[0]],l=[r[1],i[1]],u=[r[2],i[2]],c=(t,e)=>{if("function"==typeof o)return o(t,a,e);switch(o){case"linear":return dG(t,a,e);case"log":return d$(t,a,e);case"pow":return dU(t,a,e,2);case"sqrt":return dq(t,a,e);default:return e[0]}};return[c(t,s),c(t,l),c(t,u)]}}beforeDraw(t){let{model:e}=this.context,n=e.getNodeData(),r=n6(this.options.maxSize),i=n6(this.options.minSize),o=this.getCentralities(this.options.centrality),a=o.size>0?Math.max(...o.values()):0,s=o.size>0?Math.min(...o.values()):0;return n.forEach(e=>{var n;let l=this.assignSizeByCentrality(o.get(e2(e))||0,s,a,i,r,this.options.scale),u=null===(n=this.context.element)||void 0===n?void 0:n.getElement(e2(e)),c={size:l};this.assignLabelStyle(c,l,e,u),u&&hj(c,u.attributes)||hZ(t,u?"update":"add","node",(0,nl.Z)(e,{style:c}),!0)}),t}assignLabelStyle(t,e,n,r){var i;let o=r?r.config.style:null===(i=this.context.element)||void 0===i?void 0:i.getElementComputedStyle("node",n);if(Object.assign(t,(0,iq.Z)(o,["labelFontSize","labelLineHeight"])),this.options.mapLabelSize){let n=this.getLabelSizeByNodeSize(e,1/0,Number(t.labelFontSize));Object.assign(t,{labelFontSize:n,labelLineHeight:n+function(t=0){let e=ev(t);return e[0]+e[2]}(t.labelPadding)})}return t}getLabelSizeByNodeSize(t,e,n){let r=Math.min(...t)/2,[i,o]=Array.isArray(this.options.mapLabelSize)?this.options.mapLabelSize:[n,e];return Math.min(o,Math.max(r,i))}getCentralities(t){let{model:e}=this.context,n=e.getData();return"function"==typeof t?t(n):e6(n,e.getRelatedEdgesData.bind(e),t)}}dK.defaultOptions={centrality:{type:"degree"},maxSize:80,minSize:20,scale:"linear",mapLabelSize:!1};class dY extends hN{constructor(t,e){super(t,Object.assign({},dY.defaultOptions,e))}get ref(){return this.context.model.getRootsData()[0]}afterLayout(){var t;let e=nO(this.ref),{graph:n,model:r}=this.context;null===(t=r.getData().nodes)||void 0===t||t.forEach(t=>{var i;if(e2(t)===e2(this.ref))return;let o=nw(nh(nO(t),e)),a=Math.abs(o)>Math.PI/2,s=!t.children||0===t.children.length,l=e2(t),u=null===(i=this.context.element)||void 0===i?void 0:i.getElement(l);if(!u||!u.isVisible())return;let c=(s?1:-1)*(n6(n.getElementRenderStyle(l).size)[0]/2+this.options.offset),h=[["translate",c*Math.cos(o),c*Math.sin(o)],["rotate",a?(0,F.BV)(o)+180:(0,F.BV)(o)]];r.updateNodeData([{id:e2(t),style:{labelTextAlign:a===s?"right":"left",labelTextBaseline:"middle",labelTransform:h}}])}),n.draw()}}dY.defaultOptions={offset:5};var dX=n(79715);let dJ=["top","top-right","right","right-bottom","bottom","bottom-left","left","left-top"];class dQ extends hN{constructor(t,e){super(t,Object.assign({},dQ.defaultOptions,e)),this.cacheMergeStyle=new Map,this.getAffectedParallelEdges=t=>{let{add:{edges:e},update:{nodes:n,edges:r,combos:i},remove:{edges:o}}=t,{model:a}=this.context,s=new Map,l=(t,e)=>{a.getRelatedEdgesData(e).forEach(t=>!s.has(e2(t))&&s.set(e2(t),t))};n.forEach(l),i.forEach(l);let u=t=>{d1(t,a.getEdgeData().map(t=>dH(a,t)),!0).forEach(t=>!s.has(e2(t))&&s.set(e2(t),t))};if(o.size&&o.forEach(u),e.size&&e.forEach(u),r.size){let t=sI(sN(a.getChanges())).update.edges;r.forEach(e=>{var n;u(e);let r=null===(n=t.find(t=>e2(t.value)===e2(e)))||void 0===n?void 0:n.original;r&&!d2(e,r)&&u(r)})}ru(this.options.edges)||s.forEach((t,e)=>!this.options.edges.includes(e)&&s.delete(e));let c=a.getEdgeData().map(e2);return new Map([...s].sort((t,e)=>c.indexOf(t[0])-c.indexOf(e[0])))},this.applyBundlingStyle=(t,e,n)=>{let{edgeMap:r,reverses:i}=d0(e);r.forEach(e=>{e.forEach((e,r,o)=>{var a;let s=o.length,l=e.style||{};if(e.source===e.target){let t=dJ.length;l.loopPlacement=dJ[r%t],l.loopDist=Math.floor(r/t)*n+50}else if(1===s)l.curveOffset=0;else{let t=(r%2==0?1:-1)*(i[`${e.source}|${e.target}|${r}`]?-1:1);l.curveOffset=s%2==1?t*Math.ceil(r/2)*n*2:t*(Math.floor(r/2)*n*2+n)}let u=Object.assign(e,{type:"quadratic",style:l}),c=null===(a=this.context.element)||void 0===a?void 0:a.getElement(e2(e));c&&hj(u.style,c.attributes)||hZ(t,c?"update":"add","edge",u,!0)})})},this.resetEdgeStyle=t=>{let e=t.style||{},n=this.cacheMergeStyle.get(e2(t))||{};return Object.keys(n).forEach(r=>{tJ(e[r],n[r])&&(t[r]?e[r]=t[r]:delete e[r])}),Object.assign(t,{style:e})},this.applyMergingStyle=(t,e)=>{let{edgeMap:n,reverses:r}=d0(e);n.forEach(e=>{var n;if(1===e.length){let r=e[0],i=null===(n=this.context.element)||void 0===n?void 0:n.getElement(e2(r)),o=this.resetEdgeStyle(r);i&&hj(o,i.attributes)||hZ(t,i?"update":"add","edge",o);return}let i=e.map(({source:t,target:e,style:n={}},i)=>{let{startArrow:o,endArrow:a}=n,s={},[l,u]=r[`${t}|${e}|${i}`]?["endArrow","startArrow"]:["startArrow","endArrow"];return(0,dX.Z)(o)&&(s[l]=o),(0,dX.Z)(a)&&(s[u]=a),s}).reduce((t,e)=>Object.assign(Object.assign({},t),e),{});e.forEach((e,n,r)=>{var o;if(0!==n){hZ(t,"remove","edge",e);return}let a=Object.assign({},(0,eu.Z)(this.options.style)?this.options.style(r):this.options.style,{childrenData:r});this.cacheMergeStyle.set(e2(e),a);let s=Object.assign(Object.assign({},e),{type:"line",style:Object.assign(Object.assign(Object.assign({},e.style),i),a)}),l=null===(o=this.context.element)||void 0===o?void 0:o.getElement(e2(e));l&&hj(s.style,l.attributes)||hZ(t,l?"update":"add","edge",s,!0)})})}}beforeDraw(t){let e=this.getAffectedParallelEdges(t);return 0===e.size||("bundle"===this.options.mode?this.applyBundlingStyle(t,e,this.options.distance):this.applyMergingStyle(t,e)),t}}dQ.defaultOptions={mode:"bundle",distance:15};let d0=t=>{let e=new Map,n=new Set,r={};for(let[i,o]of t){if(n.has(i))continue;let{source:a,target:s}=o,l=`${a}-${s}`;for(let[u,c]of(e.has(l)||e.set(l,[]),e.get(l).push(o),n.add(i),t))!n.has(u)&&d2(o,c)&&(e.get(l).push(c),n.add(u),a===c.target&&s===c.source&&(r[`${c.source}|${c.target}|${e.get(l).length-1}`]=!0))}return{edgeMap:e,reverses:r}},d1=(t,e,n)=>e.filter(e=>(n||e2(e)!==e2(t))&&d2(e,t)),d2=(t,e)=>{let{sourceNode:n,targetNode:r}=t.style||{},{sourceNode:i,targetNode:o}=e.style||{};return n===i&&r===o||n===o&&r===i};class d3 extends hN{beforeDraw(t,e){let{stage:n}=e;if("visibility"===n)return t;let{model:r}=this.context,{update:{nodes:i,edges:o,combos:a}}=t,s=(t,e)=>{r.getRelatedEdgesData(e).forEach(t=>!o.has(e2(t))&&o.set(e2(t),t))};return i.forEach(s),a.forEach(s),t}}Object.entries({animation:{"combo-collapse":el,"combo-expand":el,"node-collapse":ea,"node-expand":ea,"path-in":es,"path-out":es,fade:[{fields:["opacity"]}],translate:[{fields:["x","y"]}]},behavior:{"brush-select":nz,"click-select":nK,"collapse-expand":o5,"create-edge":o7,"drag-canvas":an,"drag-element-force":ah,"drag-element":ai,"fix-element-size":ap,"focus-element":af,"hover-activate":ag,"lasso-select":am,"auto-adapt-label":ns,"optimize-viewport-transform":av,"scroll-canvas":ab,"zoom-canvas":aE},combo:{circle:i5,rect:i4},edge:{cubic:oC,line:oL,polyline:oW,quadratic:oV,"cubic-horizontal":oA,"cubic-radial":oT,"cubic-vertical":oP},layout:{"antv-dagre":aS.b,"combo-combined":ak.u,"compact-box":aw.compactBox,"d3-force":aC.j,"force-atlas2":aT.E,circular:aM.S,concentric:aO.W,dagre:aA.V,dendrogram:aw.dendrogram,fishbone:a_,force:aP.y,fruchterman:aL.O,grid:aR.M,indented:aw.indented,mds:aD.A,mindmap:aw.mindmap,radial:aN.D,random:aI._,snake:aW},node:{circle:rA,diamond:rP,ellipse:rj,hexagon:r_,html:iX,image:iQ,rect:i0,star:i1,donut:rR,triangle:i2},palette:{spectral:["rgb(158, 1, 66)","rgb(213, 62, 79)","rgb(244, 109, 67)","rgb(253, 174, 97)","rgb(254, 224, 139)","rgb(255, 255, 191)","rgb(230, 245, 152)","rgb(171, 221, 164)","rgb(102, 194, 165)","rgb(50, 136, 189)","rgb(94, 79, 162)"],tableau:["rgb(78, 121, 167)","rgb(242, 142, 44)","rgb(225, 87, 89)","rgb(118, 183, 178)","rgb(89, 161, 79)","rgb(237, 201, 73)","rgb(175, 122, 161)","rgb(255, 157, 167)","rgb(156, 117, 95)","rgb(186, 176, 171)"],oranges:["rgb(255, 245, 235)","rgb(254, 230, 206)","rgb(253, 208, 162)","rgb(253, 174, 107)","rgb(253, 141, 60)","rgb(241, 105, 19)","rgb(217, 72, 1)","rgb(166, 54, 3)","rgb(127, 39, 4)"],greens:["rgb(247, 252, 245)","rgb(229, 245, 224)","rgb(199, 233, 192)","rgb(161, 217, 155)","rgb(116, 196, 118)","rgb(65, 171, 93)","rgb(35, 139, 69)","rgb(0, 109, 44)","rgb(0, 68, 27)"],blues:["rgb(247, 251, 255)","rgb(222, 235, 247)","rgb(198, 219, 239)","rgb(158, 202, 225)","rgb(107, 174, 214)","rgb(66, 146, 198)","rgb(33, 113, 181)","rgb(8, 81, 156)","rgb(8, 48, 107)"]},theme:{dark:hR,light:hD},plugin:{"bubble-sets":sp,"edge-bundling":sb,"edge-filter-lens":sA,"grid-line":sR,background:aY,contextmenu:sy,fisheye:sP,fullscreen:sL,history:sZ,hull:sG,legend:lJ,minimap:lQ,snapline:l6,timebar:hc,toolbar:hv,tooltip:hS,watermark:hC},transform:{"arrange-draw-order":hI,"collapse-expand-combo":h_,"collapse-expand-node":hF,"get-edge-actual-ends":dV,"map-node-size":dK,"place-radial-labels":dY,"process-parallel-edges":dQ,"update-related-edges":d3},shape:{circle:F.Cd,ellipse:F.Pj,group:F.ZA,html:F.k9,image:rb,line:F.x1,path:F.y$,polygon:F.mg,polyline:F.aH,rect:F.UL,text:F.xv,label:rp,badge:rf}}).forEach(([t,e])=>{Object.entries(e).forEach(([e,n])=>{!function(t,e,n,r=!1){let i=t6[t][e];!r&&i?i!==n&&t8.warn(`The extension ${e} of ${t} has been registered before.`):Object.assign(t6[t],{[e]:n})}(t,e,n)})})},77695:function(t){var e;"undefined"!=typeof self&&self,e=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e){t.exports={assign:Object.assign,getHeight:function(t,e,n,r){return void 0===r&&(r="height"),"center"===n?(t[r]+e[r])/2:t.height}}},function(t,e,n){var r=n(3),i=function(){function t(t,e){void 0===e&&(e={}),this.options=e,this.rootNode=r(t,e)}return t.prototype.execute=function(){throw Error("please override this method")},t}();t.exports=i},function(t,e,n){var r=n(4),i=["LR","RL","TB","BT","H","V"],o=["LR","RL","H"],a=i[0];t.exports=function(t,e,n){var s=e.direction||a;if(e.isHorizontal=o.indexOf(s)>-1,s&&-1===i.indexOf(s))throw TypeError("Invalid direction: "+s);if(s===i[0])n(t,e);else if(s===i[1])n(t,e),t.right2left();else if(s===i[2])n(t,e);else if(s===i[3])n(t,e),t.bottom2top();else if(s===i[4]||s===i[5]){var l=r(t,e),u=l.left,c=l.right;n(u,e),n(c,e),e.isHorizontal?u.right2left():u.bottom2top(),c.translate(u.x-c.x,u.y-c.y),t.x=u.x,t.y=c.y;var h=t.getBoundingBox();e.isHorizontal?h.top<0&&t.translate(0,-h.top):h.left<0&&t.translate(-h.left,0)}var d=e.fixedRoot;return void 0===d&&(d=!0),d&&t.translate(-(t.x+t.width/2+t.hgap),-(t.y+t.height/2+t.vgap)),function(t,e){if(e.radial){var n=e.isHorizontal?["x","y"]:["y","x"],r=n[0],i=n[1],o={x:1/0,y:1/0},a={x:-1/0,y:-1/0},s=0;t.DFTraverse(function(t){s++;var e=t.x,n=t.y;o.x=Math.min(o.x,e),o.y=Math.min(o.y,n),a.x=Math.max(a.x,e),a.y=Math.max(a.y,n)});var l=a[i]-o[i];if(0!==l){var u=2*Math.PI/s;t.DFTraverse(function(e){var n=(e[i]-o[i])/l*(2*Math.PI-u)+u,a=e[r]-t[r];e.x=Math.cos(n)*a,e.y=Math.sin(n)*a})}}}(t,e),t}},function(t,e,n){var r=n(0),i={getId:function(t){return t.id||t.name},getPreH:function(t){return t.preH||0},getPreV:function(t){return t.preV||0},getHGap:function(t){return t.hgap||18},getVGap:function(t){return t.vgap||18},getChildren:function(t){return t.children},getHeight:function(t){return t.height||36},getWidth:function(t){var e=t.label||" ";return t.width||18*e.split("").length}};function o(t,e){if(this.vgap=this.hgap=0,t instanceof o)return t;this.data=t;var n=e.getHGap(t),r=e.getVGap(t);return this.preH=e.getPreH(t),this.preV=e.getPreV(t),this.width=e.getWidth(t),this.height=e.getHeight(t),this.width+=this.preH,this.height+=this.preV,this.id=e.getId(t),this.x=this.y=0,this.depth=0,this.children||(this.children=[]),this.addGap(n,r),this}r.assign(o.prototype,{isRoot:function(){return 0===this.depth},isLeaf:function(){return 0===this.children.length},addGap:function(t,e){this.hgap+=t,this.vgap+=e,this.width+=2*t,this.height+=2*e},eachNode:function(t){for(var e,n=[this];e=n.shift();)t(e),n=e.children.concat(n)},DFTraverse:function(t){this.eachNode(t)},BFTraverse:function(t){for(var e,n=[this];e=n.shift();)t(e),n=n.concat(e.children)},getBoundingBox:function(){var t={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(e){t.left=Math.min(t.left,e.x),t.top=Math.min(t.top,e.y),t.width=Math.max(t.width,e.x+e.width),t.height=Math.max(t.height,e.y+e.height)}),t},translate:function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.eachNode(function(n){n.x+=t,n.y+=e,n.x+=n.preH,n.y+=n.preV})},right2left:function(){var t=this.getBoundingBox();this.eachNode(function(e){e.x=e.x-(e.x-t.left)*2-e.width}),this.translate(t.width,0)},bottom2top:function(){var t=this.getBoundingBox();this.eachNode(function(e){e.y=e.y-(e.y-t.top)*2-e.height}),this.translate(0,t.height)}}),t.exports=function(t,e,n){void 0===e&&(e={});var a,s=new o(t,e=r.assign({},i,e)),l=[s];if(!n&&!t.collapsed){for(;a=l.shift();)if(!a.data.collapsed){var u=e.getChildren(a.data),c=u?u.length:0;if(a.children=Array(c),u&&c)for(var h=0;h<c;h++){var d=new o(u[h],e);a.children[h]=d,l.push(d),d.parent=a,d.depth=a.depth+1}}}return s}},function(t,e,n){var r=n(3);t.exports=function(t,e){for(var n=r(t.data,e,!0),i=r(t.data,e,!0),o=t.children.length,a=Math.round(o/2),s=e.getSide||function(t,e){return e<a?"right":"left"},l=0;l<o;l++){var u=t.children[l];"right"===s(u,l)?i.children.push(u):n.children.push(u)}return n.eachNode(function(t){t.isRoot()||(t.side="left")}),i.eachNode(function(t){t.isRoot()||(t.side="right")}),{left:n,right:i}}},function(t,e,n){var r={compactBox:n(6),dendrogram:n(8),indented:n(10),mindmap:n(12)};t.exports=r},function(t,e,n){function r(t,e){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var i=n(1),o=n(7),a=n(2),s=n(0),l=function(t){function e(){return t.apply(this,arguments)||this}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t),e.prototype.execute=function(){return a(this.rootNode,this.options,o)},e}(i),u={};t.exports=function(t,e){return new l(t,e=s.assign({},u,e)).execute()}},function(t,e){function n(t,e,n,r){void 0===r&&(r=[]),this.w=t||0,this.h=e||0,this.y=n||0,this.x=0,this.c=r||[],this.cs=r.length,this.prelim=0,this.mod=0,this.shift=0,this.change=0,this.tl=null,this.tr=null,this.el=null,this.er=null,this.msel=0,this.mser=0}n.fromNode=function(t,e){if(!t)return null;var r=[];return(t.children.forEach(function(t){r.push(n.fromNode(t,e))}),e)?new n(t.height,t.width,t.x,r):new n(t.width,t.height,t.y,r)},t.exports=function(t,e){void 0===e&&(e={});var r,i=e.isHorizontal;function o(t){0===t.cs?(t.el=t,t.er=t,t.msel=t.mser=0):(t.el=t.c[0].el,t.msel=t.c[0].msel,t.er=t.c[t.cs-1].er,t.mser=t.c[t.cs-1].mser)}function a(t){return t.y+t.h}function s(t,e,n){for(;null!==n&&t>=n.low;)n=n.nxt;return{low:t,index:e,nxt:n}}!function t(e,n,r){void 0===r&&(r=0),n?(e.x=r,r+=e.width):(e.y=r,r+=e.height),e.children.forEach(function(e){t(e,n,r)})}(t,i);var l=n.fromNode(t,i);return function t(e){if(0===e.cs){o(e);return}t(e.c[0]);for(var n=s(a(e.c[0].el),0,null),r=1;r<e.cs;++r){t(e.c[r]);var i=a(e.c[r].er);(function(t,e,n){for(var r=t.c[e-1],i=r.mod,o=t.c[e],s=o.mod;null!==r&&null!==o;){a(r)>n.low&&(n=n.nxt);var l,u,c,h=i+r.prelim+r.w-(s+o.prelim);h>0&&(s+=h,l=n.index,t.c[e].mod+=h,t.c[e].msel+=h,t.c[e].mser+=h,function(t,e,n,r){if(n!==e-1){var i=e-n;t.c[n+1].shift+=r/i,t.c[e].shift-=r/i,t.c[e].change-=r-r/i}}(t,e,l,h));var d=a(r),p=a(o);d<=p&&null!==(r=0===(u=r).cs?u.tr:u.c[u.cs-1])&&(i+=r.mod),d>=p&&null!==(o=0===(c=o).cs?c.tl:c.c[0])&&(s+=o.mod)}!r&&o?function(t,e,n,r){var i=t.c[0].el;i.tl=n;var o=r-n.mod-t.c[0].msel;i.mod+=o,i.prelim-=o,t.c[0].el=t.c[e].el,t.c[0].msel=t.c[e].msel}(t,e,o,s):r&&!o&&function(t,e,n,r){var i=t.c[e].er;i.tr=n;var o=r-n.mod-t.c[e].mser;i.mod+=o,i.prelim-=o,t.c[e].er=t.c[e-1].er,t.c[e].mser=t.c[e-1].mser}(t,e,r,i)})(e,r,n),n=s(i,r,n)}e.prelim=(e.c[0].prelim+e.c[0].mod+e.c[e.cs-1].mod+e.c[e.cs-1].prelim+e.c[e.cs-1].w)/2-e.w/2,o(e)}(l),function t(e,n){n+=e.mod,e.x=e.prelim+n,function(t){for(var e=0,n=0,r=0;r<t.cs;r++)e+=t.c[r].shift,n+=e+t.c[r].change,t.c[r].mod+=n}(e);for(var r=0;r<e.cs;r++)t(e.c[r],n)}(l,0),function t(e,n,r){r?n.y=e.x:n.x=e.x,e.c.forEach(function(e,i){t(e,n.children[i],r)})}(l,t,i),r=function t(e,n){var r=n?e.y:e.x;return e.children.forEach(function(e){r=Math.min(t(e,n),r)}),r}(t,i),function t(e,n,r){r?e.y+=n:e.x+=n,e.children.forEach(function(e){t(e,n,r)})}(t,-r,i),t}},function(t,e,n){function r(t,e){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var i=n(1),o=n(9),a=n(2),s=n(0),l=function(t){function e(){return t.apply(this,arguments)||this}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t),e.prototype.execute=function(){return this.rootNode.width=0,a(this.rootNode,this.options,o)},e}(i),u={};t.exports=function(t,e){return new l(t,e=s.assign({},u,e)).execute()}},function(t,e,n){var r=n(0);function i(t,e){void 0===t&&(t=0),void 0===e&&(e=[]),this.x=this.y=0,this.leftChild=this.rightChild=null,this.height=0,this.children=e}var o={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};t.exports=function(t,e){void 0===e&&(e={}),e=r.assign({},o,e);var n,a=0,s=function t(e){if(!e)return null;e.width=0,e.depth&&e.depth>a&&(a=e.depth);var n=e.children,r=n.length,o=new i(e.height,[]);return n.forEach(function(e,n){var i=t(e);o.children.push(i),0===n&&(o.leftChild=i),n===r-1&&(o.rightChild=i)}),o.originNode=e,o.isLeaf=e.isLeaf(),o}(t);return function t(e){if(e.isLeaf||0===e.children.length)e.drawingDepth=a;else{var n=e.children.map(function(e){return t(e)}),r=Math.min.apply(null,n);e.drawingDepth=r-1}return e.drawingDepth}(s),function t(r){r.x=r.drawingDepth*e.rankSep,r.isLeaf?(r.y=0,n&&(r.y=n.y+n.height+e.nodeSep,r.originNode.parent!==n.originNode.parent&&(r.y+=e.subTreeSep)),n=r):(r.children.forEach(function(e){t(e)}),r.y=(r.leftChild.y+r.rightChild.y)/2)}(s),function t(e,n,r){r?(n.x=e.x,n.y=e.y):(n.x=e.y,n.y=e.x),e.children.forEach(function(e,i){t(e,n.children[i],r)})}(s,t,e.isHorizontal),t}},function(t,e,n){function r(t,e){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var i=n(1),o=n(11),a=n(4),s=n(0),l=["LR","RL","H"],u=l[0],c=function(t){function e(){return t.apply(this,arguments)||this}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t),e.prototype.execute=function(){var t=this.options,e=this.rootNode;t.isHorizontal=!0;var n=t.indent,r=void 0===n?20:n,i=t.dropCap,s=void 0===i||i,c=t.direction,h=void 0===c?u:c,d=t.align;if(h&&-1===l.indexOf(h))throw TypeError("Invalid direction: "+h);if(h===l[0])o(e,r,s,d);else if(h===l[1])o(e,r,s,d),e.right2left();else if(h===l[2]){var p=a(e,t),f=p.left,g=p.right;o(f,r,s,d),f.right2left(),o(g,r,s,d);var m=f.getBoundingBox();g.translate(m.width,0),e.x=g.x-e.width/2}return e},e}(i),h={};t.exports=function(t,e){return new c(t,e=s.assign({},h,e)).execute()}},function(t,e,n){var r=n(0);t.exports=function(t,e,n,i){var o=null;t.eachNode(function(t){(function(t,e,n,i,o){var a=("function"==typeof n?n(t):n)*t.depth;if(!i)try{if(t.id===t.parent.children[0].id){t.x+=a,t.y=e?e.y:0;return}}catch(t){}if(t.x+=a,e){if(t.y=e.y+r.getHeight(e,t,o),e.parent&&t.parent.id!==e.parent.id){var s=e.parent,l=s.y+r.getHeight(s,t,o);t.y=l>t.y?l:t.y}}else t.y=0})(t,o,e,n,i),o=t})}},function(t,e,n){function r(t,e){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var i=n(1),o=n(13),a=n(2),s=n(0),l=function(t){function e(){return t.apply(this,arguments)||this}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t),e.prototype.execute=function(){return a(this.rootNode,this.options,o)},e}(i),u={};t.exports=function(t,e){return new l(t,e=s.assign({},u,e)).execute()}},function(t,e,n){var r=n(0),i={getSubTreeSep:function(){return 0}};t.exports=function(t,e){void 0===e&&(e={}),e=r.assign({},i,e),t.parent={x:0,width:0,height:0,y:0},t.BFTraverse(function(t){t.x=t.parent.x+t.parent.width}),t.parent=null,function t(e,n){var r=0;return e.children.length?e.children.forEach(function(e){r+=t(e,n)}):r=e.height,e._subTreeSep=n.getSubTreeSep(e.data),e.totalHeight=Math.max(e.height,r)+2*e._subTreeSep,e.totalHeight}(t,e),t.startY=0,t.y=t.totalHeight/2-t.height/2,t.eachNode(function(t){var e=t.children,n=e.length;if(n){var r=e[0];if(r.startY=t.startY+t._subTreeSep,1===n)r.y=t.y+t.height/2-r.height/2;else{r.y=r.startY+r.totalHeight/2-r.height/2;for(var i=1;i<n;i++){var o=e[i];o.startY=e[i-1].startY+e[i-1].totalHeight,o.y=o.startY+o.totalHeight/2-o.height/2}}}}),function t(e){var n=e.children,r=n.length;if(r){n.forEach(function(e){t(e)});var i=n[0],o=n[r-1],a=o.y-i.y+o.height,s=0;if(n.forEach(function(t){s+=t.totalHeight}),a>e.height)e.y=i.y+a/2-e.height/2;else if(1!==n.length||e.height>s){var l=e.y+(e.height-a)/2-i.y;n.forEach(function(t){t.translate(0,l)})}else e.y=(i.y+i.height/2+o.y+o.height/2)/2-e.height/2}}(t)}}])},t.exports=e()},17609:function(t,e){"use strict";e.Z=function(t,e,n){return t<e?e:t>n?n:t}},79715:function(t,e,n){"use strict";var r=n(29056);e.Z=function(t){return(0,r.Z)(t,"Boolean")}},35432:function(t,e,n){"use strict";function r(t,e,n){return void 0===n&&(n=1e-5),t===e||Math.abs(t-e)<n}n.d(e,{Z:function(){return r}})},24212:function(t,e){"use strict";e.Z=function(t){return void 0===t}},51460:function(t,e,n){"use strict";function r(t){if(!Array.isArray(t))return-1/0;var e=t.length;if(!e)return-1/0;for(var n=t[0],r=1;r<e;r++)n=Math.max(n,t[r]);return n}n.d(e,{Z:function(){return r}})},8129:function(t,e,n){"use strict";var r=n(72142);e.Z=function(t){if((0,r.Z)(t))return t.reduce(function(t,e){return Math.min(t,e)},t[0])}},89514:function(t,e){"use strict";e.Z=function(t,e){return(t%e+e)%e}},91446:function(t,e,n){"use strict";n.d(e,{Y:function(){return c}});var r=n(95666),i=n(28586),o=n(9609),a=n(56864),s=n(50963),l=n(66128),u=function(t,e,n,i){var o=(0,l.k)([t,e],[n,i],.5);return(0,r.__spreadArray)((0,r.__spreadArray)([],o,!0),[n,i,n,i],!1)};function c(t,e){if(void 0===e&&(e=!1),(0,a.y)(t)&&t.every(function(t){var e=t[0];return"MC".includes(e)})){var n,l,c=[].concat(t);return e?[c,[]]:c}for(var h=(0,o.A)(t),d=(0,r.__assign)({},i.z),p=[],f="",g=h.length,m=[],v=0;v<g;v+=1){h[v]&&(f=h[v][0]),p[v]=f;var y=function(t,e){var n,r,i,o,a,l,c,h=t[0],d=t.slice(1).map(Number),p=d[0],f=d[1],g=e.x1,m=e.y1,v=e.x,y=e.y;switch("TQ".includes(h)||(e.qx=null,e.qy=null),h){case"M":e.x=p,e.y=f;break;case"A":return c=[g,m].concat(d),["C"].concat((0,s.W)(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9]));case"Q":return e.qx=p,e.qy=f,["C"].concat((n=(c=[g,m].concat(d))[0],r=c[1],i=c[2],o=c[3],[1/3*n+2/3*i,1/3*r+2/3*o,1/3*(a=c[4])+2/3*i,1/3*(l=c[5])+2/3*o,a,l]));case"L":return["C"].concat(u(g,m,p,f));case"Z":if(g===v&&m===y)return["C",g,m,v,y,v,y];return["C"].concat(u(g,m,v,y))}return t}(h[v],d);h[v]=y,function(t,e,n){if(t[n].length>7){t[n].shift();for(var r=t[n],i=n;r.length;)e[n]="A",t.splice(i+=1,0,["C"].concat(r.splice(0,6)));t.splice(n,1)}}(h,p,v),g=h.length,"Z"===f&&m.push(v),l=(n=h[v]).length,d.x1=+n[l-2],d.y1=+n[l-1],d.x2=+n[l-4]||d.x1,d.y2=+n[l-3]||d.y1}return e?[h,m]:h}},83520:function(t,e,n){"use strict";n.d(e,{R:function(){return r}});var r={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0}},28586:function(t,e,n){"use strict";n.d(e,{z:function(){return r}});var r={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null}},50963:function(t,e,n){"use strict";function r(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}}n.d(e,{W:function(){return function t(e,n,i,o,a,s,l,u,c,h){var d,p,f,g,m,v=e,y=n,b=i,x=o,E=u,w=c,S=120*Math.PI/180,M=Math.PI/180*(+a||0),k=[];if(h)p=h[0],f=h[1],g=h[2],m=h[3];else{v=(d=r(v,y,-M)).x,y=d.y,E=(d=r(E,w,-M)).x,w=d.y;var O=(v-E)/2,C=(y-w)/2,A=O*O/(b*b)+C*C/(x*x);A>1&&(b*=A=Math.sqrt(A),x*=A);var T=b*b,P=x*x,L=(s===l?-1:1)*Math.sqrt(Math.abs((T*P-T*C*C-P*O*O)/(T*C*C+P*O*O)));g=L*b*C/x+(v+E)/2,m=-(L*x)*O/b+(y+w)/2,p=Math.asin(((y-m)/x*1e9>>0)/1e9),f=Math.asin(((w-m)/x*1e9>>0)/1e9),p=v<g?Math.PI-p:p,f=E<g?Math.PI-f:f,p<0&&(p=2*Math.PI+p),f<0&&(f=2*Math.PI+f),l&&p>f&&(p-=2*Math.PI),!l&&f>p&&(f-=2*Math.PI)}var R=f-p;if(Math.abs(R)>S){var D=f,N=E,I=w;k=t(E=g+b*Math.cos(f=p+S*(l&&f>p?1:-1)),w=m+x*Math.sin(f),b,x,a,0,l,N,I,[f,D,g,m])}R=f-p;var Z=Math.cos(p),j=Math.cos(f),_=Math.tan(R/4),B=4/3*b*_,F=4/3*x*_,z=[v,y],W=[v+B*Math.sin(p),y-F*Z],V=[E+B*Math.sin(f),w-F*j],H=[E,w];if(W[0]=2*z[0]-W[0],W[1]=2*z[1]-W[1],h)return W.concat(V,H,k);k=W.concat(V,H,k);for(var G=[],$=0,U=k.length;$<U;$+=1)G[$]=$%2?r(k[$-1],k[$],M).y:r(k[$],k[$+1],M).x;return G}}})},65678:function(t,e,n){"use strict";function r(t){return t.map(function(t){return Array.isArray(t)?[].concat(t):t})}n.d(e,{U:function(){return r}})},9609:function(t,e,n){"use strict";n.d(e,{A:function(){return p}});var r=n(95666),i=n(56864),o=n(28586),a=n(45217),s=n(92563),l=n(83520);function u(t){for(var e=t.pathValue[t.segmentStart],n=e.toLowerCase(),r=t.data;r.length>=l.R[n]&&("m"===n&&r.length>2?(t.segments.push([e].concat(r.splice(0,2))),n="l",e="m"===e?"l":"L"):t.segments.push([e].concat(r.splice(0,l.R[n]))),l.R[n]););}function c(t){return t>=48&&t<=57}function h(t){for(var e,n=t.pathValue,r=t.max;t.index<r&&(10===(e=n.charCodeAt(t.index))||13===e||8232===e||8233===e||32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e));)t.index+=1}var d=function(t){this.pathValue=t,this.segments=[],this.max=t.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""};function p(t){if((0,i.y)(t))return[].concat(t);for(var e=function(t){if((0,a.b)(t))return[].concat(t);var e=function(t){if((0,s.n)(t))return[].concat(t);var e=new d(t);for(h(e);e.index<e.max&&!e.err.length;)!function(t){var e=t.max,n=t.pathValue,r=t.index,i=n.charCodeAt(r),o=l.R[n[r].toLowerCase()];if(t.segmentStart=r,!function(t){switch(32|t){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}}(i)){t.err='[path-util]: Invalid path value "'.concat(n[r],'" is not a path command');return}if(t.index+=1,h(t),t.data=[],!o){u(t);return}for(;;){for(var a,s=o;s>0;s-=1){if((32|i)==97&&(3===s||4===s)?function(t){var e=t.index,n=t.pathValue,r=n.charCodeAt(e);if(48===r){t.param=0,t.index+=1;return}if(49===r){t.param=1,t.index+=1;return}t.err='[path-util]: invalid Arc flag "'.concat(n[e],'", expecting 0 or 1 at index ').concat(e)}(t):function(t){var e,n=t.max,r=t.pathValue,i=t.index,o=i,a=!1,s=!1,l=!1,u=!1;if(o>=n){t.err="[path-util]: Invalid path value at index ".concat(o,', "pathValue" is missing param');return}if((43===(e=r.charCodeAt(o))||45===e)&&(o+=1,e=r.charCodeAt(o)),!c(e)&&46!==e){t.err="[path-util]: Invalid path value at index ".concat(o,', "').concat(r[o],'" is not a number');return}if(46!==e){if(a=48===e,o+=1,e=r.charCodeAt(o),a&&o<n&&e&&c(e)){t.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(r[i],'" illegal number');return}for(;o<n&&c(r.charCodeAt(o));)o+=1,s=!0;e=r.charCodeAt(o)}if(46===e){for(u=!0,o+=1;c(r.charCodeAt(o));)o+=1,l=!0;e=r.charCodeAt(o)}if(101===e||69===e){if(u&&!s&&!l){t.err="[path-util]: Invalid path value at index ".concat(o,', "').concat(r[o],'" invalid float exponent');return}if(o+=1,(43===(e=r.charCodeAt(o))||45===e)&&(o+=1),o<n&&c(r.charCodeAt(o)))for(;o<n&&c(r.charCodeAt(o));)o+=1;else{t.err="[path-util]: Invalid path value at index ".concat(o,', "').concat(r[o],'" invalid integer exponent');return}}t.index=o,t.param=+t.pathValue.slice(i,o)}(t),t.err.length)return;t.data.push(t.param),h(t),t.index<e&&44===n.charCodeAt(t.index)&&(t.index+=1,h(t))}if(t.index>=t.max||!((a=n.charCodeAt(t.index))>=48&&a<=57||43===a||45===a||46===a))break}u(t)}(e);return e.err?e.err:e.segments}(t),n=0,r=0,i=0,o=0;return e.map(function(t){var e,a=t.slice(1).map(Number),s=t[0],l=s.toUpperCase();if("M"===s)return n=a[0],r=a[1],i=n,o=r,["M",n,r];if(s!==l)switch(l){case"A":e=[l,a[0],a[1],a[2],a[3],a[4],a[5]+n,a[6]+r];break;case"V":e=[l,a[0]+r];break;case"H":e=[l,a[0]+n];break;default:e=[l].concat(a.map(function(t,e){return t+(e%2?r:n)}))}else e=[l].concat(a);var u=e.length;switch(l){case"Z":n=i,r=o;break;case"H":n=e[1];break;case"V":r=e[1];break;default:n=e[u-2],r=e[u-1],"M"===l&&(i=n,o=r)}return e})}(t),n=(0,r.__assign)({},o.z),p=0;p<e.length;p+=1){e[p]=function(t,e){var n=t[0],r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=t.slice(1).map(Number),l=t;if("TQ".includes(n)||(e.qx=null,e.qy=null),"H"===n)l=["L",t[1],i];else if("V"===n)l=["L",r,t[1]];else if("S"===n){var u=2*r-o,c=2*i-a;e.x1=u,e.y1=c,l=["C",u,c].concat(s)}else if("T"===n){var h=2*r-e.qx,d=2*i-e.qy;e.qx=h,e.qy=d,l=["Q",h,d].concat(s)}else if("Q"===n){var p=s[0],f=s[1];e.qx=p,e.qy=f}return l}(e[p],n);var f=e[p],g=f.length;n.x1=+f[g-2],n.y1=+f[g-1],n.x2=+f[g-4]||n.x1,n.y2=+f[g-3]||n.y1}return e}},53866:function(t,e,n){"use strict";function r(t){var e=t.slice(1).map(function(e,n,r){return n?r[n-1].slice(-2).concat(e.slice(1)):t[0].slice(1).concat(e.slice(1))}).map(function(t){return t.map(function(e,n){return t[t.length-n-2*(1-n%2)]})}).reverse();return[["M"].concat(e[0].slice(0,2))].concat(e.map(function(t){return["C"].concat(t.slice(2))}))}n.d(e,{G:function(){return r}})},71241:function(t,e,n){"use strict";function r(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}n.d(e,{y:function(){return r}})},35509:function(t,e,n){"use strict";n.d(e,{x:function(){return function t(e,n,r){var i=o(e),a=o(n),s=i.length,l=a.length,u=i.filter(function(t){return t.l}).length,c=a.filter(function(t){return t.l}).length,h=i.filter(function(t){return t.l}).reduce(function(t,e){return t+e.l},0)/u||0,d=a.filter(function(t){return t.l}).reduce(function(t,e){return t+e.l},0)/c||0,p=r||Math.max(s,l),f=[h,d],g=[p-s,p-l],m=0,v=[i,a].map(function(t,e){return t.l===p?t.map(function(t){return t.s}):t.map(function(t,n){return m=n&&g[e]&&t.l>=f[e],g[e]-=m?1:0,m?t.ss:[t.s]}).flat()});return v[0].length===v[1].length?v:t(v[0],v[1],p)}}});var r=n(66128),i=n(34019);function o(t){return t.map(function(t,e,n){var o,a,s,l,u,c,h,d,p,f,g,m,v=e&&n[e-1].slice(-2).concat(t.slice(1)),y=e?(0,i.S)(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],{bbox:!1}).length:0;return m=e?y?(void 0===o&&(o=.5),a=v.slice(0,2),s=v.slice(2,4),l=v.slice(4,6),u=v.slice(6,8),c=(0,r.k)(a,s,o),h=(0,r.k)(s,l,o),d=(0,r.k)(l,u,o),p=(0,r.k)(c,h,o),f=(0,r.k)(h,d,o),g=(0,r.k)(p,f,o),[["C"].concat(c,p,g),["C"].concat(f,d,u)]):[t,t]:[t],{s:t,ss:m,l:y}})}},98584:function(t,e,n){"use strict";n.d(e,{b:function(){return i}});var r=n(91446);function i(t){var e,n,i;return e=0,n=0,i=0,(0,r.Y)(t).map(function(t){if("M"===t[0])return e=t[1],n=t[2],0;var r,o,a,s=t.slice(1),l=s[0],u=s[1],c=s[2],h=s[3],d=s[4],p=s[5];return o=e,i=3*((p-(a=n))*(l+c)-(d-o)*(u+h)+u*(o-c)-l*(a-h)+p*(c+o/3)-d*(h+a/3))/20,e=(r=t.slice(-2))[0],n=r[1],i}).reduce(function(t,e){return t+e},0)>=0}},82073:function(t,e,n){"use strict";n.d(e,{r:function(){return o}});var r=n(95666),i=n(77627);function o(t,e,n){return(0,i.s)(t,e,(0,r.__assign)((0,r.__assign)({},n),{bbox:!1,length:!0})).point}},27381:function(t,e,n){"use strict";n.d(e,{g:function(){return i}});var r=n(71241);function i(t,e){var n,i,o=t.length-1,a=[],s=0,l=(i=(n=t.length)-1,t.map(function(e,r){return t.map(function(e,o){var a=r+o;return 0===o||t[a]&&"M"===t[a][0]?["M"].concat(t[a].slice(-2)):(a>=n&&(a-=i),t[a])})}));return l.forEach(function(n,i){t.slice(1).forEach(function(n,a){s+=(0,r.y)(t[(i+a)%o].slice(-2),e[a%o].slice(-2))}),a[i]=s,s=0}),l[a.indexOf(Math.min.apply(null,a))]}},93238:function(t,e,n){"use strict";n.d(e,{D:function(){return o}});var r=n(95666),i=n(77627);function o(t,e){return(0,i.s)(t,void 0,(0,r.__assign)((0,r.__assign)({},e),{bbox:!1,length:!0})).length}},45217:function(t,e,n){"use strict";n.d(e,{b:function(){return i}});var r=n(92563);function i(t){return(0,r.n)(t)&&t.every(function(t){var e=t[0];return e===e.toUpperCase()})}},56864:function(t,e,n){"use strict";n.d(e,{y:function(){return i}});var r=n(45217);function i(t){return(0,r.b)(t)&&t.every(function(t){var e=t[0];return"ACLMQZ".includes(e)})}},92563:function(t,e,n){"use strict";n.d(e,{n:function(){return i}});var r=n(83520);function i(t){return Array.isArray(t)&&t.every(function(t){var e=t[0].toLowerCase();return r.R[e]===t.length-1&&"achlmqstvz".includes(e)})}},66128:function(t,e,n){"use strict";function r(t,e,n){var r=t[0],i=t[1];return[r+(e[0]-r)*n,i+(e[1]-i)*n]}n.d(e,{k:function(){return r}})},77627:function(t,e,n){"use strict";n.d(e,{s:function(){return u}});var r=n(9609),i=n(66128),o=n(71241);function a(t,e,n,r,a){var s=(0,o.y)([t,e],[n,r]),l={x:0,y:0};if("number"==typeof a){if(a<=0)l={x:t,y:e};else if(a>=s)l={x:n,y:r};else{var u=(0,i.k)([t,e],[n,r],a/s);l={x:u[0],y:u[1]}}}return{length:s,point:l,min:{x:Math.min(t,n),y:Math.min(e,r)},max:{x:Math.max(t,n),y:Math.max(e,r)}}}function s(t,e){var n=t.x,r=t.y,i=e.x,o=e.y,a=Math.sqrt((Math.pow(n,2)+Math.pow(r,2))*(Math.pow(i,2)+Math.pow(o,2)));return(n*o-r*i<0?-1:1)*Math.acos((n*i+r*o)/a)}var l=n(34019);function u(t,e,n){for(var i,u,c,h,d,p,f,g,m,v=(0,r.A)(t),y="number"==typeof e,b=[],x=0,E=0,w=0,S=0,M=[],k=[],O=0,C={x:0,y:0},A=C,T=C,P=C,L=0,R=0,D=v.length;R<D;R+=1)b=(f="M"===(g=(m=v[R])[0]))?b:[x,E].concat(m.slice(1)),f?(A=C={x:w=m[1],y:S=m[2]},O=0,y&&e<.001&&(P=C)):"L"===g?(O=(i=a(b[0],b[1],b[2],b[3],(e||0)-L)).length,C=i.min,A=i.max,T=i.point):"A"===g?(O=(u=function(t,e,n,r,i,l,u,c,h,d,p){var f,g=p.bbox,m=void 0===g||g,v=p.length,y=void 0===v||v,b=p.sampleSize,x=void 0===b?30:b,E="number"==typeof d,w=t,S=e,M=0,k=[w,S,0],O=[w,S],C={x:0,y:0},A=[{x:w,y:S}];E&&d<=0&&(C={x:w,y:S});for(var T=0;T<=x;T+=1){if(w=(f=function(t,e,n,r,i,o,l,u,c,h){var d=Math.abs,p=Math.sin,f=Math.cos,g=Math.sqrt,m=Math.PI,v=d(n),y=d(r),b=m/180*((i%360+360)%360);if(t===u&&e===c)return{x:t,y:e};if(0===v||0===y)return a(t,e,u,c,h).point;var x=(t-u)/2,E=(e-c)/2,w={x:f(b)*x+p(b)*E,y:-p(b)*x+f(b)*E},S=Math.pow(w.x,2)/Math.pow(v,2)+Math.pow(w.y,2)/Math.pow(y,2);S>1&&(v*=g(S),y*=g(S));var M=(Math.pow(v,2)*Math.pow(y,2)-Math.pow(v,2)*Math.pow(w.y,2)-Math.pow(y,2)*Math.pow(w.x,2))/(Math.pow(v,2)*Math.pow(w.y,2)+Math.pow(y,2)*Math.pow(w.x,2)),k=(o!==l?1:-1)*g(M=M<0?0:M),O={x:v*w.y/y*k,y:-(y*w.x)/v*k},C={x:f(b)*O.x-p(b)*O.y+(t+u)/2,y:p(b)*O.x+f(b)*O.y+(e+c)/2},A={x:(w.x-O.x)/v,y:(w.y-O.y)/y},T=s({x:1,y:0},A),P=s(A,{x:(-w.x-O.x)/v,y:(-w.y-O.y)/y});!l&&P>0?P-=2*m:l&&P<0&&(P+=2*m);var L=T+(P%=2*m)*h,R=v*f(L),D=y*p(L);return{x:f(b)*R-p(b)*D+C.x,y:p(b)*R+f(b)*D+C.y}}(t,e,n,r,i,l,u,c,h,T/x)).x,S=f.y,m&&A.push({x:w,y:S}),y&&(M+=(0,o.y)(O,[w,S])),O=[w,S],E&&M>=d&&d>k[2]){var P=(M-d)/(M-k[2]);C={x:O[0]*(1-P)+k[0]*P,y:O[1]*(1-P)+k[1]*P}}k=[w,S,M]}return E&&d>=M&&(C={x:c,y:h}),{length:M,point:C,min:{x:Math.min.apply(null,A.map(function(t){return t.x})),y:Math.min.apply(null,A.map(function(t){return t.y}))},max:{x:Math.max.apply(null,A.map(function(t){return t.x})),y:Math.max.apply(null,A.map(function(t){return t.y}))}}}(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],(e||0)-L,n||{})).length,C=u.min,A=u.max,T=u.point):"C"===g?(O=(c=(0,l.S)(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],(e||0)-L,n||{})).length,C=c.min,A=c.max,T=c.point):"Q"===g?(O=(h=function(t,e,n,r,i,a,s,l){var u,c=l.bbox,h=void 0===c||c,d=l.length,p=void 0===d||d,f=l.sampleSize,g=void 0===f?10:f,m="number"==typeof s,v=t,y=e,b=0,x=[v,y,0],E=[v,y],w={x:0,y:0},S=[{x:v,y:y}];m&&s<=0&&(w={x:v,y:y});for(var M=0;M<=g;M+=1){if(v=(u=function(t,e,n,r,i,o,a){var s=1-a;return{x:Math.pow(s,2)*t+2*s*a*n+Math.pow(a,2)*i,y:Math.pow(s,2)*e+2*s*a*r+Math.pow(a,2)*o}}(t,e,n,r,i,a,M/g)).x,y=u.y,h&&S.push({x:v,y:y}),p&&(b+=(0,o.y)(E,[v,y])),E=[v,y],m&&b>=s&&s>x[2]){var k=(b-s)/(b-x[2]);w={x:E[0]*(1-k)+x[0]*k,y:E[1]*(1-k)+x[1]*k}}x=[v,y,b]}return m&&s>=b&&(w={x:i,y:a}),{length:b,point:w,min:{x:Math.min.apply(null,S.map(function(t){return t.x})),y:Math.min.apply(null,S.map(function(t){return t.y}))},max:{x:Math.max.apply(null,S.map(function(t){return t.x})),y:Math.max.apply(null,S.map(function(t){return t.y}))}}}(b[0],b[1],b[2],b[3],b[4],b[5],(e||0)-L,n||{})).length,C=h.min,A=h.max,T=h.point):"Z"===g&&(O=(d=a((b=[x,E,w,S])[0],b[1],b[2],b[3],(e||0)-L)).length,C=d.min,A=d.max,T=d.point),y&&L<e&&L+O>=e&&(P=T),k.push(A),M.push(C),L+=O,x=(p="Z"!==g?m.slice(-2):[w,S])[0],E=p[1];return y&&e>=L&&(P={x:x,y:E}),{length:L,point:P,min:{x:Math.min.apply(null,M.map(function(t){return t.x})),y:Math.min.apply(null,M.map(function(t){return t.y}))},max:{x:Math.max.apply(null,k.map(function(t){return t.x})),y:Math.max.apply(null,k.map(function(t){return t.y}))}}}},34019:function(t,e,n){"use strict";n.d(e,{S:function(){return i}});var r=n(71241);function i(t,e,n,i,o,a,s,l,u,c){var h,d=c.bbox,p=void 0===d||d,f=c.length,g=void 0===f||f,m=c.sampleSize,v=void 0===m?10:m,y="number"==typeof u,b=t,x=e,E=0,w=[b,x,0],S=[b,x],M={x:0,y:0},k=[{x:b,y:x}];y&&u<=0&&(M={x:b,y:x});for(var O=0;O<=v;O+=1){if(b=(h=function(t,e,n,r,i,o,a,s,l){var u=1-l;return{x:Math.pow(u,3)*t+3*Math.pow(u,2)*l*n+3*u*Math.pow(l,2)*i+Math.pow(l,3)*a,y:Math.pow(u,3)*e+3*Math.pow(u,2)*l*r+3*u*Math.pow(l,2)*o+Math.pow(l,3)*s}}(t,e,n,i,o,a,s,l,O/v)).x,x=h.y,p&&k.push({x:b,y:x}),g&&(E+=(0,r.y)(S,[b,x])),S=[b,x],y&&E>=u&&u>w[2]){var C=(E-u)/(E-w[2]);M={x:S[0]*(1-C)+w[0]*C,y:S[1]*(1-C)+w[1]*C}}w=[b,x,E]}return y&&u>=E&&(M={x:s,y:l}),{length:E,point:M,min:{x:Math.min.apply(null,k.map(function(t){return t.x})),y:Math.min.apply(null,k.map(function(t){return t.y}))},max:{x:Math.max.apply(null,k.map(function(t){return t.x})),y:Math.max.apply(null,k.map(function(t){return t.y}))}}}},10506:function(t,e,n){"use strict";var r=n(34731),i=n(48499);e.Z=(0,r.Z)((0,i.jsx)("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"}),"AccountTree")},30739:function(t,e,n){"use strict";var r=n(34731),i=n(48499);e.Z=(0,r.Z)((0,i.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},14224:function(t,e,n){"use strict";var r=n(34731),i=n(48499);e.Z=(0,r.Z)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},99384:function(t,e,n){"use strict";var r=n(34731),i=n(48499);e.Z=(0,r.Z)((0,i.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy")},55645:function(t,e,n){"use strict";var r=n(34731),i=n(48499);e.Z=(0,r.Z)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Create")},33767:function(t,e,n){"use strict";var r=n(34731),i=n(48499);e.Z=(0,r.Z)((0,i.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu")},70984:function(t,e,n){"use strict";var r=n(34731),i=n(48499);e.Z=(0,r.Z)((0,i.jsx)("path",{d:"M21 11V3h-8l3.29 3.29-10 10L3 13v8h8l-3.29-3.29 10-10z"}),"OpenInFull")},88245:function(t,e,n){"use strict";var r=n(34731),i=n(48499);e.Z=(0,r.Z)((0,i.jsx)("path",{d:"M19 13H5v-2h14z"}),"Remove")},53726:function(t,e,n){"use strict";var r=n(34731),i=n(48499);e.Z=(0,r.Z)((0,i.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"ReportProblem")},13377:function(t,e,n){"use strict";var r=n(34731),i=n(48499);e.Z=(0,r.Z)((0,i.jsx)("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8m-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91"}),"RestartAlt")},69479:function(t,e,n){"use strict";var r=n(34731),i=n(48499);e.Z=(0,r.Z)((0,i.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")},13639:function(t,e,n){"use strict";var r=n(34731),i=n(48499);e.Z=(0,r.Z)((0,i.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff")},31873:function(t,e,n){"use strict";n.d(e,{Z:function(){return b}});var r=n(38875),i=n(52554),o=n(96503),a=n(72933),s=n(2155),l=n(76526),u=n(84177),c=n(62244),h=n(10626),d=n(54869),p=n(54418);function f(t){return(0,p.ZP)("MuiAppBar",t)}(0,d.Z)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);var g=n(48499);let m=t=>{let{color:e,position:n,classes:r}=t,i={root:["root","color".concat((0,u.Z)(e)),"position".concat((0,u.Z)(n))]};return(0,o.Z)(i,f,r)},v=(t,e)=>t?"".concat(null==t?void 0:t.replace(")",""),", ").concat(e,")"):e,y=(0,a.ZP)(h.Z,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{let{ownerState:n}=t;return[e.root,e["position".concat((0,u.Z)(n.position))],e["color".concat((0,u.Z)(n.color))]]}})((0,s.Z)(t=>{let{theme:e}=t;return{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[100],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[100]),...e.applyStyles("dark",{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[900],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[900])})}},...Object.entries(e.palette).filter((0,c.Z)(["contrastText"])).map(t=>{var n,r;let[i]=t;return{props:{color:i},style:{"--AppBar-background":(null!==(n=e.vars)&&void 0!==n?n:e).palette[i].main,"--AppBar-color":(null!==(r=e.vars)&&void 0!==r?r:e).palette[i].contrastText}}}),{props:t=>!0===t.enableColorOnDark&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:t=>!1===t.enableColorOnDark&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundColor:e.vars?v(e.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:e.vars?v(e.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundImage:"none"})}}]}}));var b=r.forwardRef(function(t,e){let n=(0,l.i)({props:t,name:"MuiAppBar"}),{className:r,color:o="primary",enableColorOnDark:a=!1,position:s="fixed",...u}=n,c={...n,color:o,position:s,enableColorOnDark:a},h=m(c);return(0,g.jsx)(y,{square:!0,component:"header",ownerState:c,elevation:4,className:(0,i.Z)(h.root,r,"fixed"===s&&"mui-fixed"),ref:e,...u})})},52848:function(t,e,n){"use strict";n.d(e,{Z:function(){return v}});var r=n(38875),i=n(52554),o=n(96503),a=n(72933),s=n(76526),l=n(77782),u=n(37920),c=n(54869),h=n(54418);function d(t){return(0,h.ZP)("MuiBackdrop",t)}(0,c.Z)("MuiBackdrop",["root","invisible"]);var p=n(48499);let f=t=>{let{ownerState:e,...n}=t;return n},g=t=>{let{classes:e,invisible:n}=t;return(0,o.Z)({root:["root",n&&"invisible"]},d,e)},m=(0,a.ZP)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{let{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]});var v=r.forwardRef(function(t,e){let n=(0,s.i)({props:t,name:"MuiBackdrop"}),{children:r,className:o,component:a="div",invisible:c=!1,open:h,components:d={},componentsProps:v={},slotProps:y={},slots:b={},TransitionComponent:x,transitionDuration:E,...w}=n,S={...n,component:a,invisible:c},M=g(S),k={slots:{transition:x,root:d.Root,...b},slotProps:{...v,...y}},[O,C]=(0,l.Z)("root",{elementType:m,externalForwardedProps:k,className:(0,i.Z)(M.root,o),ownerState:S}),[A,T]=(0,l.Z)("transition",{elementType:u.Z,externalForwardedProps:k,ownerState:S}),P=f(T);return(0,p.jsx)(A,{in:h,timeout:E,...w,...P,children:(0,p.jsx)(O,{"aria-hidden":!0,...C,classes:M,ref:e,children:r})})})},48740:function(t,e,n){"use strict";n.d(e,{Z:function(){return g}});var r=n(38875),i=n(52554),o=n(7040),a=n(64872),s=n(8496),l=n(17987),u=n(48499),c=n(3142),h=n(63573),d=n(41307);let p=(0,n(54869).Z)("MuiBox",["root"]),f=(0,h.Z)();var g=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{themeId:e,defaultTheme:n,defaultClassName:c="MuiBox-root",generateClassName:h}=t,d=(0,o.ZP)("div",{shouldForwardProp:t=>"theme"!==t&&"sx"!==t&&"as"!==t})(a.Z);return r.forwardRef(function(t,r){let o=(0,l.Z)(n),{className:a,component:p="div",...f}=(0,s.Z)(t);return(0,u.jsx)(d,{as:p,ref:r,className:(0,i.Z)(a,h?h(c):c),theme:e&&o[e]||o,...f})})}({themeId:d.Z,defaultTheme:f,defaultClassName:p.root,generateClassName:c.Z.generate})},20071:function(t,e,n){"use strict";n.d(e,{Z:function(){return C}});var r=n(38875),i=n(52554),o=n(33362),a=n(96503),s=n(75833),l=n(73733),u=n(72933),c=n(2155),h=n(76526),d=n(97774),p=n(84177),f=n(62244),g=n(54869),m=n(54418);function v(t){return(0,m.ZP)("MuiButton",t)}let y=(0,g.Z)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),b=r.createContext({}),x=r.createContext(void 0);var E=n(48499);let w=t=>{let{color:e,disableElevation:n,fullWidth:r,size:i,variant:o,classes:s}=t,l={root:["root",o,"".concat(o).concat((0,p.Z)(e)),"size".concat((0,p.Z)(i)),"".concat(o,"Size").concat((0,p.Z)(i)),"color".concat((0,p.Z)(e)),n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon","iconSize".concat((0,p.Z)(i))],endIcon:["icon","endIcon","iconSize".concat((0,p.Z)(i))]},u=(0,a.Z)(l,v,s);return{...s,...u}},S=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],M=(0,u.ZP)(d.Z,{shouldForwardProp:t=>(0,l.Z)(t)||"classes"===t,name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{let{ownerState:n}=t;return[e.root,e[n.variant],e["".concat(n.variant).concat((0,p.Z)(n.color))],e["size".concat((0,p.Z)(n.size))],e["".concat(n.variant,"Size").concat((0,p.Z)(n.size))],"inherit"===n.color&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})((0,c.Z)(t=>{let{theme:e}=t,n="light"===e.palette.mode?e.palette.grey[300]:e.palette.grey[800],r="light"===e.palette.mode?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},["&.".concat(y.disabled)]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},["&.".concat(y.focusVisible)]:{boxShadow:(e.vars||e).shadows[6]},["&.".concat(y.disabled)]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",["&.".concat(y.disabled)]:{border:"1px solid ".concat((e.vars||e).palette.action.disabledBackground)}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter((0,f.Z)()).map(t=>{let[n]=t;return{props:{color:n},style:{"--variant-textColor":(e.vars||e).palette[n].main,"--variant-outlinedColor":(e.vars||e).palette[n].main,"--variant-outlinedBorder":e.vars?"rgba(".concat(e.vars.palette[n].mainChannel," / 0.5)"):(0,s.Fq)(e.palette[n].main,.5),"--variant-containedColor":(e.vars||e).palette[n].contrastText,"--variant-containedBg":(e.vars||e).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[n].dark,"--variant-textBg":e.vars?"rgba(".concat(e.vars.palette[n].mainChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):(0,s.Fq)(e.palette[n].main,e.palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[n].main,"--variant-outlinedBg":e.vars?"rgba(".concat(e.vars.palette[n].mainChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):(0,s.Fq)(e.palette[n].main,e.palette.action.hoverOpacity)}}}}}),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:n,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":e.vars?"rgba(".concat(e.vars.palette.text.primaryChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):(0,s.Fq)(e.palette.text.primary,e.palette.action.hoverOpacity),"--variant-outlinedBg":e.vars?"rgba(".concat(e.vars.palette.text.primaryChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):(0,s.Fq)(e.palette.text.primary,e.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(y.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(y.disabled)]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}}]}})),k=(0,u.ZP)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{let{ownerState:n}=t;return[e.startIcon,e["iconSize".concat((0,p.Z)(n.size))]]}})({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},...S]}),O=(0,u.ZP)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{let{ownerState:n}=t;return[e.endIcon,e["iconSize".concat((0,p.Z)(n.size))]]}})({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},...S]});var C=r.forwardRef(function(t,e){let n=r.useContext(b),a=r.useContext(x),s=(0,o.Z)(n,t),l=(0,h.i)({props:s,name:"MuiButton"}),{children:u,color:c="primary",component:d="button",className:p,disabled:f=!1,disableElevation:g=!1,disableFocusRipple:m=!1,endIcon:v,focusVisibleClassName:y,fullWidth:S=!1,size:C="medium",startIcon:A,type:T,variant:P="text",...L}=l,R={...l,color:c,component:d,disabled:f,disableElevation:g,disableFocusRipple:m,fullWidth:S,size:C,type:T,variant:P},D=w(R),N=A&&(0,E.jsx)(k,{className:D.startIcon,ownerState:R,children:A}),I=v&&(0,E.jsx)(O,{className:D.endIcon,ownerState:R,children:v});return(0,E.jsxs)(M,{ownerState:R,className:(0,i.Z)(n.className,D.root,p,a||""),component:d,disabled:f,focusRipple:!m,focusVisibleClassName:(0,i.Z)(D.focusVisible,y),ref:e,type:T,...L,classes:D,children:[N,u,I]})})},90856:function(t,e,n){"use strict";n.d(e,{Z:function(){return T}});var r=n(78e3),i=n(38875),o=n(52554),a=n(96503),s=n(11898),l=n(72933),u=n(2155),c=n(76526),h=n(84177),d=n(62244),p=n(54869),f=n(54418);function g(t){return(0,f.ZP)("MuiCircularProgress",t)}(0,p.Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var m=n(48499);function v(){let t=(0,r._)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"]);return v=function(){return t},t}function y(){let t=(0,r._)(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"]);return y=function(){return t},t}function b(){let t=(0,r._)(["\n        animation: "," 1.4s linear infinite;\n      "]);return b=function(){return t},t}function x(){let t=(0,r._)(["\n        animation: "," 1.4s ease-in-out infinite;\n      "]);return x=function(){return t},t}let E=(0,s.F4)(v()),w=(0,s.F4)(y()),S="string"!=typeof E?(0,s.iv)(b(),E):null,M="string"!=typeof w?(0,s.iv)(x(),w):null,k=t=>{let{classes:e,variant:n,color:r,disableShrink:i}=t,o={root:["root",n,"color".concat((0,h.Z)(r))],svg:["svg"],circle:["circle","circle".concat((0,h.Z)(n)),i&&"circleDisableShrink"]};return(0,a.Z)(o,g,e)},O=(0,l.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{let{ownerState:n}=t;return[e.root,e[n.variant],e["color".concat((0,h.Z)(n.color))]]}})((0,u.Z)(t=>{let{theme:e}=t;return{display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:S||{animation:"".concat(E," 1.4s linear infinite")}},...Object.entries(e.palette).filter((0,d.Z)()).map(t=>{let[n]=t;return{props:{color:n},style:{color:(e.vars||e).palette[n].main}}})]}})),C=(0,l.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),A=(0,l.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{let{ownerState:n}=t;return[e.circle,e["circle".concat((0,h.Z)(n.variant))],n.disableShrink&&e.circleDisableShrink]}})((0,u.Z)(t=>{let{theme:e}=t;return{stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:t=>{let{ownerState:e}=t;return"indeterminate"===e.variant&&!e.disableShrink},style:M||{animation:"".concat(w," 1.4s ease-in-out infinite")}}]}}));var T=i.forwardRef(function(t,e){let n=(0,c.i)({props:t,name:"MuiCircularProgress"}),{className:r,color:i="primary",disableShrink:a=!1,size:s=40,style:l,thickness:u=3.6,value:h=0,variant:d="indeterminate",...p}=n,f={...n,color:i,disableShrink:a,size:s,thickness:u,value:h,variant:d},g=k(f),v={},y={},b={};if("determinate"===d){let t=2*Math.PI*((44-u)/2);v.strokeDasharray=t.toFixed(3),b["aria-valuenow"]=Math.round(h),v.strokeDashoffset="".concat(((100-h)/100*t).toFixed(3),"px"),y.transform="rotate(-90deg)"}return(0,m.jsx)(O,{className:(0,o.Z)(g.root,r),style:{width:s,height:s,...y,...l},ownerState:f,ref:e,role:"progressbar",...b,...p,children:(0,m.jsx)(C,{className:g.svg,ownerState:f,viewBox:"".concat(22," ").concat(22," ").concat(44," ").concat(44),children:(0,m.jsx)(A,{className:g.circle,style:v,ownerState:f,cx:44,cy:44,r:(44-u)/2,fill:"none",strokeWidth:u})})})})},11039:function(t,e,n){"use strict";n.d(e,{Z:function(){return M}});var r=n(38875),i=n(52554),o=n(28673),a=n(41027),s=n(96503),l=n(72933),u=n(54716),c=n(2155),h=n(76526),d=n(42573),p=n(25422),f=n(19503),g=n(54869),m=n(54418);function v(t){return(0,m.ZP)("MuiCollapse",t)}(0,g.Z)("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);var y=n(48499);let b=t=>{let{orientation:e,classes:n}=t;return(0,s.Z)({root:["root","".concat(e)],entered:["entered"],hidden:["hidden"],wrapper:["wrapper","".concat(e)],wrapperInner:["wrapperInner","".concat(e)]},v,n)},x=(0,l.ZP)("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,e)=>{let{ownerState:n}=t;return[e.root,e[n.orientation],"entered"===n.state&&e.entered,"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&e.hidden]}})((0,c.Z)(t=>{let{theme:e}=t;return{height:0,overflow:"hidden",transition:e.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:e.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:t=>{let{ownerState:e}=t;return"exited"===e.state&&!e.in&&"0px"===e.collapsedSize},style:{visibility:"hidden"}}]}})),E=(0,l.ZP)("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(t,e)=>e.wrapper})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),w=(0,l.ZP)("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(t,e)=>e.wrapperInner})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),S=r.forwardRef(function(t,e){let n=(0,h.i)({props:t,name:"MuiCollapse"}),{addEndListener:s,children:l,className:c,collapsedSize:g="0px",component:m,easing:v,in:S,onEnter:M,onEntered:k,onEntering:O,onExit:C,onExited:A,onExiting:T,orientation:P="vertical",style:L,timeout:R=d.x9.standard,TransitionComponent:D=o.ZP,...N}=n,I={...n,orientation:P,collapsedSize:g},Z=b(I),j=(0,u.Z)(),_=(0,a.Z)(),B=r.useRef(null),F=r.useRef(),z="number"==typeof g?"".concat(g,"px"):g,W="horizontal"===P,V=W?"width":"height",H=r.useRef(null),G=(0,f.Z)(e,H),$=t=>e=>{if(t){let n=H.current;void 0===e?t(n):t(n,e)}},U=()=>B.current?B.current[W?"clientWidth":"clientHeight"]:0,q=$((t,e)=>{B.current&&W&&(B.current.style.position="absolute"),t.style[V]=z,M&&M(t,e)}),K=$((t,e)=>{let n=U();B.current&&W&&(B.current.style.position="");let{duration:r,easing:i}=(0,p.C)({style:L,timeout:R,easing:v},{mode:"enter"});if("auto"===R){let e=j.transitions.getAutoHeightDuration(n);t.style.transitionDuration="".concat(e,"ms"),F.current=e}else t.style.transitionDuration="string"==typeof r?r:"".concat(r,"ms");t.style[V]="".concat(n,"px"),t.style.transitionTimingFunction=i,O&&O(t,e)}),Y=$((t,e)=>{t.style[V]="auto",k&&k(t,e)}),X=$(t=>{t.style[V]="".concat(U(),"px"),C&&C(t)}),J=$(A),Q=$(t=>{let e=U(),{duration:n,easing:r}=(0,p.C)({style:L,timeout:R,easing:v},{mode:"exit"});if("auto"===R){let n=j.transitions.getAutoHeightDuration(e);t.style.transitionDuration="".concat(n,"ms"),F.current=n}else t.style.transitionDuration="string"==typeof n?n:"".concat(n,"ms");t.style[V]=z,t.style.transitionTimingFunction=r,T&&T(t)});return(0,y.jsx)(D,{in:S,onEnter:q,onEntered:Y,onEntering:K,onExit:X,onExited:J,onExiting:Q,addEndListener:t=>{"auto"===R&&_.start(F.current||0,t),s&&s(H.current,t)},nodeRef:H,timeout:"auto"===R?null:R,...N,children:(t,e)=>(0,y.jsx)(x,{as:m,className:(0,i.Z)(Z.root,c,{entered:Z.entered,exited:!S&&"0px"===z&&Z.hidden}[t]),style:{[W?"minWidth":"minHeight"]:z,...L},ref:G,...e,ownerState:{...I,state:t},children:(0,y.jsx)(E,{ownerState:{...I,state:t},className:Z.wrapper,ref:B,children:(0,y.jsx)(w,{ownerState:{...I,state:t},className:Z.wrapperInner,children:l})})})})});S&&(S.muiSupportAuto=!0);var M=S},44219:function(t,e,n){"use strict";n.d(e,{Z:function(){return b}});var r=n(38875),i=n(52554),o=n(54418),a=n(96503),s=n(19071),l=n(70976),u=n(73837),c=n(78725),h=n(48499);let d=(0,c.Z)(),p=(0,u.Z)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{let{ownerState:n}=t;return[e.root,e[`maxWidth${(0,s.Z)(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),f=t=>(0,l.Z)({props:t,name:"MuiContainer",defaultTheme:d}),g=(t,e)=>{let{classes:n,fixed:r,disableGutters:i,maxWidth:l}=t,u={root:["root",l&&`maxWidth${(0,s.Z)(String(l))}`,r&&"fixed",i&&"disableGutters"]};return(0,a.Z)(u,t=>(0,o.ZP)(e,t),n)};var m=n(84177),v=n(72933),y=n(76526),b=function(t={}){let{createStyledComponent:e=p,useThemeProps:n=f,componentName:o="MuiContainer"}=t,a=e(({theme:t,ownerState:e})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}}),({theme:t,ownerState:e})=>e.fixed&&Object.keys(t.breakpoints.values).reduce((e,n)=>{let r=t.breakpoints.values[n];return 0!==r&&(e[t.breakpoints.up(n)]={maxWidth:`${r}${t.breakpoints.unit}`}),e},{}),({theme:t,ownerState:e})=>({..."xs"===e.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},...e.maxWidth&&"xs"!==e.maxWidth&&{[t.breakpoints.up(e.maxWidth)]:{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`}}}));return r.forwardRef(function(t,e){let r=n(t),{className:s,component:l="div",disableGutters:u=!1,fixed:c=!1,maxWidth:d="lg",classes:p,...f}=r,m={...r,component:l,disableGutters:u,fixed:c,maxWidth:d},v=g(m,o);return(0,h.jsx)(a,{as:l,ownerState:m,className:(0,i.Z)(v.root,s),ref:e,...f})})}({createStyledComponent:(0,v.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{let{ownerState:n}=t;return[e.root,e["maxWidth".concat((0,m.Z)(String(n.maxWidth)))],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>(0,y.i)({props:t,name:"MuiContainer"})})},47013:function(t,e,n){"use strict";n.d(e,{Z:function(){return C}});var r=n(38875),i=n(52554),o=n(96503),a=n(1794),s=n(84177),l=n(40795),u=n(37920),c=n(10626),h=n(54869),d=n(54418);function p(t){return(0,d.ZP)("MuiDialog",t)}let f=(0,h.Z)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);var g=n(75416),m=n(52848),v=n(72933),y=n(54716),b=n(2155),x=n(76526),E=n(48499);let w=(0,v.ZP)(m.Z,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),S=t=>{let{classes:e,scroll:n,maxWidth:r,fullWidth:i,fullScreen:a}=t,l={root:["root"],container:["container","scroll".concat((0,s.Z)(n))],paper:["paper","paperScroll".concat((0,s.Z)(n)),"paperWidth".concat((0,s.Z)(String(r))),i&&"paperFullWidth",a&&"paperFullScreen"]};return(0,o.Z)(l,p,e)},M=(0,v.ZP)(l.Z,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),k=(0,v.ZP)("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{let{ownerState:n}=t;return[e.container,e["scroll".concat((0,s.Z)(n.scroll))]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),O=(0,v.ZP)(c.Z,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{let{ownerState:n}=t;return[e.paper,e["scrollPaper".concat((0,s.Z)(n.scroll))],e["paperWidth".concat((0,s.Z)(String(n.maxWidth)))],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})((0,b.Z)(t=>{let{theme:e}=t;return{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:t=>{let{ownerState:e}=t;return!e.maxWidth},style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:"px"===e.breakpoints.unit?Math.max(e.breakpoints.values.xs,444):"max(".concat(e.breakpoints.values.xs).concat(e.breakpoints.unit,", 444px)"),["&.".concat(f.paperScrollBody)]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(t=>"xs"!==t).map(t=>({props:{maxWidth:t},style:{maxWidth:"".concat(e.breakpoints.values[t]).concat(e.breakpoints.unit),["&.".concat(f.paperScrollBody)]:{[e.breakpoints.down(e.breakpoints.values[t]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:t=>{let{ownerState:e}=t;return e.fullWidth},style:{width:"calc(100% - 64px)"}},{props:t=>{let{ownerState:e}=t;return e.fullScreen},style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,["&.".concat(f.paperScrollBody)]:{margin:0,maxWidth:"100%"}}}]}}));var C=r.forwardRef(function(t,e){let n=(0,x.i)({props:t,name:"MuiDialog"}),o=(0,y.Z)(),s={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{"aria-describedby":l,"aria-labelledby":h,"aria-modal":d=!0,BackdropComponent:p,BackdropProps:f,children:m,className:v,disableEscapeKeyDown:b=!1,fullScreen:C=!1,fullWidth:A=!1,maxWidth:T="sm",onBackdropClick:P,onClick:L,onClose:R,open:D,PaperComponent:N=c.Z,PaperProps:I={},scroll:Z="paper",TransitionComponent:j=u.Z,transitionDuration:_=s,TransitionProps:B,...F}=n,z={...n,disableEscapeKeyDown:b,fullScreen:C,fullWidth:A,maxWidth:T,scroll:Z},W=S(z),V=r.useRef(),H=(0,a.Z)(h),G=r.useMemo(()=>({titleId:H}),[H]);return(0,E.jsx)(M,{className:(0,i.Z)(W.root,v),closeAfterTransition:!0,components:{Backdrop:w},componentsProps:{backdrop:{transitionDuration:_,as:p,...f}},disableEscapeKeyDown:b,onClose:R,open:D,ref:e,onClick:t=>{L&&L(t),V.current&&(V.current=null,P&&P(t),R&&R(t,"backdropClick"))},ownerState:z,...F,children:(0,E.jsx)(j,{appear:!0,in:D,timeout:_,role:"presentation",...B,children:(0,E.jsx)(k,{className:(0,i.Z)(W.container),onMouseDown:t=>{V.current=t.target===t.currentTarget},ownerState:z,children:(0,E.jsx)(O,{as:N,elevation:24,role:"dialog","aria-describedby":l,"aria-labelledby":H,"aria-modal":d,...I,className:(0,i.Z)(W.paper,I.className),ownerState:z,children:(0,E.jsx)(g.Z.Provider,{value:G,children:m})})})})})})},75416:function(t,e,n){"use strict";let r=n(38875).createContext({});e.Z=r},65382:function(t,e,n){"use strict";n.d(e,{Z:function(){return m}});var r=n(38875),i=n(52554),o=n(96503),a=n(72933),s=n(2155),l=n(76526),u=n(54869),c=n(54418);function h(t){return(0,c.ZP)("MuiDialogContent",t)}(0,u.Z)("MuiDialogContent",["root","dividers"]);var d=n(60208),p=n(48499);let f=t=>{let{classes:e,dividers:n}=t;return(0,o.Z)({root:["root",n&&"dividers"]},h,e)},g=(0,a.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{let{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})((0,s.Z)(t=>{let{theme:e}=t;return{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:t=>{let{ownerState:e}=t;return e.dividers},style:{padding:"16px 24px",borderTop:"1px solid ".concat((e.vars||e).palette.divider),borderBottom:"1px solid ".concat((e.vars||e).palette.divider)}},{props:t=>{let{ownerState:e}=t;return!e.dividers},style:{[".".concat(d.Z.root," + &")]:{paddingTop:0}}}]}}));var m=r.forwardRef(function(t,e){let n=(0,l.i)({props:t,name:"MuiDialogContent"}),{className:r,dividers:o=!1,...a}=n,s={...n,dividers:o},u=f(s);return(0,p.jsx)(g,{className:(0,i.Z)(u.root,r),ownerState:s,ref:e,...a})})},57018:function(t,e,n){"use strict";var r=n(38875),i=n(52554),o=n(96503),a=n(50059),s=n(72933),l=n(76526),u=n(60208),c=n(75416),h=n(48499);let d=t=>{let{classes:e}=t;return(0,o.Z)({root:["root"]},u.a,e)},p=(0,s.ZP)(a.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),f=r.forwardRef(function(t,e){let n=(0,l.i)({props:t,name:"MuiDialogTitle"}),{className:o,id:a,...s}=n,u=d(n),{titleId:f=a}=r.useContext(c.Z);return(0,h.jsx)(p,{component:"h2",className:(0,i.Z)(u.root,o),ownerState:n,ref:e,variant:"h6",id:null!=a?a:f,...s})});e.Z=f},60208:function(t,e,n){"use strict";n.d(e,{a:function(){return o}});var r=n(54869),i=n(54418);function o(t){return(0,i.ZP)("MuiDialogTitle",t)}let a=(0,r.Z)("MuiDialogTitle",["root"]);e.Z=a},37920:function(t,e,n){"use strict";var r=n(38875),i=n(28673),o=n(90937),a=n(54716),s=n(25422),l=n(19503),u=n(48499);let c={entering:{opacity:1},entered:{opacity:1}},h=r.forwardRef(function(t,e){let n=(0,a.Z)(),h={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:d,appear:p=!0,children:f,easing:g,in:m,onEnter:v,onEntered:y,onEntering:b,onExit:x,onExited:E,onExiting:w,style:S,timeout:M=h,TransitionComponent:k=i.ZP,...O}=t,C=r.useRef(null),A=(0,l.Z)(C,(0,o.Z)(f),e),T=t=>e=>{if(t){let n=C.current;void 0===e?t(n):t(n,e)}},P=T(b),L=T((t,e)=>{(0,s.n)(t);let r=(0,s.C)({style:S,timeout:M,easing:g},{mode:"enter"});t.style.webkitTransition=n.transitions.create("opacity",r),t.style.transition=n.transitions.create("opacity",r),v&&v(t,e)}),R=T(y),D=T(w),N=T(t=>{let e=(0,s.C)({style:S,timeout:M,easing:g},{mode:"exit"});t.style.webkitTransition=n.transitions.create("opacity",e),t.style.transition=n.transitions.create("opacity",e),x&&x(t)}),I=T(E);return(0,u.jsx)(k,{appear:p,in:m,nodeRef:C,onEnter:L,onEntered:R,onEntering:P,onExit:N,onExited:I,onExiting:D,addEndListener:t=>{d&&d(C.current,t)},timeout:M,...O,children:(t,e)=>r.cloneElement(f,{style:{opacity:0,visibility:"exited"!==t||m?void 0:"hidden",...c[t],...S,...f.props.style},ref:A,...e})})});e.Z=h},44210:function(t,e,n){"use strict";let r=n(38875).createContext(void 0);e.Z=r},55709:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(38875),i=n(44210);function o(){return r.useContext(i.Z)}},70828:function(t,e,n){"use strict";n.d(e,{Z:function(){return E}});var r,i=n(38875),o=n(52554),a=n(96503),s=n(84177),l=n(50059),u=n(44210),c=n(55709),h=n(72933),d=n(2155),p=n(76526),f=n(54869),g=n(54418);function m(t){return(0,g.ZP)("MuiInputAdornment",t)}let v=(0,f.Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var y=n(48499);let b=t=>{let{classes:e,disablePointerEvents:n,hiddenLabel:r,position:i,size:o,variant:l}=t,u={root:["root",n&&"disablePointerEvents",i&&"position".concat((0,s.Z)(i)),l,r&&"hiddenLabel",o&&"size".concat((0,s.Z)(o))]};return(0,a.Z)(u,m,e)},x=(0,h.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(t,e)=>{let{ownerState:n}=t;return[e.root,e["position".concat((0,s.Z)(n.position))],!0===n.disablePointerEvents&&e.disablePointerEvents,e[n.variant]]}})((0,d.Z)(t=>{let{theme:e}=t;return{display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active,variants:[{props:{variant:"filled"},style:{["&.".concat(v.positionStart,"&:not(.").concat(v.hiddenLabel,")")]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}}));var E=i.forwardRef(function(t,e){let n=(0,p.i)({props:t,name:"MuiInputAdornment"}),{children:a,className:s,component:h="div",disablePointerEvents:d=!1,disableTypography:f=!1,position:g,variant:m,...v}=n,E=(0,c.Z)()||{},w=m;m&&E.variant,E&&!w&&(w=E.variant);let S={...n,hiddenLabel:E.hiddenLabel,size:E.size,disablePointerEvents:d,position:g,variant:w},M=b(S);return(0,y.jsx)(u.Z.Provider,{value:null,children:(0,y.jsx)(x,{as:h,ownerState:S,className:(0,o.Z)(M.root,s),ref:e,...v,children:"string"!=typeof a||f?(0,y.jsxs)(i.Fragment,{children:["start"===g?r||(r=(0,y.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"​"})):null,a]}):(0,y.jsx)(l.Z,{color:"textSecondary",children:a})})})})},40795:function(t,e,n){"use strict";n.d(e,{Z:function(){return W}});var r=n(38875),i=n(52554),o=n(96503),a=n(33254),s=n(90937),l=n(53581),u=n(48499);function c(t){let e=[],n=[];return Array.from(t.querySelectorAll('input,select,textarea,a[href],button,[tabindex],audio[controls],video[controls],[contenteditable]:not([contenteditable="false"])')).forEach((t,r)=>{let i=function(t){let e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?"true"===t.contentEditable||("AUDIO"===t.nodeName||"VIDEO"===t.nodeName||"DETAILS"===t.nodeName)&&null===t.getAttribute("tabindex")?0:t.tabIndex:e}(t);-1===i||t.disabled||"INPUT"===t.tagName&&"hidden"===t.type||function(t){if("INPUT"!==t.tagName||"radio"!==t.type||!t.name)return!1;let e=e=>t.ownerDocument.querySelector('input[type="radio"]'.concat(e)),n=e('[name="'.concat(t.name,'"]:checked'));return n||(n=e('[name="'.concat(t.name,'"]'))),n!==t}(t)||(0===i?e.push(t):n.push({documentOrder:r,tabIndex:i,node:t}))}),n.sort((t,e)=>t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex).map(t=>t.node).concat(e)}function h(){return!0}var d=function(t){let{children:e,disableAutoFocus:n=!1,disableEnforceFocus:i=!1,disableRestoreFocus:o=!1,getTabbable:d=c,isEnabled:p=h,open:f}=t,g=r.useRef(!1),m=r.useRef(null),v=r.useRef(null),y=r.useRef(null),b=r.useRef(null),x=r.useRef(!1),E=r.useRef(null),w=(0,a.Z)((0,s.Z)(e),E),S=r.useRef(null);r.useEffect(()=>{f&&E.current&&(x.current=!n)},[n,f]),r.useEffect(()=>{if(!f||!E.current)return;let t=(0,l.Z)(E.current);return!E.current.contains(t.activeElement)&&(E.current.hasAttribute("tabIndex")||E.current.setAttribute("tabIndex","-1"),x.current&&E.current.focus()),()=>{o||(y.current&&y.current.focus&&(g.current=!0,y.current.focus()),y.current=null)}},[f]),r.useEffect(()=>{if(!f||!E.current)return;let t=(0,l.Z)(E.current),e=e=>{S.current=e,!i&&p()&&"Tab"===e.key&&t.activeElement===E.current&&e.shiftKey&&(g.current=!0,v.current&&v.current.focus())},n=()=>{let e=E.current;if(null===e)return;if(!t.hasFocus()||!p()||g.current){g.current=!1;return}if(e.contains(t.activeElement)||i&&t.activeElement!==m.current&&t.activeElement!==v.current)return;if(t.activeElement!==b.current)b.current=null;else if(null!==b.current)return;if(!x.current)return;let n=[];if((t.activeElement===m.current||t.activeElement===v.current)&&(n=d(E.current)),n.length>0){var r,o;let t=!!((null===(r=S.current)||void 0===r?void 0:r.shiftKey)&&(null===(o=S.current)||void 0===o?void 0:o.key)==="Tab"),e=n[0],i=n[n.length-1];"string"!=typeof e&&"string"!=typeof i&&(t?i.focus():e.focus())}else e.focus()};t.addEventListener("focusin",n),t.addEventListener("keydown",e,!0);let r=setInterval(()=>{t.activeElement&&"BODY"===t.activeElement.tagName&&n()},50);return()=>{clearInterval(r),t.removeEventListener("focusin",n),t.removeEventListener("keydown",e,!0)}},[n,i,o,p,f,d]);let M=t=>{null===y.current&&(y.current=t.relatedTarget),x.current=!0};return(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)("div",{tabIndex:f?0:-1,onFocus:M,ref:m,"data-testid":"sentinelStart"}),r.cloneElement(e,{ref:w,onFocus:t=>{null===y.current&&(y.current=t.relatedTarget),x.current=!0,b.current=t.target;let n=e.props.onFocus;n&&n(t)}}),(0,u.jsx)("div",{tabIndex:f?0:-1,onFocus:M,ref:v,"data-testid":"sentinelEnd"})]})},p=n(2149),f=n(74393),g=n(28355);let m=r.forwardRef(function(t,e){let{children:n,container:i,disablePortal:o=!1}=t,[l,u]=r.useState(null),c=(0,a.Z)(r.isValidElement(n)?(0,s.Z)(n):null,e);return((0,f.Z)(()=>{!o&&u(("function"==typeof i?i():i)||document.body)},[i,o]),(0,f.Z)(()=>{if(l&&!o)return(0,g.Z)(e,l),()=>{(0,g.Z)(e,null)}},[e,l,o]),o)?r.isValidElement(n)?r.cloneElement(n,{ref:c}):n:l?p.createPortal(n,l):l});var v=n(72933),y=n(2155),b=n(76526),x=n(52848),E=n(78639);function w(...t){return t.reduce((t,e)=>null==e?t:function(...n){t.apply(this,n),e.apply(this,n)},()=>{})}var S=n(59178),M=n(87190),k=n(39817);function O(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function C(t){return parseInt((0,M.Z)(t).getComputedStyle(t).paddingRight,10)||0}function A(t,e,n,r,i){let o=[e,n,...r];[].forEach.call(t.children,t=>{let e=!o.includes(t),n=!function(t){let e=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),n="INPUT"===t.tagName&&"hidden"===t.getAttribute("type");return e||n}(t);e&&n&&O(t,i)})}function T(t,e){let n=-1;return t.some((t,r)=>!!e(t)&&(n=r,!0)),n}class P{add(t,e){let n=this.modals.indexOf(t);if(-1!==n)return n;n=this.modals.length,this.modals.push(t),t.modalRef&&O(t.modalRef,!1);let r=function(t){let e=[];return[].forEach.call(t.children,t=>{"true"===t.getAttribute("aria-hidden")&&e.push(t)}),e}(e);A(e,t.mount,t.modalRef,r,!0);let i=T(this.containers,t=>t.container===e);return -1!==i?this.containers[i].modals.push(t):this.containers.push({modals:[t],container:e,restore:null,hiddenSiblings:r}),n}mount(t,e){let n=T(this.containers,e=>e.modals.includes(t)),r=this.containers[n];r.restore||(r.restore=function(t,e){let n=[],r=t.container;if(!e.disableScrollLock){let t;if(function(t){let e=(0,l.Z)(t);return e.body===t?(0,M.Z)(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}(r)){let t=(0,k.Z)((0,M.Z)(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(C(r)+t,"px");let e=(0,l.Z)(r).querySelectorAll(".mui-fixed");[].forEach.call(e,e=>{n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight="".concat(C(e)+t,"px")})}if(r.parentNode instanceof DocumentFragment)t=(0,l.Z)(r).body;else{let e=r.parentElement,n=(0,M.Z)(r);t=(null==e?void 0:e.nodeName)==="HTML"&&"scroll"===n.getComputedStyle(e).overflowY?e:r}n.push({value:t.style.overflow,property:"overflow",el:t},{value:t.style.overflowX,property:"overflow-x",el:t},{value:t.style.overflowY,property:"overflow-y",el:t}),t.style.overflow="hidden"}return()=>{n.forEach(t=>{let{value:e,el:n,property:r}=t;e?n.style.setProperty(r,e):n.style.removeProperty(r)})}}(r,e))}remove(t){let e=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=this.modals.indexOf(t);if(-1===n)return n;let r=T(this.containers,e=>e.modals.includes(t)),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(t),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),t.modalRef&&O(t.modalRef,e),A(i.container,t.mount,t.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{let t=i.modals[i.modals.length-1];t.modalRef&&O(t.modalRef,!1)}return n}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}constructor(){this.modals=[],this.containers=[]}}let L=()=>{},R=new P;var D=function(t){let{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:i=!1,closeAfterTransition:o=!1,onTransitionEnter:s,onTransitionExited:u,children:c,onClose:h,open:d,rootRef:p}=t,f=r.useRef({}),g=r.useRef(null),m=r.useRef(null),v=(0,a.Z)(m,p),[y,b]=r.useState(!d),x=!!c&&c.props.hasOwnProperty("in"),M=!0;("false"===t["aria-hidden"]||!1===t["aria-hidden"])&&(M=!1);let k=()=>(0,l.Z)(g.current),C=()=>(f.current.modalRef=m.current,f.current.mount=g.current,f.current),A=()=>{R.mount(C(),{disableScrollLock:i}),m.current&&(m.current.scrollTop=0)},T=(0,E.Z)(()=>{let t=("function"==typeof e?e():e)||k().body;R.add(C(),t),m.current&&A()}),P=()=>R.isTopModal(C()),D=(0,E.Z)(t=>{g.current=t,t&&(d&&P()?A():m.current&&O(m.current,M))}),N=r.useCallback(()=>{R.remove(C(),M)},[M]);r.useEffect(()=>()=>{N()},[N]),r.useEffect(()=>{d?T():x&&o||N()},[d,N,x,o,T]);let I=t=>e=>{var r;null===(r=t.onKeyDown)||void 0===r||r.call(t,e),"Escape"===e.key&&229!==e.which&&P()&&!n&&(e.stopPropagation(),h&&h(e,"escapeKeyDown"))},Z=t=>e=>{var n;null===(n=t.onClick)||void 0===n||n.call(t,e),e.target===e.currentTarget&&h&&h(e,"backdropClick")};return{getRootProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,S.Z)(t);delete n.onTransitionEnter,delete n.onTransitionExited;let r={...n,...e};return{role:"presentation",...r,onKeyDown:I(r),ref:v}},getBackdropProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{"aria-hidden":!0,...t,onClick:Z(t),open:d}},getTransitionProps:()=>{var t,e;return{onEnter:w(()=>{b(!1),s&&s()},null!==(t=null==c?void 0:c.props.onEnter)&&void 0!==t?t:L),onExited:w(()=>{b(!0),u&&u(),o&&N()},null!==(e=null==c?void 0:c.props.onExited)&&void 0!==e?e:L)}},rootRef:v,portalRef:D,isTopModal:P,exited:y,hasTransition:x}},N=n(54869),I=n(54418);function Z(t){return(0,I.ZP)("MuiModal",t)}(0,N.Z)("MuiModal",["root","hidden","backdrop"]);var j=n(77782),_=n(19503);let B=t=>{let{open:e,exited:n,classes:r}=t;return(0,o.Z)({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},Z,r)},F=(0,v.ZP)("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{let{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})((0,y.Z)(t=>{let{theme:e}=t;return{position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:t=>{let{ownerState:e}=t;return!e.open&&e.exited},style:{visibility:"hidden"}}]}})),z=(0,v.ZP)(x.Z,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1});var W=r.forwardRef(function(t,e){let n=(0,b.i)({name:"MuiModal",props:t}),{BackdropComponent:o=z,BackdropProps:a,classes:s,className:l,closeAfterTransition:c=!1,children:h,container:p,component:f,components:g={},componentsProps:v={},disableAutoFocus:y=!1,disableEnforceFocus:x=!1,disableEscapeKeyDown:E=!1,disablePortal:w=!1,disableRestoreFocus:S=!1,disableScrollLock:M=!1,hideBackdrop:k=!1,keepMounted:O=!1,onBackdropClick:C,onClose:A,onTransitionEnter:T,onTransitionExited:P,open:L,slotProps:R={},slots:N={},theme:I,...Z}=n,W={...n,closeAfterTransition:c,disableAutoFocus:y,disableEnforceFocus:x,disableEscapeKeyDown:E,disablePortal:w,disableRestoreFocus:S,disableScrollLock:M,hideBackdrop:k,keepMounted:O},{getRootProps:V,getBackdropProps:H,getTransitionProps:G,portalRef:$,isTopModal:U,exited:q,hasTransition:K}=D({...W,rootRef:e}),Y={...W,exited:q},X=B(Y),J={};if(void 0===h.props.tabIndex&&(J.tabIndex="-1"),K){let{onEnter:t,onExited:e}=G();J.onEnter=t,J.onExited=e}let Q={...Z,slots:{root:g.Root,backdrop:g.Backdrop,...N},slotProps:{...v,...R}},[tt,te]=(0,j.Z)("root",{elementType:F,externalForwardedProps:Q,getSlotProps:V,additionalProps:{ref:e,as:f},ownerState:Y,className:(0,i.Z)(l,null==X?void 0:X.root,!Y.open&&Y.exited&&(null==X?void 0:X.hidden))}),[tn,tr]=(0,j.Z)("backdrop",{elementType:o,externalForwardedProps:Q,additionalProps:a,getSlotProps:t=>H({...t,onClick:e=>{C&&C(e),(null==t?void 0:t.onClick)&&t.onClick(e)}}),className:(0,i.Z)(null==a?void 0:a.className,null==X?void 0:X.backdrop),ownerState:Y}),ti=(0,_.Z)(null==a?void 0:a.ref,tr.ref);return O||L||K&&!q?(0,u.jsx)(m,{ref:$,container:p,disablePortal:w,children:(0,u.jsxs)(tt,{...te,children:[!k&&o?(0,u.jsx)(tn,{...tr,ref:ti}):null,(0,u.jsx)(d,{disableEnforceFocus:x,disableAutoFocus:y,disableRestoreFocus:S,isEnabled:U,open:L,children:r.cloneElement(h,J)})]})}):null})},25142:function(t,e,n){"use strict";n.d(e,{Z:function(){return w}});var r=n(38875),i=n(52554),o=n(29366),a=n(54418),s=n(96503),l=n(73837),u=n(70976),c=n(8496),h=n(78725),d=n(81418),p=n(7014),f=n(48499);let g=(0,h.Z)(),m=(0,l.Z)("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function v(t){return(0,u.Z)({props:t,name:"MuiStack",defaultTheme:g})}let y=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],b=({ownerState:t,theme:e})=>{let n={display:"flex",flexDirection:"column",...(0,d.k9)({theme:e},(0,d.P$)({values:t.direction,breakpoints:e.breakpoints.values}),t=>({flexDirection:t}))};if(t.spacing){let r=(0,p.hB)(e),i=Object.keys(e.breakpoints.values).reduce((e,n)=>(("object"==typeof t.spacing&&null!=t.spacing[n]||"object"==typeof t.direction&&null!=t.direction[n])&&(e[n]=!0),e),{}),a=(0,d.P$)({values:t.direction,base:i}),s=(0,d.P$)({values:t.spacing,base:i});"object"==typeof a&&Object.keys(a).forEach((t,e,n)=>{if(!a[t]){let r=e>0?a[n[e-1]]:"column";a[t]=r}}),n=(0,o.Z)(n,(0,d.k9)({theme:e},s,(e,n)=>t.useFlexGap?{gap:(0,p.NA)(r,e)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${y(n?a[n]:t.direction)}`]:(0,p.NA)(r,e)}}))}return(0,d.dt)(e.breakpoints,n)};var x=n(72933),E=n(76526),w=function(t={}){let{createStyledComponent:e=m,useThemeProps:n=v,componentName:o="MuiStack"}=t,l=()=>(0,s.Z)({root:["root"]},t=>(0,a.ZP)(o,t),{}),u=e(b);return r.forwardRef(function(t,e){let o=n(t),{component:a="div",direction:s="column",spacing:h=0,divider:d,children:p,className:g,useFlexGap:m=!1,...v}=(0,c.Z)(o),y=l();return(0,f.jsx)(u,{as:a,ownerState:{direction:s,spacing:h,useFlexGap:m},ref:e,className:(0,i.Z)(y.root,g),...v,children:d?function(t,e){let n=r.Children.toArray(t).filter(Boolean);return n.reduce((t,i,o)=>(t.push(i),o<n.length-1&&t.push(r.cloneElement(e,{key:`separator-${o}`})),t),[])}(p,d):p})})}({createStyledComponent:(0,x.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>(0,E.i)({props:t,name:"MuiStack"})})},80300:function(t,e,n){"use strict";n.d(e,{Z:function(){return v}});var r=n(38875),i=n(52554),o=n(96503),a=n(55920),s=n(72933),l=n(2155),u=n(76526),c=n(54869),h=n(54418);function d(t){return(0,h.ZP)("MuiTable",t)}(0,c.Z)("MuiTable",["root","stickyHeader"]);var p=n(48499);let f=t=>{let{classes:e,stickyHeader:n}=t;return(0,o.Z)({root:["root",n&&"stickyHeader"]},d,e)},g=(0,s.ZP)("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{let{ownerState:n}=t;return[e.root,n.stickyHeader&&e.stickyHeader]}})((0,l.Z)(t=>{let{theme:e}=t;return{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...e.typography.body2,padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:t=>{let{ownerState:e}=t;return e.stickyHeader},style:{borderCollapse:"separate"}}]}})),m="table";var v=r.forwardRef(function(t,e){let n=(0,u.i)({props:t,name:"MuiTable"}),{className:o,component:s=m,padding:l="normal",size:c="medium",stickyHeader:h=!1,...d}=n,v={...n,component:s,padding:l,size:c,stickyHeader:h},y=f(v),b=r.useMemo(()=>({padding:l,size:c,stickyHeader:h}),[l,c,h]);return(0,p.jsx)(a.Z.Provider,{value:b,children:(0,p.jsx)(g,{as:s,role:s===m?null:"table",ref:e,className:(0,i.Z)(y.root,o),ownerState:v,...d})})})},55920:function(t,e,n){"use strict";let r=n(38875).createContext();e.Z=r},74562:function(t,e,n){"use strict";let r=n(38875).createContext();e.Z=r},86430:function(t,e,n){"use strict";n.d(e,{Z:function(){return v}});var r=n(38875),i=n(52554),o=n(96503),a=n(74562),s=n(72933),l=n(76526),u=n(54869),c=n(54418);function h(t){return(0,c.ZP)("MuiTableBody",t)}(0,u.Z)("MuiTableBody",["root"]);var d=n(48499);let p=t=>{let{classes:e}=t;return(0,o.Z)({root:["root"]},h,e)},f=(0,s.ZP)("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-row-group"}),g={variant:"body"},m="tbody";var v=r.forwardRef(function(t,e){let n=(0,l.i)({props:t,name:"MuiTableBody"}),{className:r,component:o=m,...s}=n,u={...n,component:o},c=p(u);return(0,d.jsx)(a.Z.Provider,{value:g,children:(0,d.jsx)(f,{className:(0,i.Z)(c.root,r),as:o,ref:e,role:o===m?null:"rowgroup",ownerState:u,...s})})})},58504:function(t,e,n){"use strict";n.d(e,{Z:function(){return x}});var r=n(38875),i=n(52554),o=n(96503),a=n(75833),s=n(84177),l=n(55920),u=n(74562),c=n(72933),h=n(2155),d=n(76526),p=n(54869),f=n(54418);function g(t){return(0,f.ZP)("MuiTableCell",t)}let m=(0,p.Z)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]);var v=n(48499);let y=t=>{let{classes:e,variant:n,align:r,padding:i,size:a,stickyHeader:l}=t,u={root:["root",n,l&&"stickyHeader","inherit"!==r&&"align".concat((0,s.Z)(r)),"normal"!==i&&"padding".concat((0,s.Z)(i)),"size".concat((0,s.Z)(a))]};return(0,o.Z)(u,g,e)},b=(0,c.ZP)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{let{ownerState:n}=t;return[e.root,e[n.variant],e["size".concat((0,s.Z)(n.size))],"normal"!==n.padding&&e["padding".concat((0,s.Z)(n.padding))],"inherit"!==n.align&&e["align".concat((0,s.Z)(n.align))],n.stickyHeader&&e.stickyHeader]}})((0,h.Z)(t=>{let{theme:e}=t;return{...e.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?"1px solid ".concat(e.vars.palette.TableCell.border):"1px solid\n    ".concat("light"===e.palette.mode?(0,a.$n)((0,a.Fq)(e.palette.divider,1),.88):(0,a._j)((0,a.Fq)(e.palette.divider,1),.68)),textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(e.vars||e).palette.text.primary}},{props:{variant:"footer"},style:{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",["&.".concat(m.paddingCheckbox)]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:t=>{let{ownerState:e}=t;return e.stickyHeader},style:{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default}}]}}));var x=r.forwardRef(function(t,e){let n;let o=(0,d.i)({props:t,name:"MuiTableCell"}),{align:a="inherit",className:s,component:c,padding:h,scope:p,size:f,sortDirection:g,variant:m,...x}=o,E=r.useContext(l.Z),w=r.useContext(u.Z),S=w&&"head"===w.variant,M=p;"td"===(n=c||(S?"th":"td"))?M=void 0:!M&&S&&(M="col");let k=m||w&&w.variant,O={...o,align:a,component:n,padding:h||(E&&E.padding?E.padding:"normal"),size:f||(E&&E.size?E.size:"medium"),sortDirection:g,stickyHeader:"head"===k&&E&&E.stickyHeader,variant:k},C=y(O),A=null;return g&&(A="asc"===g?"ascending":"descending"),(0,v.jsx)(b,{as:n,ref:e,className:(0,i.Z)(C.root,s),"aria-sort":A,scope:M,ownerState:O,...x})})},87396:function(t,e,n){"use strict";n.d(e,{Z:function(){return f}});var r=n(38875),i=n(52554),o=n(96503),a=n(72933),s=n(76526),l=n(54869),u=n(54418);function c(t){return(0,u.ZP)("MuiTableContainer",t)}(0,l.Z)("MuiTableContainer",["root"]);var h=n(48499);let d=t=>{let{classes:e}=t;return(0,o.Z)({root:["root"]},c,e)},p=(0,a.ZP)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(t,e)=>e.root})({width:"100%",overflowX:"auto"});var f=r.forwardRef(function(t,e){let n=(0,s.i)({props:t,name:"MuiTableContainer"}),{className:r,component:o="div",...a}=n,l={...n,component:o},u=d(l);return(0,h.jsx)(p,{ref:e,as:o,className:(0,i.Z)(u.root,r),ownerState:l,...a})})},34713:function(t,e,n){"use strict";n.d(e,{Z:function(){return v}});var r=n(38875),i=n(52554),o=n(96503),a=n(74562),s=n(72933),l=n(76526),u=n(54869),c=n(54418);function h(t){return(0,c.ZP)("MuiTableHead",t)}(0,u.Z)("MuiTableHead",["root"]);var d=n(48499);let p=t=>{let{classes:e}=t;return(0,o.Z)({root:["root"]},h,e)},f=(0,s.ZP)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-header-group"}),g={variant:"head"},m="thead";var v=r.forwardRef(function(t,e){let n=(0,l.i)({props:t,name:"MuiTableHead"}),{className:r,component:o=m,...s}=n,u={...n,component:o},c=p(u);return(0,d.jsx)(a.Z.Provider,{value:g,children:(0,d.jsx)(f,{as:o,className:(0,i.Z)(c.root,r),ref:e,role:o===m?null:"rowgroup",ownerState:u,...s})})})},37370:function(t,e,n){"use strict";n.d(e,{Z:function(){return y}});var r=n(38875),i=n(52554),o=n(96503),a=n(75833),s=n(74562),l=n(72933),u=n(2155),c=n(76526),h=n(54869),d=n(54418);function p(t){return(0,d.ZP)("MuiTableRow",t)}let f=(0,h.Z)("MuiTableRow",["root","selected","hover","head","footer"]);var g=n(48499);let m=t=>{let{classes:e,selected:n,hover:r,head:i,footer:a}=t;return(0,o.Z)({root:["root",n&&"selected",r&&"hover",i&&"head",a&&"footer"]},p,e)},v=(0,l.ZP)("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{let{ownerState:n}=t;return[e.root,n.head&&e.head,n.footer&&e.footer]}})((0,u.Z)(t=>{let{theme:e}=t;return{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,["&.".concat(f.hover,":hover")]:{backgroundColor:(e.vars||e).palette.action.hover},["&.".concat(f.selected)]:{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.selectedOpacity,")"):(0,a.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / calc(").concat(e.vars.palette.action.selectedOpacity," + ").concat(e.vars.palette.action.hoverOpacity,"))"):(0,a.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}}}));var y=r.forwardRef(function(t,e){let n=(0,c.i)({props:t,name:"MuiTableRow"}),{className:o,component:a="tr",hover:l=!1,selected:u=!1,...h}=n,d=r.useContext(s.Z),p={...n,component:a,hover:l,selected:u,head:d&&"head"===d.variant,footer:d&&"footer"===d.variant},f=m(p);return(0,g.jsx)(v,{as:a,ref:e,className:(0,i.Z)(f.root,o),role:"tr"===a?null:"row",ownerState:p,...h})})},89747:function(t,e,n){"use strict";n.d(e,{Z:function(){return eZ}});var r,i,o,a,s=n(38875),l=n(52554),u=n(96503),c=n(1794),h=n(72933),d=n(76526),p=n(29366),f=n(24743),g=n(33254),m=n(87190),v=n(74393);function y(t,e=166){let n;function r(...i){clearTimeout(n),n=setTimeout(()=>{t.apply(this,i)},e)}return r.clear=()=>{clearTimeout(n)},r}var b=n(48499);function x(t){return parseInt(t,10)||0}let E={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},w=s.forwardRef(function(t,e){let{onChange:n,maxRows:r,minRows:i=1,style:o,value:a,...l}=t,{current:u}=s.useRef(null!=a),c=s.useRef(null),h=(0,g.Z)(e,c),d=s.useRef(null),p=s.useRef(null),f=s.useCallback(()=>{let e=c.current,n=(0,m.Z)(e).getComputedStyle(e);if("0px"===n.width)return{outerHeightStyle:0,overflowing:!1};let o=p.current;o.style.width=n.width,o.value=e.value||t.placeholder||"x","\n"===o.value.slice(-1)&&(o.value+=" ");let a=n.boxSizing,s=x(n.paddingBottom)+x(n.paddingTop),l=x(n.borderBottomWidth)+x(n.borderTopWidth),u=o.scrollHeight;o.value="x";let h=o.scrollHeight,d=u;return i&&(d=Math.max(Number(i)*h,d)),r&&(d=Math.min(Number(r)*h,d)),{outerHeightStyle:(d=Math.max(d,h))+("border-box"===a?s+l:0),overflowing:1>=Math.abs(d-u)}},[r,i,t.placeholder]),w=s.useCallback(()=>{let t=f();if(null==t||0===Object.keys(t).length||0===t.outerHeightStyle&&!t.overflowing)return;let e=t.outerHeightStyle,n=c.current;d.current!==e&&(d.current=e,n.style.height="".concat(e,"px")),n.style.overflow=t.overflowing?"hidden":""},[f]);return(0,v.Z)(()=>{let t,e;let n=()=>{w()},r=y(n),i=c.current,o=(0,m.Z)(i);return o.addEventListener("resize",r),"undefined"!=typeof ResizeObserver&&(e=new ResizeObserver(n)).observe(i),()=>{r.clear(),cancelAnimationFrame(t),o.removeEventListener("resize",r),e&&e.disconnect()}},[f,w]),(0,v.Z)(()=>{w()}),(0,b.jsxs)(s.Fragment,{children:[(0,b.jsx)("textarea",{value:a,onChange:t=>{u||w(),n&&n(t)},ref:h,rows:i,style:o,...l}),(0,b.jsx)("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:p,tabIndex:-1,style:{...E,...o,paddingTop:0,paddingBottom:0}})]})});var S=function(t){return"string"==typeof t};function M(t){let{props:e,states:n,muiFormControl:r}=t;return n.reduce((t,n)=>(t[n]=e[n],r&&void 0===e[n]&&(t[n]=r[n]),t),{})}var k=n(44210),O=n(55709),C=n(90433),A=n(2155),T=n(84177),P=n(19503),L=v.Z;function R(t){return null!=t&&!(Array.isArray(t)&&0===t.length)}function D(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&(R(t.value)&&""!==t.value||e&&R(t.defaultValue)&&""!==t.defaultValue)}var N=n(54869),I=n(54418);function Z(t){return(0,I.ZP)("MuiInputBase",t)}let j=(0,N.Z)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),_=(t,e)=>{let{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,"small"===n.size&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e["color".concat((0,T.Z)(n.color))],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},B=(t,e)=>{let{ownerState:n}=t;return[e.input,"small"===n.size&&e.inputSizeSmall,n.multiline&&e.inputMultiline,"search"===n.type&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},F=t=>{let{classes:e,color:n,disabled:r,error:i,endAdornment:o,focused:a,formControl:s,fullWidth:l,hiddenLabel:c,multiline:h,readOnly:d,size:p,startAdornment:f,type:g}=t,m={root:["root","color".concat((0,T.Z)(n)),r&&"disabled",i&&"error",l&&"fullWidth",a&&"focused",s&&"formControl",p&&"medium"!==p&&"size".concat((0,T.Z)(p)),h&&"multiline",f&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled","search"===g&&"inputTypeSearch",h&&"inputMultiline","small"===p&&"inputSizeSmall",c&&"inputHiddenLabel",f&&"inputAdornedStart",o&&"inputAdornedEnd",d&&"readOnly"]};return(0,u.Z)(m,Z,e)},z=(0,h.ZP)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:_})((0,A.Z)(t=>{let{theme:e}=t;return{...e.typography.body1,color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",["&.".concat(j.disabled)]:{color:(e.vars||e).palette.text.disabled,cursor:"default"},variants:[{props:t=>{let{ownerState:e}=t;return e.multiline},style:{padding:"4px 0 5px"}},{props:t=>{let{ownerState:e,size:n}=t;return e.multiline&&"small"===n},style:{paddingTop:1}},{props:t=>{let{ownerState:e}=t;return e.fullWidth},style:{width:"100%"}}]}})),W=(0,h.ZP)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:B})((0,A.Z)(t=>{let{theme:e}=t,n="light"===e.palette.mode,r={color:"currentColor",...e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},i={opacity:"0 !important"},o=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},["label[data-shrink=false] + .".concat(j.formControl," &")]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus::-ms-input-placeholder":o},["&.".concat(j.disabled)]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},variants:[{props:t=>{let{ownerState:e}=t;return!e.disableInjectingGlobalStyles},style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:t=>{let{ownerState:e}=t;return e.multiline},style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),V=(0,C.zY)({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),H=s.forwardRef(function(t,e){var n;let i=(0,d.i)({props:t,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:a,autoFocus:u,className:c,color:h,components:p={},componentsProps:g={},defaultValue:m,disabled:v,disableInjectingGlobalStyles:y,endAdornment:x,error:E,fullWidth:C=!1,id:A,inputComponent:T="input",inputProps:R={},inputRef:N,margin:I,maxRows:Z,minRows:j,multiline:_=!1,name:B,onBlur:H,onChange:G,onClick:$,onFocus:U,onKeyDown:q,onKeyUp:K,placeholder:Y,readOnly:X,renderSuffix:J,rows:Q,size:tt,slotProps:te={},slots:tn={},startAdornment:tr,type:ti="text",value:to,...ta}=i,ts=null!=R.value?R.value:to,{current:tl}=s.useRef(null!=ts),tu=s.useRef(),tc=s.useCallback(t=>{},[]),th=(0,P.Z)(tu,N,R.ref,tc),[td,tp]=s.useState(!1),tf=(0,O.Z)(),tg=M({props:i,muiFormControl:tf,states:["color","disabled","error","hiddenLabel","size","required","filled"]});tg.focused=tf?tf.focused:td,s.useEffect(()=>{!tf&&v&&td&&(tp(!1),H&&H())},[tf,v,td,H]);let tm=tf&&tf.onFilled,tv=tf&&tf.onEmpty,ty=s.useCallback(t=>{D(t)?tm&&tm():tv&&tv()},[tm,tv]);L(()=>{tl&&ty({value:ts})},[ts,ty,tl]),s.useEffect(()=>{ty(tu.current)},[]);let tb=T,tx=R;_&&"input"===tb&&(tx=Q?{type:void 0,minRows:Q,maxRows:Q,...tx}:{type:void 0,maxRows:Z,minRows:j,...tx},tb=w),s.useEffect(()=>{tf&&tf.setAdornedStart(!!tr)},[tf,tr]);let tE={...i,color:tg.color||"primary",disabled:tg.disabled,endAdornment:x,error:tg.error,focused:tg.focused,formControl:tf,fullWidth:C,hiddenLabel:tg.hiddenLabel,multiline:_,size:tg.size,startAdornment:tr,type:ti},tw=F(tE),tS=tn.root||p.Root||z,tM=te.root||g.root||{},tk=tn.input||p.Input||W;return tx={...tx,...null!==(n=te.input)&&void 0!==n?n:g.input},(0,b.jsxs)(s.Fragment,{children:[!y&&"function"==typeof V&&(r||(r=(0,b.jsx)(V,{}))),(0,b.jsxs)(tS,{...tM,ref:e,onClick:t=>{tu.current&&t.currentTarget===t.target&&tu.current.focus(),$&&$(t)},...ta,...!S(tS)&&{ownerState:{...tE,...tM.ownerState}},className:(0,l.Z)(tw.root,tM.className,c,X&&"MuiInputBase-readOnly"),children:[tr,(0,b.jsx)(k.Z.Provider,{value:null,children:(0,b.jsx)(tk,{"aria-invalid":tg.error,"aria-describedby":o,autoComplete:a,autoFocus:u,defaultValue:m,disabled:tg.disabled,id:A,onAnimationStart:t=>{ty("mui-auto-fill-cancel"===t.animationName?tu.current:{value:"x"})},name:B,placeholder:Y,readOnly:X,required:tg.required,rows:Q,value:ts,onKeyDown:q,onKeyUp:K,type:ti,...tx,...!S(tk)&&{as:tb,ownerState:{...tE,...tx.ownerState}},ref:th,className:(0,l.Z)(tw.input,tx.className,X&&"MuiInputBase-readOnly"),onBlur:t=>{H&&H(t),R.onBlur&&R.onBlur(t),tf&&tf.onBlur?tf.onBlur(t):tp(!1)},onChange:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(!tl){let e=t.target||tu.current;if(null==e)throw Error((0,f.Z)(1));ty({value:e.value})}R.onChange&&R.onChange(t,...n),G&&G(t,...n)},onFocus:t=>{U&&U(t),R.onFocus&&R.onFocus(t),tf&&tf.onFocus?tf.onFocus(t):tp(!0)}})}),x,J?J({...tg,startAdornment:tr}):null]})]})});var G=n(73733),$=n(62244);function U(t){return(0,I.ZP)("MuiInput",t)}let q={...j,...(0,N.Z)("MuiInput",["root","underline","input"])},K=t=>{let{classes:e,disableUnderline:n}=t,r=(0,u.Z)({root:["root",!n&&"underline"],input:["input"]},U,e);return{...e,...r}},Y=(0,h.ZP)(z,{shouldForwardProp:t=>(0,G.Z)(t)||"classes"===t,name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{let{ownerState:n}=t;return[..._(t,e),!n.disableUnderline&&e.underline]}})((0,A.Z)(t=>{let{theme:e}=t,n="light"===e.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(n="rgba(".concat(e.vars.palette.common.onBackgroundChannel," / ").concat(e.vars.opacity.inputUnderline,")")),{position:"relative",variants:[{props:t=>{let{ownerState:e}=t;return e.formControl},style:{"label + &":{marginTop:16}}},{props:t=>{let{ownerState:e}=t;return!e.disableUnderline},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(q.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(q.error)]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(q.disabled,", .").concat(q.error,"):before")]:{borderBottom:"2px solid ".concat((e.vars||e).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(n)}},["&.".concat(q.disabled,":before")]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter((0,$.Z)()).map(t=>{let[n]=t;return{props:{color:n,disableUnderline:!1},style:{"&::after":{borderBottom:"2px solid ".concat((e.vars||e).palette[n].main)}}}})]}})),X=(0,h.ZP)(W,{name:"MuiInput",slot:"Input",overridesResolver:B})({}),J=s.forwardRef(function(t,e){var n,r,i,o;let a=(0,d.i)({props:t,name:"MuiInput"}),{disableUnderline:s=!1,components:l={},componentsProps:u,fullWidth:c=!1,inputComponent:h="input",multiline:f=!1,slotProps:g,slots:m={},type:v="text",...y}=a,x=K(a),E={root:{ownerState:{disableUnderline:s}}},w=(null!=g?g:u)?(0,p.Z)(null!=g?g:u,E):E,S=null!==(r=null!==(n=m.root)&&void 0!==n?n:l.Root)&&void 0!==r?r:Y,M=null!==(o=null!==(i=m.input)&&void 0!==i?i:l.Input)&&void 0!==o?o:X;return(0,b.jsx)(H,{slots:{root:S,input:M},slotProps:w,fullWidth:c,inputComponent:h,multiline:f,ref:e,type:v,...y,classes:x})});function Q(t){return(0,I.ZP)("MuiFilledInput",t)}J&&(J.muiName="Input");let tt={...j,...(0,N.Z)("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},te=t=>{let{classes:e,disableUnderline:n,startAdornment:r,endAdornment:i,size:o,hiddenLabel:a,multiline:s}=t,l={root:["root",!n&&"underline",r&&"adornedStart",i&&"adornedEnd","small"===o&&"size".concat((0,T.Z)(o)),a&&"hiddenLabel",s&&"multiline"],input:["input"]},c=(0,u.Z)(l,Q,e);return{...e,...c}},tn=(0,h.ZP)(z,{shouldForwardProp:t=>(0,G.Z)(t)||"classes"===t,name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{let{ownerState:n}=t;return[..._(t,e),!n.disableUnderline&&e.underline]}})((0,A.Z)(t=>{let{theme:e}=t,n="light"===e.palette.mode,r=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)";return{position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r}},["&.".concat(tt.focused)]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r},["&.".concat(tt.disabled)]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"},variants:[{props:t=>{let{ownerState:e}=t;return!e.disableUnderline},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(tt.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(tt.error)]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(e.vars?"rgba(".concat(e.vars.palette.common.onBackgroundChannel," / ").concat(e.vars.opacity.inputUnderline,")"):n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)"),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(tt.disabled,", .").concat(tt.error,"):before")]:{borderBottom:"1px solid ".concat((e.vars||e).palette.text.primary)},["&.".concat(tt.disabled,":before")]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter((0,$.Z)()).map(t=>{var n;let[r]=t;return{props:{disableUnderline:!1,color:r},style:{"&::after":{borderBottom:"2px solid ".concat(null===(n=(e.vars||e).palette[r])||void 0===n?void 0:n.main)}}}}),{props:t=>{let{ownerState:e}=t;return e.startAdornment},style:{paddingLeft:12}},{props:t=>{let{ownerState:e}=t;return e.endAdornment},style:{paddingRight:12}},{props:t=>{let{ownerState:e}=t;return e.multiline},style:{padding:"25px 12px 8px"}},{props:t=>{let{ownerState:e,size:n}=t;return e.multiline&&"small"===n},style:{paddingTop:21,paddingBottom:4}},{props:t=>{let{ownerState:e}=t;return e.multiline&&e.hiddenLabel},style:{paddingTop:16,paddingBottom:17}},{props:t=>{let{ownerState:e}=t;return e.multiline&&e.hiddenLabel&&"small"===e.size},style:{paddingTop:8,paddingBottom:9}}]}})),tr=(0,h.ZP)(W,{name:"MuiFilledInput",slot:"Input",overridesResolver:B})((0,A.Z)(t=>{let{theme:e}=t;return{paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.mode?null:"#fff",caretColor:"light"===e.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:t=>{let{ownerState:e}=t;return e.hiddenLabel},style:{paddingTop:16,paddingBottom:17}},{props:t=>{let{ownerState:e}=t;return e.startAdornment},style:{paddingLeft:0}},{props:t=>{let{ownerState:e}=t;return e.endAdornment},style:{paddingRight:0}},{props:t=>{let{ownerState:e}=t;return e.hiddenLabel&&"small"===e.size},style:{paddingTop:8,paddingBottom:9}},{props:t=>{let{ownerState:e}=t;return e.multiline},style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}})),ti=s.forwardRef(function(t,e){var n,r,i,o;let a=(0,d.i)({props:t,name:"MuiFilledInput"}),{disableUnderline:s=!1,components:l={},componentsProps:u,fullWidth:c=!1,hiddenLabel:h,inputComponent:f="input",multiline:g=!1,slotProps:m,slots:v={},type:y="text",...x}=a,E={...a,disableUnderline:s,fullWidth:c,inputComponent:f,multiline:g,type:y},w=te(a),S={root:{ownerState:E},input:{ownerState:E}},M=(null!=m?m:u)?(0,p.Z)(S,null!=m?m:u):S,k=null!==(r=null!==(n=v.root)&&void 0!==n?n:l.Root)&&void 0!==r?r:tn,O=null!==(o=null!==(i=v.input)&&void 0!==i?i:l.Input)&&void 0!==o?o:tr;return(0,b.jsx)(H,{slots:{root:k,input:O},slotProps:M,fullWidth:c,inputComponent:f,multiline:g,ref:e,type:y,...x,classes:w})});ti&&(ti.muiName="Input");let to=(0,h.ZP)("fieldset",{shouldForwardProp:G.Z})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),ta=(0,h.ZP)("legend",{shouldForwardProp:G.Z})((0,A.Z)(t=>{let{theme:e}=t;return{float:"unset",width:"auto",overflow:"hidden",variants:[{props:t=>{let{ownerState:e}=t;return!e.withLabel},style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:t=>{let{ownerState:e}=t;return e.withLabel},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:t=>{let{ownerState:e}=t;return e.withLabel&&e.notched},style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]}}));function ts(t){return(0,I.ZP)("MuiOutlinedInput",t)}let tl={...j,...(0,N.Z)("MuiOutlinedInput",["root","notchedOutline","input"])},tu=t=>{let{classes:e}=t,n=(0,u.Z)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},ts,e);return{...e,...n}},tc=(0,h.ZP)(z,{shouldForwardProp:t=>(0,G.Z)(t)||"classes"===t,name:"MuiOutlinedInput",slot:"Root",overridesResolver:_})((0,A.Z)(t=>{let{theme:e}=t,n="light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(e.vars||e).shape.borderRadius,["&:hover .".concat(tl.notchedOutline)]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{["&:hover .".concat(tl.notchedOutline)]:{borderColor:e.vars?"rgba(".concat(e.vars.palette.common.onBackgroundChannel," / 0.23)"):n}},["&.".concat(tl.focused," .").concat(tl.notchedOutline)]:{borderWidth:2},variants:[...Object.entries(e.palette).filter((0,$.Z)()).map(t=>{let[n]=t;return{props:{color:n},style:{["&.".concat(tl.focused," .").concat(tl.notchedOutline)]:{borderColor:(e.vars||e).palette[n].main}}}}),{props:{},style:{["&.".concat(tl.error," .").concat(tl.notchedOutline)]:{borderColor:(e.vars||e).palette.error.main},["&.".concat(tl.disabled," .").concat(tl.notchedOutline)]:{borderColor:(e.vars||e).palette.action.disabled}}},{props:t=>{let{ownerState:e}=t;return e.startAdornment},style:{paddingLeft:14}},{props:t=>{let{ownerState:e}=t;return e.endAdornment},style:{paddingRight:14}},{props:t=>{let{ownerState:e}=t;return e.multiline},style:{padding:"16.5px 14px"}},{props:t=>{let{ownerState:e,size:n}=t;return e.multiline&&"small"===n},style:{padding:"8.5px 14px"}}]}})),th=(0,h.ZP)(function(t){let{children:e,classes:n,className:r,label:o,notched:a,...s}=t,l=null!=o&&""!==o,u={...t,notched:a,withLabel:l};return(0,b.jsx)(to,{"aria-hidden":!0,className:r,ownerState:u,...s,children:(0,b.jsx)(ta,{ownerState:u,children:l?(0,b.jsx)("span",{children:o}):i||(i=(0,b.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})},{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})((0,A.Z)(t=>{let{theme:e}=t,n="light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?"rgba(".concat(e.vars.palette.common.onBackgroundChannel," / 0.23)"):n}})),td=(0,h.ZP)(W,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:B})((0,A.Z)(t=>{let{theme:e}=t;return{padding:"16.5px 14px",...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.mode?null:"#fff",caretColor:"light"===e.palette.mode?null:"#fff",borderRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:t=>{let{ownerState:e}=t;return e.multiline},style:{padding:0}},{props:t=>{let{ownerState:e}=t;return e.startAdornment},style:{paddingLeft:0}},{props:t=>{let{ownerState:e}=t;return e.endAdornment},style:{paddingRight:0}}]}})),tp=s.forwardRef(function(t,e){var n,r,i,o,a;let l=(0,d.i)({props:t,name:"MuiOutlinedInput"}),{components:u={},fullWidth:c=!1,inputComponent:h="input",label:p,multiline:f=!1,notched:g,slots:m={},type:v="text",...y}=l,x=tu(l),E=(0,O.Z)(),w=M({props:l,muiFormControl:E,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),S={...l,color:w.color||"primary",disabled:w.disabled,error:w.error,focused:w.focused,formControl:E,fullWidth:c,hiddenLabel:w.hiddenLabel,multiline:f,size:w.size,type:v},k=null!==(i=null!==(r=m.root)&&void 0!==r?r:u.Root)&&void 0!==i?i:tc,C=null!==(a=null!==(o=m.input)&&void 0!==o?o:u.Input)&&void 0!==a?a:td;return(0,b.jsx)(H,{slots:{root:k,input:C},renderSuffix:t=>(0,b.jsx)(th,{ownerState:S,className:x.notchedOutline,label:null!=p&&""!==p&&w.required?n||(n=(0,b.jsxs)(s.Fragment,{children:[p," ","*"]})):p,notched:void 0!==g?g:!!(t.startAdornment||t.filled||t.focused)}),fullWidth:c,inputComponent:h,multiline:f,ref:e,type:v,...y,classes:{...x,notchedOutline:null}})});function tf(t){return(0,I.ZP)("MuiFormLabel",t)}tp&&(tp.muiName="Input");let tg=(0,N.Z)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),tm=t=>{let{classes:e,color:n,focused:r,disabled:i,error:o,filled:a,required:s}=t,l={root:["root","color".concat((0,T.Z)(n)),i&&"disabled",o&&"error",a&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",o&&"error"]};return(0,u.Z)(l,tf,e)},tv=(0,h.ZP)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{let{ownerState:n}=t;return{...e.root,..."secondary"===n.color&&e.colorSecondary,...n.filled&&e.filled}}})((0,A.Z)(t=>{let{theme:e}=t;return{color:(e.vars||e).palette.text.secondary,...e.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(e.palette).filter((0,$.Z)()).map(t=>{let[n]=t;return{props:{color:n},style:{["&.".concat(tg.focused)]:{color:(e.vars||e).palette[n].main}}}}),{props:{},style:{["&.".concat(tg.disabled)]:{color:(e.vars||e).palette.text.disabled},["&.".concat(tg.error)]:{color:(e.vars||e).palette.error.main}}}]}})),ty=(0,h.ZP)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})((0,A.Z)(t=>{let{theme:e}=t;return{["&.".concat(tg.error)]:{color:(e.vars||e).palette.error.main}}})),tb=s.forwardRef(function(t,e){let n=(0,d.i)({props:t,name:"MuiFormLabel"}),{children:r,className:i,color:o,component:a="label",disabled:s,error:u,filled:c,focused:h,required:p,...f}=n,g=M({props:n,muiFormControl:(0,O.Z)(),states:["color","required","focused","disabled","error","filled"]}),m={...n,color:g.color||"primary",component:a,disabled:g.disabled,error:g.error,filled:g.filled,focused:g.focused,required:g.required},v=tm(m);return(0,b.jsxs)(tv,{as:a,ownerState:m,className:(0,l.Z)(v.root,i),ref:e,...f,children:[r,g.required&&(0,b.jsxs)(ty,{ownerState:m,"aria-hidden":!0,className:v.asterisk,children:[" ","*"]})]})});function tx(t){return(0,I.ZP)("MuiInputLabel",t)}(0,N.Z)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);let tE=t=>{let{classes:e,formControl:n,size:r,shrink:i,disableAnimation:o,variant:a,required:s}=t,l={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&"normal"!==r&&"size".concat((0,T.Z)(r)),a],asterisk:[s&&"asterisk"]},c=(0,u.Z)(l,tx,e);return{...e,...c}},tw=(0,h.ZP)(tb,{shouldForwardProp:t=>(0,G.Z)(t)||"classes"===t,name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{let{ownerState:n}=t;return[{["& .".concat(tg.asterisk)]:e.asterisk},e.root,n.formControl&&e.formControl,"small"===n.size&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})((0,A.Z)(t=>{let{theme:e}=t;return{display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:t=>{let{ownerState:e}=t;return e.formControl},style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:t=>{let{ownerState:e}=t;return e.shrink},style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:t=>{let{ownerState:e}=t;return!e.disableAnimation},style:{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:t=>{let{variant:e,ownerState:n}=t;return"filled"===e&&n.shrink},style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:t=>{let{variant:e,ownerState:n,size:r}=t;return"filled"===e&&n.shrink&&"small"===r},style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:t=>{let{variant:e,ownerState:n}=t;return"outlined"===e&&n.shrink},style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}})),tS=s.forwardRef(function(t,e){let n=(0,d.i)({name:"MuiInputLabel",props:t}),{disableAnimation:r=!1,margin:i,shrink:o,variant:a,className:s,...u}=n,c=(0,O.Z)(),h=o;void 0===h&&c&&(h=c.filled||c.focused||c.adornedStart);let p=M({props:n,muiFormControl:c,states:["size","variant","required","focused"]}),f={...n,disableAnimation:r,formControl:c,shrink:h,size:p.size,variant:p.variant,required:p.required,focused:p.focused},g=tE(f);return(0,b.jsx)(tw,{"data-shrink":h,ref:e,className:(0,l.Z)(g.root,s),...u,ownerState:f,classes:g})});var tM=function(t,e){return s.isValidElement(t)&&-1!==e.indexOf(t.type.muiName??t.type?._payload?.value?.muiName)};function tk(t){return(0,I.ZP)("MuiFormControl",t)}(0,N.Z)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);let tO=t=>{let{classes:e,margin:n,fullWidth:r}=t,i={root:["root","none"!==n&&"margin".concat((0,T.Z)(n)),r&&"fullWidth"]};return(0,u.Z)(i,tk,e)},tC=(0,h.ZP)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{let{ownerState:n}=t;return{...e.root,...e["margin".concat((0,T.Z)(n.margin))],...n.fullWidth&&e.fullWidth}}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),tA=s.forwardRef(function(t,e){let n;let r=(0,d.i)({props:t,name:"MuiFormControl"}),{children:i,className:o,color:a="primary",component:u="div",disabled:c=!1,error:h=!1,focused:p,fullWidth:f=!1,hiddenLabel:g=!1,margin:m="none",required:v=!1,size:y="medium",variant:x="outlined",...E}=r,w={...r,color:a,component:u,disabled:c,error:h,fullWidth:f,hiddenLabel:g,margin:m,required:v,size:y,variant:x},S=tO(w),[M,O]=s.useState(()=>{let t=!1;return i&&s.Children.forEach(i,e=>{if(!tM(e,["Input","Select"]))return;let n=tM(e,["Select"])?e.props.input:e;n&&n.props.startAdornment&&(t=!0)}),t}),[C,A]=s.useState(()=>{let t=!1;return i&&s.Children.forEach(i,e=>{tM(e,["Input","Select"])&&(D(e.props,!0)||D(e.props.inputProps,!0))&&(t=!0)}),t}),[T,P]=s.useState(!1);c&&T&&P(!1);let L=void 0===p||c?T:p;s.useRef(!1);let R=s.useMemo(()=>({adornedStart:M,setAdornedStart:O,color:a,disabled:c,error:h,filled:C,focused:L,fullWidth:f,hiddenLabel:g,size:y,onBlur:()=>{P(!1)},onEmpty:()=>{A(!1)},onFilled:()=>{A(!0)},onFocus:()=>{P(!0)},registerEffect:n,required:v,variant:x}),[M,a,c,h,C,L,f,g,n,v,y,x]);return(0,b.jsx)(k.Z.Provider,{value:R,children:(0,b.jsx)(tC,{as:u,ownerState:w,className:(0,l.Z)(S.root,o),ref:e,...E,children:i})})});function tT(t){return(0,I.ZP)("MuiFormHelperText",t)}let tP=(0,N.Z)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),tL=t=>{let{classes:e,contained:n,size:r,disabled:i,error:o,filled:a,focused:s,required:l}=t,c={root:["root",i&&"disabled",o&&"error",r&&"size".concat((0,T.Z)(r)),n&&"contained",s&&"focused",a&&"filled",l&&"required"]};return(0,u.Z)(c,tT,e)},tR=(0,h.ZP)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{let{ownerState:n}=t;return[e.root,n.size&&e["size".concat((0,T.Z)(n.size))],n.contained&&e.contained,n.filled&&e.filled]}})((0,A.Z)(t=>{let{theme:e}=t;return{color:(e.vars||e).palette.text.secondary,...e.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,["&.".concat(tP.disabled)]:{color:(e.vars||e).palette.text.disabled},["&.".concat(tP.error)]:{color:(e.vars||e).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:t=>{let{ownerState:e}=t;return e.contained},style:{marginLeft:14,marginRight:14}}]}})),tD=s.forwardRef(function(t,e){let n=(0,d.i)({props:t,name:"MuiFormHelperText"}),{children:r,className:i,component:a="p",disabled:s,error:u,filled:c,focused:h,margin:p,required:f,variant:g,...m}=n,v=M({props:n,muiFormControl:(0,O.Z)(),states:["variant","size","disabled","error","filled","focused","required"]}),y={...n,component:a,contained:"filled"===v.variant||"outlined"===v.variant,variant:v.variant,size:v.size,disabled:v.disabled,error:v.error,filled:v.filled,focused:v.focused,required:v.required};delete y.ownerState;let x=tL(y);return(0,b.jsx)(tR,{as:a,className:(0,l.Z)(x.root,i),ref:e,...m,ownerState:y,children:" "===r?o||(o=(0,b.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"​"})):r})});var tN=n(90937);n(2314);var tI=n(53581).Z,tZ=n(3349),tj=n(25390);let t_=s.createContext({});function tB(t){return(0,I.ZP)("MuiList",t)}(0,N.Z)("MuiList",["root","padding","dense","subheader"]);let tF=t=>{let{classes:e,disablePadding:n,dense:r,subheader:i}=t;return(0,u.Z)({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},tB,e)},tz=(0,h.ZP)("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{let{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:t=>{let{ownerState:e}=t;return!e.disablePadding},style:{paddingTop:8,paddingBottom:8}},{props:t=>{let{ownerState:e}=t;return e.subheader},style:{paddingTop:0}}]}),tW=s.forwardRef(function(t,e){let n=(0,d.i)({props:t,name:"MuiList"}),{children:r,className:i,component:o="ul",dense:a=!1,disablePadding:u=!1,subheader:c,...h}=n,p=s.useMemo(()=>({dense:a}),[a]),f={...n,component:o,dense:a,disablePadding:u},g=tF(f);return(0,b.jsx)(t_.Provider,{value:p,children:(0,b.jsxs)(tz,{as:o,className:(0,l.Z)(g.root,i),ref:e,ownerState:f,...h,children:[c,r]})})});var tV=n(39817).Z,tH=m.Z;function tG(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function t$(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function tU(t,e){if(void 0===e)return!0;let n=t.innerText;return void 0===n&&(n=t.textContent),0!==(n=n.trim().toLowerCase()).length&&(e.repeating?n[0]===e.keys[0]:n.startsWith(e.keys.join("")))}function tq(t,e,n,r,i,o){let a=!1,s=i(t,e,!!e&&n);for(;s;){if(s===t.firstChild){if(a)return!1;a=!0}let e=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&tU(s,o)&&!e)return s.focus(),!0;s=i(t,s,n)}return!1}let tK=s.forwardRef(function(t,e){let{actions:n,autoFocus:r=!1,autoFocusItem:i=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:c,variant:h="selectedMenu",...d}=t,p=s.useRef(null),f=s.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});L(()=>{r&&p.current.focus()},[r]),s.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(t,e)=>{let{direction:n}=e,r=!p.current.style.width;if(t.clientHeight<p.current.clientHeight&&r){let e="".concat(tV(tH(t)),"px");p.current.style["rtl"===n?"paddingLeft":"paddingRight"]=e,p.current.style.width="calc(100% + ".concat(e,")")}return p.current}}),[]);let g=(0,P.Z)(p,e),m=-1;s.Children.forEach(o,(t,e)=>{if(!s.isValidElement(t)){m===e&&(m+=1)>=o.length&&(m=-1);return}t.props.disabled||("selectedMenu"===h&&t.props.selected?m=e:-1!==m||(m=e)),m===e&&(t.props.disabled||t.props.muiSkipListHighlight||t.type.muiSkipListHighlight)&&(m+=1)>=o.length&&(m=-1)});let v=s.Children.map(o,(t,e)=>{if(e===m){let e={};return i&&(e.autoFocus=!0),void 0===t.props.tabIndex&&"selectedMenu"===h&&(e.tabIndex=0),s.cloneElement(t,e)}return t});return(0,b.jsx)(tW,{role:"menu",ref:g,className:a,onKeyDown:t=>{let e=p.current,n=t.key;if(t.ctrlKey||t.metaKey||t.altKey){c&&c(t);return}let r=tI(e).activeElement;if("ArrowDown"===n)t.preventDefault(),tq(e,r,u,l,tG);else if("ArrowUp"===n)t.preventDefault(),tq(e,r,u,l,t$);else if("Home"===n)t.preventDefault(),tq(e,null,u,l,tG);else if("End"===n)t.preventDefault(),tq(e,null,u,l,t$);else if(1===n.length){let i=f.current,o=n.toLowerCase(),a=performance.now();i.keys.length>0&&(a-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=a,i.keys.push(o);let s=r&&!i.repeating&&tU(r,i);i.previousKeyMatched&&(s||tq(e,r,!1,l,tG,i))?t.preventDefault():i.previousKeyMatched=!1}c&&c(t)},tabIndex:r?0:-1,...d,children:v})});var tY=n(78341),tX=n(40795),tJ=n(10626);function tQ(t){return(0,I.ZP)("MuiPopover",t)}(0,N.Z)("MuiPopover",["root","paper"]);var t0=n(77782);function t1(t,e){let n=0;return"number"==typeof e?n=e:"center"===e?n=t.height/2:"bottom"===e&&(n=t.height),n}function t2(t,e){let n=0;return"number"==typeof e?n=e:"center"===e?n=t.width/2:"right"===e&&(n=t.width),n}function t3(t){return[t.horizontal,t.vertical].map(t=>"number"==typeof t?"".concat(t,"px"):t).join(" ")}function t6(t){return"function"==typeof t?t():t}let t5=t=>{let{classes:e}=t;return(0,u.Z)({root:["root"],paper:["paper"]},tQ,e)},t4=(0,h.ZP)(tX.Z,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),t8=(0,h.ZP)(tJ.Z,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),t9=s.forwardRef(function(t,e){var n;let r=(0,d.i)({props:t,name:"MuiPopover"}),{action:i,anchorEl:o,anchorOrigin:a={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:c="anchorEl",children:h,className:p,container:f,elevation:g=8,marginThreshold:m=16,open:v,PaperProps:x={},slots:E={},slotProps:w={},transformOrigin:M={vertical:"top",horizontal:"left"},TransitionComponent:k=tY.Z,transitionDuration:O="auto",TransitionProps:{onEntering:C,...A}={},disableScrollLock:T=!1,...L}=r,R=null!==(n=null==w?void 0:w.paper)&&void 0!==n?n:x,D=s.useRef(),N={...r,anchorOrigin:a,anchorReference:c,elevation:g,marginThreshold:m,externalPaperSlotProps:R,transformOrigin:M,TransitionComponent:k,transitionDuration:O,TransitionProps:A},I=t5(N),Z=s.useCallback(()=>{if("anchorPosition"===c)return u;let t=t6(o),e=(t&&1===t.nodeType?t:tI(D.current).body).getBoundingClientRect();return{top:e.top+t1(e,a.vertical),left:e.left+t2(e,a.horizontal)}},[o,a.horizontal,a.vertical,u,c]),j=s.useCallback(t=>({vertical:t1(t,M.vertical),horizontal:t2(t,M.horizontal)}),[M.horizontal,M.vertical]),_=s.useCallback(t=>{let e={width:t.offsetWidth,height:t.offsetHeight},n=j(e);if("none"===c)return{top:null,left:null,transformOrigin:t3(n)};let r=Z(),i=r.top-n.vertical,a=r.left-n.horizontal,s=i+e.height,l=a+e.width,u=tH(t6(o)),h=u.innerHeight-m,d=u.innerWidth-m;if(null!==m&&i<m){let t=i-m;i-=t,n.vertical+=t}else if(null!==m&&s>h){let t=s-h;i-=t,n.vertical+=t}if(null!==m&&a<m){let t=a-m;a-=t,n.horizontal+=t}else if(l>d){let t=l-d;a-=t,n.horizontal+=t}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(a),"px"),transformOrigin:t3(n)}},[o,c,Z,j,m]),[B,F]=s.useState(v),z=s.useCallback(()=>{let t=D.current;if(!t)return;let e=_(t);null!==e.top&&t.style.setProperty("top",e.top),null!==e.left&&(t.style.left=e.left),t.style.transformOrigin=e.transformOrigin,F(!0)},[_]);s.useEffect(()=>(T&&window.addEventListener("scroll",z),()=>window.removeEventListener("scroll",z)),[o,T,z]),s.useEffect(()=>{v&&z()}),s.useImperativeHandle(i,()=>v?{updatePosition:()=>{z()}}:null,[v,z]),s.useEffect(()=>{if(!v)return;let t=y(()=>{z()}),e=tH(o);return e.addEventListener("resize",t),()=>{t.clear(),e.removeEventListener("resize",t)}},[o,v,z]);let W=O;"auto"!==O||k.muiSupportAuto||(W=void 0);let V=f||(o?tI(t6(o)).body:void 0),H={slots:E,slotProps:{...w,paper:R}},[G,$]=(0,t0.Z)("paper",{elementType:t8,externalForwardedProps:H,additionalProps:{elevation:g,className:(0,l.Z)(I.paper,null==R?void 0:R.className),style:B?R.style:{...R.style,opacity:0}},ownerState:N}),[U,{slotProps:q,...K}]=(0,t0.Z)("root",{elementType:t4,externalForwardedProps:H,additionalProps:{slotProps:{backdrop:{invisible:!0}},container:V,open:v},ownerState:N,className:(0,l.Z)(I.root,p)}),Y=(0,P.Z)(D,$.ref);return(0,b.jsx)(U,{...K,...!S(U)&&{slotProps:q,disableScrollLock:T},...L,ref:e,children:(0,b.jsx)(k,{appear:!0,in:v,onEntering:(t,e)=>{C&&C(t,e),z()},onExited:()=>{F(!1)},timeout:W,...A,children:(0,b.jsx)(G,{...$,ref:Y,children:h})})})});function t7(t){return(0,I.ZP)("MuiMenu",t)}(0,N.Z)("MuiMenu",["root","paper","list"]);let et={vertical:"top",horizontal:"right"},ee={vertical:"top",horizontal:"left"},en=t=>{let{classes:e}=t;return(0,u.Z)({root:["root"],paper:["paper"],list:["list"]},t7,e)},er=(0,h.ZP)(t9,{shouldForwardProp:t=>(0,G.Z)(t)||"classes"===t,name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),ei=(0,h.ZP)(t8,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),eo=(0,h.ZP)(tK,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),ea=s.forwardRef(function(t,e){var n,r;let i=(0,d.i)({props:t,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:u,disableAutoFocusItem:c=!1,MenuListProps:h={},onClose:p,open:f,PaperProps:g={},PopoverClasses:m,transitionDuration:v="auto",TransitionProps:{onEntering:y,...x}={},variant:E="selectedMenu",slots:w={},slotProps:S={},...M}=i,k=(0,tZ.V)(),O={...i,autoFocus:o,disableAutoFocusItem:c,MenuListProps:h,onEntering:y,PaperProps:g,transitionDuration:v,TransitionProps:x,variant:E},C=en(O),A=o&&!c&&f,T=s.useRef(null),P=-1;s.Children.map(a,(t,e)=>{s.isValidElement(t)&&(t.props.disabled||("selectedMenu"===E&&t.props.selected?P=e:-1!==P||(P=e)))});let L=null!==(n=w.paper)&&void 0!==n?n:ei,R=null!==(r=S.paper)&&void 0!==r?r:g,D=(0,tj.Z)({elementType:w.root,externalSlotProps:S.root,ownerState:O,className:[C.root,u]}),N=(0,tj.Z)({elementType:L,externalSlotProps:R,ownerState:O,className:C.paper});return(0,b.jsx)(er,{onClose:p,anchorOrigin:{vertical:"bottom",horizontal:k?"right":"left"},transformOrigin:k?et:ee,slots:{paper:L,root:w.root},slotProps:{root:D,paper:N},open:f,ref:e,transitionDuration:v,TransitionProps:{onEntering:(t,e)=>{T.current&&T.current.adjustStyleForScrollbar(t,{direction:k?"rtl":"ltr"}),y&&y(t,e)},...x},ownerState:O,...M,classes:m,children:(0,b.jsx)(eo,{onKeyDown:t=>{"Tab"===t.key&&(t.preventDefault(),p&&p(t,"tabKeyDown"))},actions:T,autoFocus:o&&(-1===P||c),autoFocusItem:A,variant:E,...h,className:(0,l.Z)(C.list,h.className),children:a})})});function es(t){return(0,I.ZP)("MuiNativeSelect",t)}let el=(0,N.Z)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),eu=t=>{let{classes:e,variant:n,disabled:r,multiple:i,open:o,error:a}=t,s={select:["select",n,r&&"disabled",i&&"multiple",a&&"error"],icon:["icon","icon".concat((0,T.Z)(n)),o&&"iconOpen",r&&"disabled"]};return(0,u.Z)(s,es,e)},ec=(0,h.ZP)("select")(t=>{let{theme:e}=t;return{MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},["&.".concat(el.disabled)]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},variants:[{props:t=>{let{ownerState:e}=t;return"filled"!==e.variant&&"outlined"!==e.variant},style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}}]}}),eh=(0,h.ZP)(ec,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:G.Z,overridesResolver:(t,e)=>{let{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{["&.".concat(el.multiple)]:e.multiple}]}})({}),ed=(0,h.ZP)("svg")(t=>{let{theme:e}=t;return{position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,["&.".concat(el.disabled)]:{color:(e.vars||e).palette.action.disabled},variants:[{props:t=>{let{ownerState:e}=t;return e.open},style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]}}),ep=(0,h.ZP)(ed,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{let{ownerState:n}=t;return[e.icon,n.variant&&e["icon".concat((0,T.Z)(n.variant))],n.open&&e.iconOpen]}})({}),ef=s.forwardRef(function(t,e){let{className:n,disabled:r,error:i,IconComponent:o,inputRef:a,variant:u="standard",...c}=t,h={...t,disabled:r,variant:u,error:i},d=eu(h);return(0,b.jsxs)(s.Fragment,{children:[(0,b.jsx)(eh,{ownerState:h,className:(0,l.Z)(d.select,n),disabled:r,ref:a||e,...c}),t.multiple?null:(0,b.jsx)(ep,{as:o,ownerState:h,className:d.icon})]})});var eg=n(94506),em=function(t){let{controlled:e,default:n,name:r,state:i="value"}=t,{current:o}=s.useRef(void 0!==e),[a,l]=s.useState(n),u=s.useCallback(t=>{o||l(t)},[]);return[o?e:a,u]};function ev(t){return(0,I.ZP)("MuiSelect",t)}let ey=(0,N.Z)("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),eb=(0,h.ZP)(ec,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{let{ownerState:n}=t;return[{["&.".concat(ey.select)]:e.select},{["&.".concat(ey.select)]:e[n.variant]},{["&.".concat(ey.error)]:e.error},{["&.".concat(ey.multiple)]:e.multiple}]}})({["&.".concat(ey.select)]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),ex=(0,h.ZP)(ed,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{let{ownerState:n}=t;return[e.icon,n.variant&&e["icon".concat((0,T.Z)(n.variant))],n.open&&e.iconOpen]}})({}),eE=(0,h.ZP)("input",{shouldForwardProp:t=>(0,eg.Z)(t)&&"classes"!==t,name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function ew(t,e){return"object"==typeof e&&null!==e?t===e:String(t)===String(e)}let eS=t=>{let{classes:e,variant:n,disabled:r,multiple:i,open:o,error:a}=t,s={select:["select",n,r&&"disabled",i&&"multiple",a&&"error"],icon:["icon","icon".concat((0,T.Z)(n)),o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return(0,u.Z)(s,ev,e)},eM=s.forwardRef(function(t,e){var n,r;let i,o,u;let{"aria-describedby":h,"aria-label":d,autoFocus:p,autoWidth:g,children:m,className:v,defaultOpen:y,defaultValue:x,disabled:E,displayEmpty:w,error:S=!1,IconComponent:M,inputRef:k,labelId:O,MenuProps:C={},multiple:A,name:T,onBlur:L,onChange:R,onClose:N,onFocus:I,onOpen:Z,open:j,readOnly:_,renderValue:B,SelectDisplayProps:F={},tabIndex:z,type:W,value:V,variant:H="standard",...G}=t,[$,U]=em({controlled:V,default:x,name:"Select"}),[q,K]=em({controlled:j,default:y,name:"Select"}),Y=s.useRef(null),X=s.useRef(null),[J,Q]=s.useState(null),{current:tt}=s.useRef(null!=j),[te,tn]=s.useState(),tr=(0,P.Z)(e,k),ti=s.useCallback(t=>{X.current=t,t&&Q(t)},[]),to=null==J?void 0:J.parentNode;s.useImperativeHandle(tr,()=>({focus:()=>{X.current.focus()},node:Y.current,value:$}),[$]),s.useEffect(()=>{y&&q&&J&&!tt&&(tn(g?null:to.clientWidth),X.current.focus())},[J,g]),s.useEffect(()=>{p&&X.current.focus()},[p]),s.useEffect(()=>{if(!O)return;let t=tI(X.current).getElementById(O);if(t){let e=()=>{getSelection().isCollapsed&&X.current.focus()};return t.addEventListener("click",e),()=>{t.removeEventListener("click",e)}}},[O]);let ta=(t,e)=>{t?Z&&Z(e):N&&N(e),tt||(tn(g?null:to.clientWidth),K(t))},ts=s.Children.toArray(m),tl=t=>e=>{let n;if(e.currentTarget.hasAttribute("tabindex")){if(A){n=Array.isArray($)?$.slice():[];let e=$.indexOf(t.props.value);-1===e?n.push(t.props.value):n.splice(e,1)}else n=t.props.value;if(t.props.onClick&&t.props.onClick(e),$!==n&&(U(n),R)){let r=e.nativeEvent||e,i=new r.constructor(r.type,r);Object.defineProperty(i,"target",{writable:!0,value:{value:n,name:T}}),R(i,t)}A||ta(!1,e)}},tu=null!==J&&q;delete G["aria-invalid"];let tc=[],th=!1;(D({value:$})||w)&&(B?i=B($):th=!0);let td=ts.map(t=>{let e;if(!s.isValidElement(t))return null;if(A){if(!Array.isArray($))throw Error((0,f.Z)(2));(e=$.some(e=>ew(e,t.props.value)))&&th&&tc.push(t.props.children)}else(e=ew($,t.props.value))&&th&&(o=t.props.children);return s.cloneElement(t,{"aria-selected":e?"true":"false",onClick:tl(t),onKeyUp:e=>{" "===e.key&&e.preventDefault(),t.props.onKeyUp&&t.props.onKeyUp(e)},role:"option",selected:e,value:void 0,"data-value":t.props.value})});th&&(i=A?0===tc.length?null:tc.reduce((t,e,n)=>(t.push(e),n<tc.length-1&&t.push(", "),t),[]):o);let tp=te;!g&&tt&&J&&(tp=to.clientWidth),u=void 0!==z?z:E?null:0;let tf=F.id||(T?"mui-component-select-".concat(T):void 0),tg={...t,variant:H,value:$,open:tu,error:S},tm=eS(tg),tv={...C.PaperProps,...null===(n=C.slotProps)||void 0===n?void 0:n.paper},ty=(0,c.Z)();return(0,b.jsxs)(s.Fragment,{children:[(0,b.jsx)(eb,{as:"div",ref:ti,tabIndex:u,role:"combobox","aria-controls":ty,"aria-disabled":E?"true":void 0,"aria-expanded":tu?"true":"false","aria-haspopup":"listbox","aria-label":d,"aria-labelledby":[O,tf].filter(Boolean).join(" ")||void 0,"aria-describedby":h,onKeyDown:t=>{!_&&[" ","ArrowUp","ArrowDown","Enter"].includes(t.key)&&(t.preventDefault(),ta(!0,t))},onMouseDown:E||_?null:t=>{0===t.button&&(t.preventDefault(),X.current.focus(),ta(!0,t))},onBlur:t=>{!tu&&L&&(Object.defineProperty(t,"target",{writable:!0,value:{value:$,name:T}}),L(t))},onFocus:I,...F,ownerState:tg,className:(0,l.Z)(F.className,tm.select,v),id:tf,children:null!=(r=i)&&("string"!=typeof r||r.trim())?i:a||(a=(0,b.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"​"}))}),(0,b.jsx)(eE,{"aria-invalid":S,value:Array.isArray($)?$.join(","):$,name:T,ref:Y,"aria-hidden":!0,onChange:t=>{let e=ts.find(e=>e.props.value===t.target.value);void 0!==e&&(U(e.props.value),R&&R(t,e))},tabIndex:-1,disabled:E,className:tm.nativeInput,autoFocus:p,...G,ownerState:tg}),(0,b.jsx)(ex,{as:M,className:tm.icon,ownerState:tg}),(0,b.jsx)(ea,{id:"menu-".concat(T||""),anchorEl:to,open:tu,onClose:t=>{ta(!1,t)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...C,MenuListProps:{"aria-labelledby":O,role:"listbox","aria-multiselectable":A?"true":void 0,disableListWrap:!0,id:ty,...C.MenuListProps},slotProps:{...C.slotProps,paper:{...tv,style:{minWidth:tp,...null!=tv?tv.style:null}}},children:td})]})});var ek=(0,n(34731).Z)((0,b.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");let eO=t=>{let{classes:e}=t;return e},eC={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>(0,G.Z)(t)&&"variant"!==t,slot:"Root"},eA=(0,h.ZP)(J,eC)(""),eT=(0,h.ZP)(tp,eC)(""),eP=(0,h.ZP)(ti,eC)(""),eL=s.forwardRef(function(t,e){let n=(0,d.i)({name:"MuiSelect",props:t}),{autoWidth:r=!1,children:i,classes:o={},className:a,defaultOpen:u=!1,displayEmpty:c=!1,IconComponent:h=ek,id:f,input:g,inputProps:m,label:v,labelId:y,MenuProps:x,multiple:E=!1,native:w=!1,onClose:S,onOpen:k,open:C,renderValue:A,SelectDisplayProps:T,variant:L="outlined",...R}=n,D=w?ef:eM,N=M({props:n,muiFormControl:(0,O.Z)(),states:["variant","error"]}),I=N.variant||L,Z={...n,variant:I,classes:o},j=eO(Z),{root:_,...B}=j,F=g||({standard:(0,b.jsx)(eA,{ownerState:Z}),outlined:(0,b.jsx)(eT,{label:v,ownerState:Z}),filled:(0,b.jsx)(eP,{ownerState:Z})})[I],z=(0,P.Z)(e,(0,tN.Z)(F));return(0,b.jsx)(s.Fragment,{children:s.cloneElement(F,{inputComponent:D,inputProps:{children:i,error:N.error,IconComponent:h,variant:I,type:void 0,multiple:E,...w?{id:f}:{autoWidth:r,defaultOpen:u,displayEmpty:c,labelId:y,MenuProps:x,onClose:S,onOpen:k,open:C,renderValue:A,SelectDisplayProps:{id:f,...T}},...m,classes:m?(0,p.Z)(B,m.classes):B,...g?g.props.inputProps:{}},...(E&&w||c)&&"outlined"===I?{notched:!0}:{},ref:z,className:(0,l.Z)(F.props.className,a,j.root),...!g&&{variant:I},...R})})});function eR(t){return(0,I.ZP)("MuiTextField",t)}eL.muiName="Select",(0,N.Z)("MuiTextField",["root"]);let eD={standard:J,filled:ti,outlined:tp},eN=t=>{let{classes:e}=t;return(0,u.Z)({root:["root"]},eR,e)},eI=(0,h.ZP)(tA,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({});var eZ=s.forwardRef(function(t,e){let n=(0,d.i)({props:t,name:"MuiTextField"}),{autoComplete:r,autoFocus:i=!1,children:o,className:a,color:s="primary",defaultValue:u,disabled:h=!1,error:p=!1,FormHelperTextProps:f,fullWidth:g=!1,helperText:m,id:v,InputLabelProps:y,inputProps:x,InputProps:E,inputRef:w,label:S,maxRows:M,minRows:k,multiline:O=!1,name:C,onBlur:A,onChange:T,onFocus:P,placeholder:L,required:R=!1,rows:D,select:N=!1,SelectProps:I,slots:Z={},slotProps:j={},type:_,value:B,variant:F="outlined",...z}=n,W={...n,autoFocus:i,color:s,disabled:h,error:p,fullWidth:g,multiline:O,required:R,select:N,variant:F},V=eN(W),H=(0,c.Z)(v),G=m&&H?"".concat(H,"-helper-text"):void 0,$=S&&H?"".concat(H,"-label"):void 0,U=eD[F],q={slots:Z,slotProps:{input:E,inputLabel:y,htmlInput:x,formHelperText:f,select:I,...j}},K={},Y=q.slotProps.inputLabel;"outlined"===F&&(Y&&void 0!==Y.shrink&&(K.notched=Y.shrink),K.label=S),N&&(I&&I.native||(K.id=void 0),K["aria-describedby"]=void 0);let[X,J]=(0,t0.Z)("input",{elementType:U,externalForwardedProps:q,additionalProps:K,ownerState:W}),[Q,tt]=(0,t0.Z)("inputLabel",{elementType:tS,externalForwardedProps:q,ownerState:W}),[te,tn]=(0,t0.Z)("htmlInput",{elementType:"input",externalForwardedProps:q,ownerState:W}),[tr,ti]=(0,t0.Z)("formHelperText",{elementType:tD,externalForwardedProps:q,ownerState:W}),[to,ta]=(0,t0.Z)("select",{elementType:eL,externalForwardedProps:q,ownerState:W}),ts=(0,b.jsx)(X,{"aria-describedby":G,autoComplete:r,autoFocus:i,defaultValue:u,fullWidth:g,multiline:O,name:C,rows:D,maxRows:M,minRows:k,type:_,value:B,id:H,inputRef:w,onBlur:A,onChange:T,onFocus:P,placeholder:L,inputProps:tn,slots:{input:Z.htmlInput?te:void 0},...J});return(0,b.jsxs)(eI,{className:(0,l.Z)(V.root,a),disabled:h,error:p,fullWidth:g,ref:e,required:R,color:s,variant:F,ownerState:W,...z,children:[null!=S&&""!==S&&(0,b.jsx)(Q,{htmlFor:H,id:$,...tt,children:S}),N?(0,b.jsx)(to,{"aria-describedby":G,id:H,labelId:$,value:B,input:ts,...ta,children:o}):ts,m&&(0,b.jsx)(tr,{id:G,...ti,children:m})]})})},10631:function(t,e,n){"use strict";n.d(e,{Z:function(){return g}});var r=n(38875),i=n(52554),o=n(96503),a=n(72933),s=n(2155),l=n(76526),u=n(54869),c=n(54418);function h(t){return(0,c.ZP)("MuiToolbar",t)}(0,u.Z)("MuiToolbar",["root","gutters","regular","dense"]);var d=n(48499);let p=t=>{let{classes:e,disableGutters:n,variant:r}=t;return(0,o.Z)({root:["root",!n&&"gutters",r]},h,e)},f=(0,a.ZP)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{let{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})((0,s.Z)(t=>{let{theme:e}=t;return{position:"relative",display:"flex",alignItems:"center",variants:[{props:t=>{let{ownerState:e}=t;return!e.disableGutters},style:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:e.mixins.toolbar}]}}));var g=r.forwardRef(function(t,e){let n=(0,l.i)({props:t,name:"MuiToolbar"}),{className:r,component:o="div",disableGutters:a=!1,variant:s="regular",...u}=n,c={...n,component:o,disableGutters:a,variant:s},h=p(c);return(0,d.jsx)(f,{as:o,className:(0,i.Z)(h.root,r),ref:e,ownerState:c,...u})})},50059:function(t,e,n){"use strict";n.d(e,{Z:function(){return E}});var r=n(38875),i=n(52554),o=n(96503),a=n(90433),s=n(72933),l=n(2155),u=n(76526),c=n(84177),h=n(62244),d=n(54869),p=n(54418);function f(t){return(0,p.ZP)("MuiTypography",t)}(0,d.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var g=n(48499);let m={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},v=(0,a.u7)(),y=t=>{let{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:a,classes:s}=t,l={root:["root",a,"inherit"!==t.align&&"align".concat((0,c.Z)(e)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return(0,o.Z)(l,f,s)},b=(0,s.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{let{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],"inherit"!==n.align&&e["align".concat((0,c.Z)(n.align))],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})((0,l.Z)(t=>{var e;let{theme:n}=t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter(t=>{let[e,n]=t;return"inherit"!==e&&n&&"object"==typeof n}).map(t=>{let[e,n]=t;return{props:{variant:e},style:n}}),...Object.entries(n.palette).filter((0,h.Z)()).map(t=>{let[e]=t;return{props:{color:e},style:{color:(n.vars||n).palette[e].main}}}),...Object.entries((null===(e=n.palette)||void 0===e?void 0:e.text)||{}).filter(t=>{let[,e]=t;return"string"==typeof e}).map(t=>{let[e]=t;return{props:{color:"text".concat((0,c.Z)(e))},style:{color:(n.vars||n).palette.text[e]}}}),{props:t=>{let{ownerState:e}=t;return"inherit"!==e.align},style:{textAlign:"var(--Typography-textAlign)"}},{props:t=>{let{ownerState:e}=t;return e.noWrap},style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:t=>{let{ownerState:e}=t;return e.gutterBottom},style:{marginBottom:"0.35em"}},{props:t=>{let{ownerState:e}=t;return e.paragraph},style:{marginBottom:16}}]}})),x={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"};var E=r.forwardRef(function(t,e){let{color:n,...r}=(0,u.i)({props:t,name:"MuiTypography"}),o=!m[n],a=v({...r,...o&&{color:n}}),{align:s="inherit",className:l,component:c,gutterBottom:h=!1,noWrap:d=!1,paragraph:p=!1,variant:f="body1",variantMapping:E=x,...w}=a,S={...a,align:s,color:n,className:l,component:c,gutterBottom:h,noWrap:d,paragraph:p,variant:f,variantMapping:E},M=c||(p?"p":E[f]||x[f])||"span",k=y(S);return(0,g.jsx)(b,{as:M,ref:e,className:(0,i.Z)(k.root,l),...w,ownerState:S,style:{..."inherit"!==s&&{"--Typography-textAlign":s},...w.style}})})},90433:function(t,e,n){"use strict";n.d(e,{zY:function(){return h},u7:function(){return d}}),n(38875);var r=n(8496),i=n(12930),o=n(17987),a=n(48499),s=function(t){let{styles:e,themeId:n,defaultTheme:r={}}=t,s=(0,o.Z)(r),l="function"==typeof e?e(n&&s[n]||s):e;return(0,a.jsx)(i.Z,{styles:l})},l=n(19223),u=n(41307),c=function(t){return(0,a.jsx)(s,{...t,defaultTheme:l.Z,themeId:u.Z})};function h(t){return function(e){return(0,a.jsx)(c,{styles:"function"==typeof t?n=>t({theme:n,...e}):t})}}function d(){return r.Z}},8496:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var r=n(29366),i=n(10118);let o=t=>{let e={systemProps:{},otherProps:{}},n=t?.theme?.unstable_sxConfig??i.Z;return Object.keys(t).forEach(r=>{n[r]?e.systemProps[r]=t[r]:e.otherProps[r]=t[r]}),e};function a(t){let e;let{sx:n,...i}=t,{systemProps:a,otherProps:s}=o(i);return e=Array.isArray(n)?[a,...n]:"function"==typeof n?(...t)=>{let e=n(...t);return(0,r.P)(e)?{...a,...e}:a}:{...a,...n},{...s,sx:e}}},73837:function(t,e,n){"use strict";let r=(0,n(83609).ZP)();e.Z=r},70976:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(33362),i=n(17987);function o(t){let{props:e,name:n,defaultTheme:o,themeId:a}=t,s=(0,i.Z)(o);return a&&(s=s[a]||s),function(t){let{theme:e,name:n,props:i}=t;return e&&e.components&&e.components[n]&&e.components[n].defaultProps?(0,r.Z)(e.components[n].defaultProps,i):i}({theme:s,name:n,props:e})}},39817:function(t,e,n){"use strict";function r(t=window){let e=t.document.documentElement.clientWidth;return t.innerWidth-e}n.d(e,{Z:function(){return r}})},87190:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(53581);function i(t){return(0,r.Z)(t).defaultView||window}},1794:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});var r,i=n(38875);let o=0,a={...r||(r=n.t(i,2))}.useId;function s(t){if(void 0!==a){let e=a();return null!=t?t:e}return function(t){let[e,n]=i.useState(t),r=t||e;return i.useEffect(()=>{null==e&&(o+=1,n("mui-".concat(o)))},[e]),r}(t)}},60910:function(t){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},71354:function(t,e,n){var r=n(60910),i=n(4605),o=Object.hasOwnProperty,a=Object.create(null);for(var s in r)o.call(r,s)&&(a[r[s]]=s);var l=t.exports={to:{},get:{}};function u(t,e,n){return Math.min(Math.max(e,t),n)}function c(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}l.get=function(t){var e,n;switch(t.substring(0,3).toLowerCase()){case"hsl":e=l.get.hsl(t),n="hsl";break;case"hwb":e=l.get.hwb(t),n="hwb";break;default:e=l.get.rgb(t),n="rgb"}return e?{model:n,value:e}:null},l.get.rgb=function(t){if(!t)return null;var e,n,i,a=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(n=0,i=e[2],e=e[1];n<3;n++){var s=2*n;a[n]=parseInt(e.slice(s,s+2),16)}i&&(a[3]=parseInt(i,16)/255)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(n=0,i=(e=e[1])[3];n<3;n++)a[n]=parseInt(e[n]+e[n],16);i&&(a[3]=parseInt(i+i,16)/255)}else if(e=t.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)a[n]=parseInt(e[n+1],0);e[4]&&(e[5]?a[3]=.01*parseFloat(e[4]):a[3]=parseFloat(e[4]))}else if(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)a[n]=Math.round(2.55*parseFloat(e[n+1]));e[4]&&(e[5]?a[3]=.01*parseFloat(e[4]):a[3]=parseFloat(e[4]))}else if(!(e=t.match(/^(\w+)$/)))return null;else return"transparent"===e[1]?[0,0,0,0]:o.call(r,e[1])?((a=r[e[1]])[3]=1,a):null;for(n=0;n<3;n++)a[n]=u(a[n],0,255);return a[3]=u(a[3],0,1),a},l.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,u(parseFloat(e[2]),0,100),u(parseFloat(e[3]),0,100),u(isNaN(n)?1:n,0,1)]}return null},l.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,u(parseFloat(e[2]),0,100),u(parseFloat(e[3]),0,100),u(isNaN(n)?1:n,0,1)]}return null},l.to.hex=function(){var t=i(arguments);return"#"+c(t[0])+c(t[1])+c(t[2])+(t[3]<1?c(Math.round(255*t[3])):"")},l.to.rgb=function(){var t=i(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},l.to.rgb.percent=function(){var t=i(arguments),e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+n+"%, "+r+"%)":"rgba("+e+"%, "+n+"%, "+r+"%, "+t[3]+")"},l.to.hsl=function(){var t=i(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},l.to.hwb=function(){var t=i(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},l.to.keyword=function(t){return a[t.slice(0,3)]}},5090:function(t,e){"use strict";var n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0,(r=n=e.ElementType||(e.ElementType={})).Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype",e.isTag=function(t){return t.type===n.Tag||t.type===n.Script||t.type===n.Style},e.Root=n.Root,e.Text=n.Text,e.Directive=n.Directive,e.Comment=n.Comment,e.Script=n.Script,e.Style=n.Style,e.Tag=n.Tag,e.CDATA=n.CDATA,e.Doctype=n.Doctype},17038:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var o=n(5090),a=n(49145);i(n(49145),e);var s={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},l=function(){function t(t,e,n){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof e&&(n=e,e=s),"object"==typeof t&&(e=t,t=void 0),this.callback=null!=t?t:null,this.options=null!=e?e:s,this.elementCB=null!=n?n:null}return t.prototype.onparserinit=function(t){this.parser=t},t.prototype.onreset=function(){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},t.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},t.prototype.onerror=function(t){this.handleCallback(t)},t.prototype.onclosetag=function(){this.lastNode=null;var t=this.tagStack.pop();this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(t)},t.prototype.onopentag=function(t,e){var n=this.options.xmlMode?o.ElementType.Tag:void 0,r=new a.Element(t,e,void 0,n);this.addNode(r),this.tagStack.push(r)},t.prototype.ontext=function(t){var e=this.lastNode;if(e&&e.type===o.ElementType.Text)e.data+=t,this.options.withEndIndices&&(e.endIndex=this.parser.endIndex);else{var n=new a.Text(t);this.addNode(n),this.lastNode=n}},t.prototype.oncomment=function(t){if(this.lastNode&&this.lastNode.type===o.ElementType.Comment){this.lastNode.data+=t;return}var e=new a.Comment(t);this.addNode(e),this.lastNode=e},t.prototype.oncommentend=function(){this.lastNode=null},t.prototype.oncdatastart=function(){var t=new a.Text(""),e=new a.CDATA([t]);this.addNode(e),t.parent=e,this.lastNode=t},t.prototype.oncdataend=function(){this.lastNode=null},t.prototype.onprocessinginstruction=function(t,e){var n=new a.ProcessingInstruction(t,e);this.addNode(n)},t.prototype.handleCallback=function(t){if("function"==typeof this.callback)this.callback(t,this.dom);else if(t)throw t},t.prototype.addNode=function(t){var e=this.tagStack[this.tagStack.length-1],n=e.children[e.children.length-1];this.options.withStartIndices&&(t.startIndex=this.parser.startIndex),this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),e.children.push(t),n&&(t.prev=n,n.next=t),t.parent=e,this.lastNode=null},t}();e.DomHandler=l,e.default=l},49145:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.cloneNode=e.hasChildren=e.isDocument=e.isDirective=e.isComment=e.isText=e.isCDATA=e.isTag=e.Element=e.Document=e.CDATA=e.NodeWithChildren=e.ProcessingInstruction=e.Comment=e.Text=e.DataNode=e.Node=void 0;var a=n(5090),s=function(){function t(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){return this.prev},set:function(t){this.prev=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){return this.next},set:function(t){this.next=t},enumerable:!1,configurable:!0}),t.prototype.cloneNode=function(t){return void 0===t&&(t=!1),w(this,t)},t}();e.Node=s;var l=function(t){function e(e){var n=t.call(this)||this;return n.data=e,n}return i(e,t),Object.defineProperty(e.prototype,"nodeValue",{get:function(){return this.data},set:function(t){this.data=t},enumerable:!1,configurable:!0}),e}(s);e.DataNode=l;var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=a.ElementType.Text,e}return i(e,t),Object.defineProperty(e.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),e}(l);e.Text=u;var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=a.ElementType.Comment,e}return i(e,t),Object.defineProperty(e.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),e}(l);e.Comment=c;var h=function(t){function e(e,n){var r=t.call(this,n)||this;return r.name=e,r.type=a.ElementType.Directive,r}return i(e,t),Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),e}(l);e.ProcessingInstruction=h;var d=function(t){function e(e){var n=t.call(this)||this;return n.children=e,n}return i(e,t),Object.defineProperty(e.prototype,"firstChild",{get:function(){var t;return null!==(t=this.children[0])&&void 0!==t?t:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this.children},set:function(t){this.children=t},enumerable:!1,configurable:!0}),e}(s);e.NodeWithChildren=d;var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=a.ElementType.CDATA,e}return i(e,t),Object.defineProperty(e.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),e}(d);e.CDATA=p;var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=a.ElementType.Root,e}return i(e,t),Object.defineProperty(e.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),e}(d);e.Document=f;var g=function(t){function e(e,n,r,i){void 0===r&&(r=[]),void 0===i&&(i="script"===e?a.ElementType.Script:"style"===e?a.ElementType.Style:a.ElementType.Tag);var o=t.call(this,r)||this;return o.name=e,o.attribs=n,o.type=i,o}return i(e,t),Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tagName",{get:function(){return this.name},set:function(t){this.name=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){var t=this;return Object.keys(this.attribs).map(function(e){var n,r;return{name:e,value:t.attribs[e],namespace:null===(n=t["x-attribsNamespace"])||void 0===n?void 0:n[e],prefix:null===(r=t["x-attribsPrefix"])||void 0===r?void 0:r[e]}})},enumerable:!1,configurable:!0}),e}(d);function m(t){return(0,a.isTag)(t)}function v(t){return t.type===a.ElementType.CDATA}function y(t){return t.type===a.ElementType.Text}function b(t){return t.type===a.ElementType.Comment}function x(t){return t.type===a.ElementType.Directive}function E(t){return t.type===a.ElementType.Root}function w(t,e){if(void 0===e&&(e=!1),y(t))n=new u(t.data);else if(b(t))n=new c(t.data);else if(m(t)){var n,r=e?S(t.children):[],i=new g(t.name,o({},t.attribs),r);r.forEach(function(t){return t.parent=i}),null!=t.namespace&&(i.namespace=t.namespace),t["x-attribsNamespace"]&&(i["x-attribsNamespace"]=o({},t["x-attribsNamespace"])),t["x-attribsPrefix"]&&(i["x-attribsPrefix"]=o({},t["x-attribsPrefix"])),n=i}else if(v(t)){var r=e?S(t.children):[],a=new p(r);r.forEach(function(t){return t.parent=a}),n=a}else if(E(t)){var r=e?S(t.children):[],s=new f(r);r.forEach(function(t){return t.parent=s}),t["x-mode"]&&(s["x-mode"]=t["x-mode"]),n=s}else if(x(t)){var l=new h(t.name,t.data);null!=t["x-name"]&&(l["x-name"]=t["x-name"],l["x-publicId"]=t["x-publicId"],l["x-systemId"]=t["x-systemId"]),n=l}else throw Error("Not implemented yet: ".concat(t.type));return n.startIndex=t.startIndex,n.endIndex=t.endIndex,null!=t.sourceCodeLocation&&(n.sourceCodeLocation=t.sourceCodeLocation),n}function S(t){for(var e=t.map(function(t){return w(t,!0)}),n=1;n<e.length;n++)e[n].prev=e[n-1],e[n-1].next=e[n];return e}e.Element=g,e.isTag=m,e.isCDATA=v,e.isText=y,e.isComment=b,e.isDirective=x,e.isDocument=E,e.hasChildren=function(t){return Object.prototype.hasOwnProperty.call(t,"children")},e.cloneNode=w},76658:function(t,e,n){"use strict";n.d(e,{Ib:function(){return r},WT:function(){return i}});var r=1e-6,i="undefined"!=typeof Float32Array?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},19006:function(t,e,n){"use strict";n.d(e,{Ue:function(){return i},al:function(){return a},xO:function(){return o}});var r=n(76658);function i(){var t=new r.WT(9);return r.WT!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function a(t,e,n,i,o,a,s,l,u){var c=new r.WT(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=i,c[4]=o,c[5]=a,c[6]=s,c[7]=l,c[8]=u,c}},64131:function(t,e,n){"use strict";n.r(e),n.d(e,{add:function(){return U},adjoint:function(){return d},clone:function(){return o},copy:function(){return a},create:function(){return i},determinant:function(){return p},equals:function(){return J},exactEquals:function(){return X},frob:function(){return $},fromQuat:function(){return N},fromQuat2:function(){return A},fromRotation:function(){return S},fromRotationTranslation:function(){return C},fromRotationTranslationScale:function(){return R},fromRotationTranslationScaleOrigin:function(){return D},fromScaling:function(){return w},fromTranslation:function(){return E},fromValues:function(){return s},fromXRotation:function(){return M},fromYRotation:function(){return k},fromZRotation:function(){return O},frustum:function(){return I},getRotation:function(){return L},getScaling:function(){return P},getTranslation:function(){return T},identity:function(){return u},invert:function(){return h},lookAt:function(){return V},mul:function(){return Q},multiply:function(){return f},multiplyScalar:function(){return K},multiplyScalarAndAdd:function(){return Y},ortho:function(){return z},orthoNO:function(){return F},orthoZO:function(){return W},perspective:function(){return j},perspectiveFromFieldOfView:function(){return B},perspectiveNO:function(){return Z},perspectiveZO:function(){return _},rotate:function(){return v},rotateX:function(){return y},rotateY:function(){return b},rotateZ:function(){return x},scale:function(){return m},set:function(){return l},str:function(){return G},sub:function(){return tt},subtract:function(){return q},targetTo:function(){return H},translate:function(){return g},transpose:function(){return c}});var r=n(76658);function i(){var t=new r.WT(16);return r.WT!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function o(t){var e=new r.WT(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function s(t,e,n,i,o,a,s,l,u,c,h,d,p,f,g,m){var v=new r.WT(16);return v[0]=t,v[1]=e,v[2]=n,v[3]=i,v[4]=o,v[5]=a,v[6]=s,v[7]=l,v[8]=u,v[9]=c,v[10]=h,v[11]=d,v[12]=p,v[13]=f,v[14]=g,v[15]=m,v}function l(t,e,n,r,i,o,a,s,l,u,c,h,d,p,f,g,m){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=l,t[8]=u,t[9]=c,t[10]=h,t[11]=d,t[12]=p,t[13]=f,t[14]=g,t[15]=m,t}function u(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function c(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function h(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=e[9],d=e[10],p=e[11],f=e[12],g=e[13],m=e[14],v=e[15],y=n*s-r*a,b=n*l-i*a,x=n*u-o*a,E=r*l-i*s,w=r*u-o*s,S=i*u-o*l,M=c*g-h*f,k=c*m-d*f,O=c*v-p*f,C=h*m-d*g,A=h*v-p*g,T=d*v-p*m,P=y*T-b*A+x*C+E*O-w*k+S*M;return P?(P=1/P,t[0]=(s*T-l*A+u*C)*P,t[1]=(i*A-r*T-o*C)*P,t[2]=(g*S-m*w+v*E)*P,t[3]=(d*w-h*S-p*E)*P,t[4]=(l*O-a*T-u*k)*P,t[5]=(n*T-i*O+o*k)*P,t[6]=(m*x-f*S-v*b)*P,t[7]=(c*S-d*x+p*b)*P,t[8]=(a*A-s*O+u*M)*P,t[9]=(r*O-n*A-o*M)*P,t[10]=(f*w-g*x+v*y)*P,t[11]=(h*x-c*w-p*y)*P,t[12]=(s*k-a*C-l*M)*P,t[13]=(n*C-r*k+i*M)*P,t[14]=(g*b-f*E-m*y)*P,t[15]=(c*E-h*b+d*y)*P,t):null}function d(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=e[9],d=e[10],p=e[11],f=e[12],g=e[13],m=e[14],v=e[15];return t[0]=s*(d*v-p*m)-h*(l*v-u*m)+g*(l*p-u*d),t[1]=-(r*(d*v-p*m)-h*(i*v-o*m)+g*(i*p-o*d)),t[2]=r*(l*v-u*m)-s*(i*v-o*m)+g*(i*u-o*l),t[3]=-(r*(l*p-u*d)-s*(i*p-o*d)+h*(i*u-o*l)),t[4]=-(a*(d*v-p*m)-c*(l*v-u*m)+f*(l*p-u*d)),t[5]=n*(d*v-p*m)-c*(i*v-o*m)+f*(i*p-o*d),t[6]=-(n*(l*v-u*m)-a*(i*v-o*m)+f*(i*u-o*l)),t[7]=n*(l*p-u*d)-a*(i*p-o*d)+c*(i*u-o*l),t[8]=a*(h*v-p*g)-c*(s*v-u*g)+f*(s*p-u*h),t[9]=-(n*(h*v-p*g)-c*(r*v-o*g)+f*(r*p-o*h)),t[10]=n*(s*v-u*g)-a*(r*v-o*g)+f*(r*u-o*s),t[11]=-(n*(s*p-u*h)-a*(r*p-o*h)+c*(r*u-o*s)),t[12]=-(a*(h*m-d*g)-c*(s*m-l*g)+f*(s*d-l*h)),t[13]=n*(h*m-d*g)-c*(r*m-i*g)+f*(r*d-i*h),t[14]=-(n*(s*m-l*g)-a*(r*m-i*g)+f*(r*l-i*s)),t[15]=n*(s*d-l*h)-a*(r*d-i*h)+c*(r*l-i*s),t}function p(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],l=t[7],u=t[8],c=t[9],h=t[10],d=t[11],p=t[12],f=t[13],g=t[14],m=t[15];return(e*a-n*o)*(h*m-d*g)-(e*s-r*o)*(c*m-d*f)+(e*l-i*o)*(c*g-h*f)+(n*s-r*a)*(u*m-d*p)-(n*l-i*a)*(u*g-h*p)+(r*l-i*s)*(u*f-c*p)}function f(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],d=e[9],p=e[10],f=e[11],g=e[12],m=e[13],v=e[14],y=e[15],b=n[0],x=n[1],E=n[2],w=n[3];return t[0]=b*r+x*s+E*h+w*g,t[1]=b*i+x*l+E*d+w*m,t[2]=b*o+x*u+E*p+w*v,t[3]=b*a+x*c+E*f+w*y,b=n[4],x=n[5],E=n[6],w=n[7],t[4]=b*r+x*s+E*h+w*g,t[5]=b*i+x*l+E*d+w*m,t[6]=b*o+x*u+E*p+w*v,t[7]=b*a+x*c+E*f+w*y,b=n[8],x=n[9],E=n[10],w=n[11],t[8]=b*r+x*s+E*h+w*g,t[9]=b*i+x*l+E*d+w*m,t[10]=b*o+x*u+E*p+w*v,t[11]=b*a+x*c+E*f+w*y,b=n[12],x=n[13],E=n[14],w=n[15],t[12]=b*r+x*s+E*h+w*g,t[13]=b*i+x*l+E*d+w*m,t[14]=b*o+x*u+E*p+w*v,t[15]=b*a+x*c+E*f+w*y,t}function g(t,e,n){var r,i,o,a,s,l,u,c,h,d,p,f,g=n[0],m=n[1],v=n[2];return e===t?(t[12]=e[0]*g+e[4]*m+e[8]*v+e[12],t[13]=e[1]*g+e[5]*m+e[9]*v+e[13],t[14]=e[2]*g+e[6]*m+e[10]*v+e[14],t[15]=e[3]*g+e[7]*m+e[11]*v+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],d=e[9],p=e[10],f=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=u,t[7]=c,t[8]=h,t[9]=d,t[10]=p,t[11]=f,t[12]=r*g+s*m+h*v+e[12],t[13]=i*g+l*m+d*v+e[13],t[14]=o*g+u*m+p*v+e[14],t[15]=a*g+c*m+f*v+e[15]),t}function m(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function v(t,e,n,i){var o,a,s,l,u,c,h,d,p,f,g,m,v,y,b,x,E,w,S,M,k,O,C,A,T=i[0],P=i[1],L=i[2],R=Math.hypot(T,P,L);return R<r.Ib?null:(T*=R=1/R,P*=R,L*=R,o=Math.sin(n),s=1-(a=Math.cos(n)),l=e[0],u=e[1],c=e[2],h=e[3],d=e[4],p=e[5],f=e[6],g=e[7],m=e[8],v=e[9],y=e[10],b=e[11],x=T*T*s+a,E=P*T*s+L*o,w=L*T*s-P*o,S=T*P*s-L*o,M=P*P*s+a,k=L*P*s+T*o,O=T*L*s+P*o,C=P*L*s-T*o,A=L*L*s+a,t[0]=l*x+d*E+m*w,t[1]=u*x+p*E+v*w,t[2]=c*x+f*E+y*w,t[3]=h*x+g*E+b*w,t[4]=l*S+d*M+m*k,t[5]=u*S+p*M+v*k,t[6]=c*S+f*M+y*k,t[7]=h*S+g*M+b*k,t[8]=l*O+d*C+m*A,t[9]=u*O+p*C+v*A,t[10]=c*O+f*C+y*A,t[11]=h*O+g*C+b*A,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function y(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],h=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+u*r,t[5]=a*i+c*r,t[6]=s*i+h*r,t[7]=l*i+d*r,t[8]=u*i-o*r,t[9]=c*i-a*r,t[10]=h*i-s*r,t[11]=d*i-l*r,t}function b(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],u=e[8],c=e[9],h=e[10],d=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-u*r,t[1]=a*i-c*r,t[2]=s*i-h*r,t[3]=l*i-d*r,t[8]=o*r+u*i,t[9]=a*r+c*i,t[10]=s*r+h*i,t[11]=l*r+d*i,t}function x(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],u=e[4],c=e[5],h=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+u*r,t[1]=a*i+c*r,t[2]=s*i+h*r,t[3]=l*i+d*r,t[4]=u*i-o*r,t[5]=c*i-a*r,t[6]=h*i-s*r,t[7]=d*i-l*r,t}function E(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function w(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function S(t,e,n){var i,o,a,s=n[0],l=n[1],u=n[2],c=Math.hypot(s,l,u);return c<r.Ib?null:(s*=c=1/c,l*=c,u*=c,i=Math.sin(e),a=1-(o=Math.cos(e)),t[0]=s*s*a+o,t[1]=l*s*a+u*i,t[2]=u*s*a-l*i,t[3]=0,t[4]=s*l*a-u*i,t[5]=l*l*a+o,t[6]=u*l*a+s*i,t[7]=0,t[8]=s*u*a+l*i,t[9]=l*u*a-s*i,t[10]=u*u*a+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function M(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function k(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function O(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function C(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=r+r,l=i+i,u=o+o,c=r*s,h=r*l,d=r*u,p=i*l,f=i*u,g=o*u,m=a*s,v=a*l,y=a*u;return t[0]=1-(p+g),t[1]=h+y,t[2]=d-v,t[3]=0,t[4]=h-y,t[5]=1-(c+g),t[6]=f+m,t[7]=0,t[8]=d+v,t[9]=f-m,t[10]=1-(c+p),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function A(t,e){var n=new r.WT(3),i=-e[0],o=-e[1],a=-e[2],s=e[3],l=e[4],u=e[5],c=e[6],h=e[7],d=i*i+o*o+a*a+s*s;return d>0?(n[0]=(l*s+h*i+u*a-c*o)*2/d,n[1]=(u*s+h*o+c*i-l*a)*2/d,n[2]=(c*s+h*a+l*o-u*i)*2/d):(n[0]=(l*s+h*i+u*a-c*o)*2,n[1]=(u*s+h*o+c*i-l*a)*2,n[2]=(c*s+h*a+l*o-u*i)*2),C(t,e,n),t}function T(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function P(t,e){var n=e[0],r=e[1],i=e[2],o=e[4],a=e[5],s=e[6],l=e[8],u=e[9],c=e[10];return t[0]=Math.hypot(n,r,i),t[1]=Math.hypot(o,a,s),t[2]=Math.hypot(l,u,c),t}function L(t,e){var n=new r.WT(3);P(n,e);var i=1/n[0],o=1/n[1],a=1/n[2],s=e[0]*i,l=e[1]*o,u=e[2]*a,c=e[4]*i,h=e[5]*o,d=e[6]*a,p=e[8]*i,f=e[9]*o,g=e[10]*a,m=s+h+g,v=0;return m>0?(v=2*Math.sqrt(m+1),t[3]=.25*v,t[0]=(d-f)/v,t[1]=(p-u)/v,t[2]=(l-c)/v):s>h&&s>g?(v=2*Math.sqrt(1+s-h-g),t[3]=(d-f)/v,t[0]=.25*v,t[1]=(l+c)/v,t[2]=(p+u)/v):h>g?(v=2*Math.sqrt(1+h-s-g),t[3]=(p-u)/v,t[0]=(l+c)/v,t[1]=.25*v,t[2]=(d+f)/v):(v=2*Math.sqrt(1+g-s-h),t[3]=(l-c)/v,t[0]=(p+u)/v,t[1]=(d+f)/v,t[2]=.25*v),t}function R(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3],l=i+i,u=o+o,c=a+a,h=i*l,d=i*u,p=i*c,f=o*u,g=o*c,m=a*c,v=s*l,y=s*u,b=s*c,x=r[0],E=r[1],w=r[2];return t[0]=(1-(f+m))*x,t[1]=(d+b)*x,t[2]=(p-y)*x,t[3]=0,t[4]=(d-b)*E,t[5]=(1-(h+m))*E,t[6]=(g+v)*E,t[7]=0,t[8]=(p+y)*w,t[9]=(g-v)*w,t[10]=(1-(h+f))*w,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function D(t,e,n,r,i){var o=e[0],a=e[1],s=e[2],l=e[3],u=o+o,c=a+a,h=s+s,d=o*u,p=o*c,f=o*h,g=a*c,m=a*h,v=s*h,y=l*u,b=l*c,x=l*h,E=r[0],w=r[1],S=r[2],M=i[0],k=i[1],O=i[2],C=(1-(g+v))*E,A=(p+x)*E,T=(f-b)*E,P=(p-x)*w,L=(1-(d+v))*w,R=(m+y)*w,D=(f+b)*S,N=(m-y)*S,I=(1-(d+g))*S;return t[0]=C,t[1]=A,t[2]=T,t[3]=0,t[4]=P,t[5]=L,t[6]=R,t[7]=0,t[8]=D,t[9]=N,t[10]=I,t[11]=0,t[12]=n[0]+M-(C*M+P*k+D*O),t[13]=n[1]+k-(A*M+L*k+N*O),t[14]=n[2]+O-(T*M+R*k+I*O),t[15]=1,t}function N(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,l=i+i,u=n*a,c=r*a,h=r*s,d=i*a,p=i*s,f=i*l,g=o*a,m=o*s,v=o*l;return t[0]=1-h-f,t[1]=c+v,t[2]=d-m,t[3]=0,t[4]=c-v,t[5]=1-u-f,t[6]=p+g,t[7]=0,t[8]=d+m,t[9]=p-g,t[10]=1-u-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function I(t,e,n,r,i,o,a){var s=1/(n-e),l=1/(i-r),u=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*l,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*l,t[10]=(a+o)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*u,t[15]=0,t}function Z(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=(i+r)*o,t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t}var j=Z;function _(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=i*o,t[14]=i*r*o):(t[10]=-1,t[14]=-r),t}function B(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),l=2/(a+s),u=2/(i+o);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=-((a-s)*l*.5),t[9]=(i-o)*u*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function F(t,e,n,r,i,o,a){var s=1/(e-n),l=1/(r-i),u=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=(a+o)*u,t[15]=1,t}var z=F;function W(t,e,n,r,i,o,a){var s=1/(e-n),l=1/(r-i),u=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=u,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=o*u,t[15]=1,t}function V(t,e,n,i){var o,a,s,l,c,h,d,p,f,g,m=e[0],v=e[1],y=e[2],b=i[0],x=i[1],E=i[2],w=n[0],S=n[1],M=n[2];return Math.abs(m-w)<r.Ib&&Math.abs(v-S)<r.Ib&&Math.abs(y-M)<r.Ib?u(t):(g=1/Math.hypot(d=m-w,p=v-S,f=y-M),d*=g,p*=g,f*=g,(g=Math.hypot(o=x*f-E*p,a=E*d-b*f,s=b*p-x*d))?(o*=g=1/g,a*=g,s*=g):(o=0,a=0,s=0),(g=Math.hypot(l=p*s-f*a,c=f*o-d*s,h=d*a-p*o))?(l*=g=1/g,c*=g,h*=g):(l=0,c=0,h=0),t[0]=o,t[1]=l,t[2]=d,t[3]=0,t[4]=a,t[5]=c,t[6]=p,t[7]=0,t[8]=s,t[9]=h,t[10]=f,t[11]=0,t[12]=-(o*m+a*v+s*y),t[13]=-(l*m+c*v+h*y),t[14]=-(d*m+p*v+f*y),t[15]=1,t)}function H(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=r[0],l=r[1],u=r[2],c=i-n[0],h=o-n[1],d=a-n[2],p=c*c+h*h+d*d;p>0&&(c*=p=1/Math.sqrt(p),h*=p,d*=p);var f=l*d-u*h,g=u*c-s*d,m=s*h-l*c;return(p=f*f+g*g+m*m)>0&&(f*=p=1/Math.sqrt(p),g*=p,m*=p),t[0]=f,t[1]=g,t[2]=m,t[3]=0,t[4]=h*m-d*g,t[5]=d*f-c*m,t[6]=c*g-h*f,t[7]=0,t[8]=c,t[9]=h,t[10]=d,t[11]=0,t[12]=i,t[13]=o,t[14]=a,t[15]=1,t}function G(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function $(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function U(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function q(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function K(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function Y(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function X(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function J(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],d=t[9],p=t[10],f=t[11],g=t[12],m=t[13],v=t[14],y=t[15],b=e[0],x=e[1],E=e[2],w=e[3],S=e[4],M=e[5],k=e[6],O=e[7],C=e[8],A=e[9],T=e[10],P=e[11],L=e[12],R=e[13],D=e[14],N=e[15];return Math.abs(n-b)<=r.Ib*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(i-x)<=r.Ib*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(o-E)<=r.Ib*Math.max(1,Math.abs(o),Math.abs(E))&&Math.abs(a-w)<=r.Ib*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(s-S)<=r.Ib*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(l-M)<=r.Ib*Math.max(1,Math.abs(l),Math.abs(M))&&Math.abs(u-k)<=r.Ib*Math.max(1,Math.abs(u),Math.abs(k))&&Math.abs(c-O)<=r.Ib*Math.max(1,Math.abs(c),Math.abs(O))&&Math.abs(h-C)<=r.Ib*Math.max(1,Math.abs(h),Math.abs(C))&&Math.abs(d-A)<=r.Ib*Math.max(1,Math.abs(d),Math.abs(A))&&Math.abs(p-T)<=r.Ib*Math.max(1,Math.abs(p),Math.abs(T))&&Math.abs(f-P)<=r.Ib*Math.max(1,Math.abs(f),Math.abs(P))&&Math.abs(g-L)<=r.Ib*Math.max(1,Math.abs(g),Math.abs(L))&&Math.abs(m-R)<=r.Ib*Math.max(1,Math.abs(m),Math.abs(R))&&Math.abs(v-D)<=r.Ib*Math.max(1,Math.abs(v),Math.abs(D))&&Math.abs(y-N)<=r.Ib*Math.max(1,Math.abs(y),Math.abs(N))}var Q=f,tt=q},82193:function(t,e,n){"use strict";n.d(e,{Fv:function(){return m},JG:function(){return p},Jp:function(){return u},Su:function(){return h},U_:function(){return c},Ue:function(){return s},al:function(){return d},dC:function(){return g},t8:function(){return f},yY:function(){return l}});var r=n(76658),i=n(19006),o=n(32400),a=n(89461);function s(){var t=new r.WT(4);return r.WT!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function l(t,e,n){var r=Math.sin(n*=.5);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function u(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],l=n[1],u=n[2],c=n[3];return t[0]=r*c+a*s+i*u-o*l,t[1]=i*c+a*l+o*s-r*u,t[2]=o*c+a*u+r*l-i*s,t[3]=a*c-r*s-i*l-o*u,t}function c(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=o*s,t}function h(t,e,n,r){var i=.5*Math.PI/180,o=Math.sin(e*=i),a=Math.cos(e),s=Math.sin(n*=i),l=Math.cos(n),u=Math.sin(r*=i),c=Math.cos(r);return t[0]=o*l*c-a*s*u,t[1]=a*s*c+o*l*u,t[2]=a*l*u-o*s*c,t[3]=a*l*c+o*s*u,t}a.d9;var d=a.al,p=a.JG,f=a.t8;a.IH;var g=u;a.bA,a.AK,a.t7,a.kE,a.we;var m=a.Fv;a.I6,a.fS,o.Ue(),o.al(1,0,0),o.al(0,1,0),s(),s(),i.Ue()},92964:function(t,e,n){"use strict";n.d(e,{AK:function(){return l},Fv:function(){return s},I6:function(){return u},JG:function(){return o},Ue:function(){return i},t8:function(){return a}});var r=n(76658);function i(){var t=new r.WT(2);return r.WT!=Float32Array&&(t[0]=0,t[1]=0),t}function o(t,e){return t[0]=e[0],t[1]=e[1],t}function a(t,e,n){return t[0]=e,t[1]=n,t}function s(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function l(t,e){return t[0]*e[0]+t[1]*e[1]}function u(t,e){return t[0]===e[0]&&t[1]===e[1]}i()},32400:function(t,e,n){"use strict";n.d(e,{$X:function(){return h},AK:function(){return v},Fp:function(){return f},Fv:function(){return m},IH:function(){return c},JG:function(){return l},Jp:function(){return d},TK:function(){return k},Ue:function(){return i},VC:function(){return w},VV:function(){return p},Zh:function(){return O},al:function(){return s},bA:function(){return g},d9:function(){return o},fF:function(){return x},fS:function(){return S},kC:function(){return y},kE:function(){return a},kK:function(){return E},lu:function(){return M},t7:function(){return b},t8:function(){return u}});var r=n(76658);function i(){var t=new r.WT(3);return r.WT!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function o(t){var e=new r.WT(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function a(t){return Math.hypot(t[0],t[1],t[2])}function s(t,e,n){var i=new r.WT(3);return i[0]=t,i[1]=e,i[2]=n,i}function l(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function u(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function c(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function h(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function d(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function p(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function f(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function g(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function m(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function v(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function y(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],l=n[2];return t[0]=i*l-o*s,t[1]=o*a-r*l,t[2]=r*s-i*a,t}function b(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t}function x(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t}function E(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}function w(t,e,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=e[0],l=e[1],u=e[2],c=i*u-o*l,h=o*s-r*u,d=r*l-i*s,p=i*d-o*h,f=o*c-r*d,g=r*h-i*c,m=2*a;return c*=m,h*=m,d*=m,p*=2,f*=2,g*=2,t[0]=s+c+p,t[1]=l+h+f,t[2]=u+d+g,t}function S(t,e){var n=t[0],i=t[1],o=t[2],a=e[0],s=e[1],l=e[2];return Math.abs(n-a)<=r.Ib*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-s)<=r.Ib*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-l)<=r.Ib*Math.max(1,Math.abs(o),Math.abs(l))}var M=h,k=function(t,e){return Math.hypot(e[0]-t[0],e[1]-t[1],e[2]-t[2])},O=a;i()},89461:function(t,e,n){"use strict";n.d(e,{AK:function(){return f},Fv:function(){return p},I6:function(){return v},IH:function(){return u},JG:function(){return s},Ue:function(){return i},al:function(){return a},bA:function(){return c},d9:function(){return o},fF:function(){return m},fS:function(){return y},kE:function(){return h},t7:function(){return g},t8:function(){return l},we:function(){return d}});var r=n(76658);function i(){var t=new r.WT(4);return r.WT!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function o(t){var e=new r.WT(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function a(t,e,n,i){var o=new r.WT(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=i,o}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function l(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function u(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function c(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function h(t){return Math.hypot(t[0],t[1],t[2],t[3])}function d(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i}function p(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=o*a,t}function f(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function g(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t[3]=s+r*(n[3]-s),t}function m(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}function v(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function y(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],s=e[0],l=e[1],u=e[2],c=e[3];return Math.abs(n-s)<=r.Ib*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-l)<=r.Ib*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(o-u)<=r.Ib*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(a-c)<=r.Ib*Math.max(1,Math.abs(a),Math.abs(c))}i()},9871:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CASE_SENSITIVE_TAG_NAMES_MAP=e.CASE_SENSITIVE_TAG_NAMES=void 0,e.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],e.CASE_SENSITIVE_TAG_NAMES_MAP=e.CASE_SENSITIVE_TAG_NAMES.reduce(function(t,e){return t[e.toLowerCase()]=e,t},{})},35668:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e,n,p=(t=(0,i.escapeSpecialCharacters)(t)).match(l),f=p&&p[1]?p[1].toLowerCase():"";switch(f){case o:var g=d(t);if(!u.test(t)){var m=g.querySelector(a);null===(e=null==m?void 0:m.parentNode)||void 0===e||e.removeChild(m)}if(!c.test(t)){var m=g.querySelector(s);null===(n=null==m?void 0:m.parentNode)||void 0===n||n.removeChild(m)}return g.querySelectorAll(o);case a:case s:var v=h(t).querySelectorAll(f);if(c.test(t)&&u.test(t))return v[0].parentNode.childNodes;return v;default:if(r)return r(t);var m=h(t,s).querySelector(s);return m.childNodes}};var r,i=n(77194),o="html",a="head",s="body",l=/<([a-zA-Z]+[0-9]?)/,u=/<head[^]*>/i,c=/<body[^]*>/i,h=function(t,e){throw Error("This browser does not support `document.implementation.createHTMLDocument`")},d=function(t,e){throw Error("This browser does not support `DOMParser.prototype.parseFromString`")},p="object"==typeof window&&window.DOMParser;if("function"==typeof p){var f=new p;h=d=function(t,e){return e&&(t="<".concat(e,">").concat(t,"</").concat(e,">")),f.parseFromString(t,"text/html")}}if("object"==typeof document&&document.implementation){var g=document.implementation.createHTMLDocument();h=function(t,e){if(e){var n=g.documentElement.querySelector(e);return n&&(n.innerHTML=t),g}return g.documentElement.innerHTML=t,g}}var m="object"==typeof document&&document.createElement("template");m&&m.content&&(r=function(t){return m.innerHTML=t,m.content.childNodes})},56363:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if("string"!=typeof t)throw TypeError("First argument must be a string");if(!t)return[];var e=t.match(a),n=e?e[1]:void 0;return(0,o.formatDOM)((0,i.default)(t),null,n)};var i=r(n(35668)),o=n(77194),a=/<(![a-zA-Z\s]+)>/},77194:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatAttributes=o,e.escapeSpecialCharacters=function(t){return t.replace(/\r/g,"\\r")},e.revertEscapedCharacters=a,e.formatDOM=function t(e,n,s){void 0===n&&(n=null);for(var l,u=[],c=0,h=e.length;c<h;c++){var d=e[c];switch(d.nodeType){case 1:var p=function(t){var e;return e=t=t.toLowerCase(),i.CASE_SENSITIVE_TAG_NAMES_MAP[e]||t}(d.nodeName);(l=new r.Element(p,o(d.attributes))).children=t("template"===p?d.content.childNodes:d.childNodes,l);break;case 3:l=new r.Text(a(d.nodeValue));break;case 8:l=new r.Comment(d.nodeValue);break;default:continue}var f=u[c-1]||null;f&&(f.next=l),l.parent=n,l.prev=f,l.next=null,u.push(l)}return s&&((l=new r.ProcessingInstruction(s.substring(0,s.indexOf(" ")).toLowerCase(),s)).next=u[0]||null,l.parent=n,u.unshift(l),u[1]&&(u[1].prev=u[0])),u};var r=n(17038),i=n(9871);function o(t){for(var e={},n=0,r=t.length;n<r;n++){var i=t[n];e[i.name]=i.value}return e}function a(t){return t.replace(/\\r/g,"\r")}},59731:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){void 0===t&&(t={});var n={},u=!!(t.type&&s[t.type]);for(var c in t){var h=t[c];if((0,r.isCustomAttribute)(c)){n[c]=h;continue}var d=c.toLowerCase(),p=l(d);if(p){var f=(0,r.getPropertyInfo)(p);switch(o.includes(p)&&a.includes(e)&&!u&&(p=l("default"+d)),n[p]=h,f&&f.type){case r.BOOLEAN:n[p]=!0;break;case r.OVERLOADED_BOOLEAN:""===h&&(n[p]=!0)}continue}i.PRESERVE_CUSTOM_ATTRIBUTES&&(n[c]=h)}return(0,i.setStyleProp)(t.style,n),n};var r=n(18e3),i=n(48202),o=["checked","value"],a=["input","select","textarea"],s={reset:!0,submit:!0};function l(t){return r.possibleStandardNames[t]}},983:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=function t(e,n){void 0===n&&(n={});for(var r=[],i="function"==typeof n.replace,l=n.transform||a.returnFirstArg,u=n.library||s,c=u.cloneElement,h=u.createElement,d=u.isValidElement,p=e.length,f=0;f<p;f++){var g=e[f];if(i){var m=n.replace(g,f);if(d(m)){p>1&&(m=c(m,{key:m.key||f})),r.push(l(m,g,f));continue}}if("text"===g.type){var v=!g.data.trim().length;if(v&&g.parent&&!(0,a.canTextBeChildOfNode)(g.parent)||n.trim&&v)continue;r.push(l(g.data,g,f));continue}var y={};a.PRESERVE_CUSTOM_ATTRIBUTES&&"tag"===g.type&&(0,a.isCustomComponent)(g.name,g.attribs)?((0,a.setStyleProp)(g.attribs.style,g.attribs),y=g.attribs):g.attribs&&(y=(0,o.default)(g.attribs,g.name));var b=void 0;switch(g.type){case"script":case"style":g.children[0]&&(y.dangerouslySetInnerHTML={__html:g.children[0].data});break;case"tag":"textarea"===g.name&&g.children[0]?y.defaultValue=g.children[0].data:g.children&&g.children.length&&(b=t(g.children,n));break;default:continue}p>1&&(y.key=f),r.push(l(h(g.name,y,b),g,f))}return 1===r.length?r[0]:r};var i=n(38875),o=r(n(59731)),a=n(48202),s={cloneElement:i.cloneElement,createElement:i.createElement,isValidElement:i.isValidElement}},98057:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.htmlToDOM=e.domToReact=e.attributesToProps=e.Text=e.ProcessingInstruction=e.Element=e.Comment=void 0,e.default=function(t,e){if("string"!=typeof t)throw TypeError("First argument must be a string");return t?(0,a.default)((0,i.default)(t,(null==e?void 0:e.htmlparser2)||l),e):[]};var i=r(n(56363));e.htmlToDOM=i.default;var o=r(n(59731));e.attributesToProps=o.default;var a=r(n(983));e.domToReact=a.default;var s=n(17038);Object.defineProperty(e,"Comment",{enumerable:!0,get:function(){return s.Comment}}),Object.defineProperty(e,"Element",{enumerable:!0,get:function(){return s.Element}}),Object.defineProperty(e,"ProcessingInstruction",{enumerable:!0,get:function(){return s.ProcessingInstruction}}),Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return s.Text}});var l={lowerCaseAttributeNames:!1}},48202:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.returnFirstArg=e.canTextBeChildOfNode=e.ELEMENTS_WITH_NO_TEXT_CHILDREN=e.PRESERVE_CUSTOM_ATTRIBUTES=void 0,e.isCustomComponent=function(t,e){return t.includes("-")?!a.has(t):!!(e&&"string"==typeof e.is)},e.setStyleProp=function(t,e){if("string"==typeof t){if(!t.trim()){e.style={};return}try{e.style=(0,o.default)(t,s)}catch(t){e.style={}}}};var i=n(38875),o=r(n(55251)),a=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]),s={reactCompat:!0};e.PRESERVE_CUSTOM_ATTRIBUTES=Number(i.version.split(".")[0])>=16,e.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]),e.canTextBeChildOfNode=function(t){return!e.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(t.name)},e.returnFirstArg=function(t){return t}},86162:function(t){function e(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}t.exports=function(t){let n=function(t){let n=[];for(let r=0;r<t.length;r++){for(;n.length>=2&&0>=e(n[n.length-2],n[n.length-1],t[r]);)n.pop();n.push(t[r])}return n.pop(),n}(t),r=(function(t){let n=t.reverse(),r=[];for(let t=0;t<n.length;t++){for(;r.length>=2&&0>=e(r[r.length-2],r[r.length-1],n[t]);)r.pop();r.push(n[t])}return r.pop(),r})(t).concat(n);return r.push(t[0]),r}},4594:function(t){t.exports={toXy:function(t,e){return void 0===e?t.slice():t.map(function(t){return Function("pt","return [pt"+e[0]+",pt"+e[1]+"];")(t)})},fromXy:function(t,e){return void 0===e?t.slice():t.map(function(t){return Function("pt","const o = {}; o"+e[0]+"= pt[0]; o"+e[1]+"= pt[1]; return o;")(t)})}}},93738:function(t){function e(t,e){this._cells=[],this._cellSize=e,this._reverseCellSize=1/e;for(let e=0;e<t.length;e++){let n=t[e],r=this.coordToCellNum(n[0]),i=this.coordToCellNum(n[1]);if(this._cells[r])this._cells[r][i]?this._cells[r][i].push(n):this._cells[r][i]=[n];else{let t=[];t[i]=[n],this._cells[r]=t}}}e.prototype={cellPoints:function(t,e){return void 0!==this._cells[t]&&void 0!==this._cells[t][e]?this._cells[t][e]:[]},rangePoints:function(t){let e=this.coordToCellNum(t[0]),n=this.coordToCellNum(t[1]),r=this.coordToCellNum(t[2]),i=this.coordToCellNum(t[3]),o=[];for(let t=e;t<=r;t++)for(let e=n;e<=i;e++)for(let n=0;n<this.cellPoints(t,e).length;n++)o.push(this.cellPoints(t,e)[n]);return o},removePoint:function(t){let e;let n=this.coordToCellNum(t[0]),r=this.coordToCellNum(t[1]),i=this._cells[n][r];for(let n=0;n<i.length;n++)if(i[n][0]===t[0]&&i[n][1]===t[1]){e=n;break}return i.splice(e,1),i},trunc:Math.trunc||function(t){return t-t%1},coordToCellNum:function(t){return this.trunc(t*this._reverseCellSize)},extendBbox:function(t,e){return[t[0]-e*this._cellSize,t[1]-e*this._cellSize,t[2]+e*this._cellSize,t[3]+e*this._cellSize]}},t.exports=function(t,n){return new e(t,n)}},41642:function(t,e,n){"use strict";let r=n(30038),i=n(93738),o=n(4594),a=n(86162);function s(t,e){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function l(t,e,n){let r=[e[0]-t[0],e[1]-t[1]],i=[n[0]-t[0],n[1]-t[1]];return(r[0]*i[0]+r[1]*i[1])/Math.sqrt(s(t,e)*s(t,n))}function u(t,e){for(let n=0;n<e.length-1;n++){let i=[e[n],e[n+1]];if((t[0][0]!==i[0][0]||t[0][1]!==i[0][1])&&(t[0][0]!==i[1][0]||t[0][1]!==i[1][1])&&r(t,i))return!0}return!1}let c=Math.cos(90/(180/Math.PI));t.exports=function(t,e,n){let r=function(t){let e=[t[0]],n=t[0];for(let r=1;r<t.length;r++){let i=t[r];(n[0]!==i[0]||n[1]!==i[1])&&e.push(i),n=i}return e}(o.toXy(t,n).sort(function(t,e){return t[0]-e[0]||t[1]-e[1]}));if(r.length<4){let t=r.concat([r[0]]);return n?o.fromXy(t,n):t}let h=function(t){let e=1/0,n=1/0,r=-1/0,i=-1/0;for(let o=t.length-1;o>=0;o--)t[o][0]<e&&(e=t[o][0]),t[o][1]<n&&(n=t[o][1]),t[o][0]>r&&(r=t[o][0]),t[o][1]>i&&(i=t[o][1]);return[r-e,i-n]}(r),d=[.6*h[0],.6*h[1]],p=a(r),f=r.filter(function(t){return 0>p.indexOf(t)}),g=function t(e,n,r,i,o){let a=!1;for(let t=0;t<e.length-1;t++){let h,d,p;let f=[e[t],e[t+1]],g=f[0][0]+","+f[0][1]+","+f[1][0]+","+f[1][1];if(s(f[0],f[1])<n||o.has(g))continue;let m=0,v=[Math.min(f[0][0],f[1][0]),Math.min(f[0][1],f[1][1]),Math.max(f[0][0],f[1][0]),Math.max(f[0][1],f[1][1])];do h=(v=i.extendBbox(v,m))[2]-v[0],d=v[3]-v[1],p=function(t,e,n){let r=null,i=c,o=c,a,s;for(let c=0;c<e.length;c++)a=l(t[0],t[1],e[c]),s=l(t[1],t[0],e[c]),a>i&&s>o&&!u([t[0],e[c]],n)&&!u([t[1],e[c]],n)&&(i=a,o=s,r=e[c]);return r}(f,i.rangePoints(v),e),m++;while(null===p&&(r[0]>h||r[1]>d));h>=r[0]&&d>=r[1]&&o.add(g),null!==p&&(e.splice(t+1,0,p),i.removePoint(p),a=!0)}return a?t(e,n,r,i,o):e}(p,Math.pow(e||20,2),d,i(f,Math.ceil(1/(r.length/(h[0]*h[1])))),new Set);return n?o.fromXy(g,n):g}},30038:function(t){function e(t,e,n,r,i,o){let a=(o-e)*(n-t)-(r-e)*(i-t);return a>0||!(a<0)}t.exports=function(t,n){let r=t[0][0],i=t[0][1],o=t[1][0],a=t[1][1],s=n[0][0],l=n[0][1],u=n[1][0],c=n[1][1];return e(r,i,s,l,u,c)!==e(o,a,s,l,u,c)&&e(r,i,o,a,s,l)!==e(r,i,o,a,u,c)}},46560:function(t){var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,r=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,l=/^\s+|\s+$/g;function u(t){return t?t.replace(l,""):""}t.exports=function(t,l){if("string"!=typeof t)throw TypeError("First argument must be a string");if(!t)return[];l=l||{};var c=1,h=1;function d(t){var e=t.match(n);e&&(c+=e.length);var r=t.lastIndexOf("\n");h=~r?t.length-r:h+t.length}function p(){var t={line:c,column:h};return function(e){return e.position=new f(t),v(r),e}}function f(t){this.start=t,this.end={line:c,column:h},this.source=l.source}f.prototype.content=t;var g=[];function m(e){var n=Error(l.source+":"+c+":"+h+": "+e);if(n.reason=e,n.filename=l.source,n.line=c,n.column=h,n.source=t,l.silent)g.push(n);else throw n}function v(e){var n=e.exec(t);if(n){var r=n[0];return d(r),t=t.slice(r.length),n}}function y(t){var e;for(t=t||[];e=b();)!1!==e&&t.push(e);return t}function b(){var e=p();if("/"==t.charAt(0)&&"*"==t.charAt(1)){for(var n=2;""!=t.charAt(n)&&("*"!=t.charAt(n)||"/"!=t.charAt(n+1));)++n;if(n+=2,""===t.charAt(n-1))return m("End of comment missing");var r=t.slice(2,n-2);return h+=2,d(r),t=t.slice(n),h+=2,e({type:"comment",comment:r})}}return v(r),function(){var t,n=[];for(y(n);t=function(){var t=p(),n=v(i);if(n){if(b(),!v(o))return m("property missing ':'");var r=v(a),l=t({type:"declaration",property:u(n[0].replace(e,"")),value:r?u(r[0].replace(e,"")):""});return v(s),l}}();)!1!==t&&(n.push(t),y(n));return n}()}},5057:function(t){t.exports=function(t){return!!t&&"string"!=typeof t&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))}},24253:function(t,e){"use strict";Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen"),Symbol.for("react.module.reference")},2314:function(t,e,n){"use strict";n(24253)},18e3:function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}let i={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach(t=>{i[t]=new r(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(([t,e])=>{i[t]=new r(t,1,!1,e,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(t=>{i[t]=new r(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(t=>{i[t]=new r(t,2,!1,t,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(t=>{i[t]=new r(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(t=>{i[t]=new r(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(t=>{i[t]=new r(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(t=>{i[t]=new r(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(t=>{i[t]=new r(t,5,!1,t.toLowerCase(),null,!1,!1)});let o=/[\-\:]([a-z])/g,a=t=>t[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(t=>{let e=t.replace(o,a);i[e]=new r(e,1,!1,t,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(t=>{let e=t.replace(o,a);i[e]=new r(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(t=>{let e=t.replace(o,a);i[e]=new r(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(t=>{i[t]=new r(t,1,!1,t.toLowerCase(),null,!1,!1)}),i.xlinkHref=new r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(t=>{i[t]=new r(t,1,!1,t.toLowerCase(),null,!0,!0)});let{CAMELCASE:s,SAME:l,possibleStandardNames:u}=n(98072),c=RegExp.prototype.test.bind(RegExp("^(data|aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$")),h=Object.keys(u).reduce((t,e)=>{let n=u[e];return n===l?t[e]=e:n===s?t[e.toLowerCase()]=e:t[e]=n,t},{});e.BOOLEAN=3,e.BOOLEANISH_STRING=2,e.NUMERIC=5,e.OVERLOADED_BOOLEAN=4,e.POSITIVE_NUMERIC=6,e.RESERVED=0,e.STRING=1,e.getPropertyInfo=function(t){return i.hasOwnProperty(t)?i[t]:null},e.isCustomAttribute=c,e.possibleStandardNames=h},98072:function(t,e){e.SAME=0,e.CAMELCASE=1,e.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1}},4605:function(t,e,n){"use strict";var r=n(5057),i=Array.prototype.concat,o=Array.prototype.slice,a=t.exports=function(t){for(var e=[],n=0,a=t.length;n<a;n++){var s=t[n];r(s)?e=i.call(e,o.call(s)):e.push(s)}return e};a.wrap=function(t){return function(){return t(a(arguments))}}},55251:function(t,e,n){"use strict";var r=(this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}})(n(84774)),i=n(91907);function o(t,e){var n={};return t&&"string"==typeof t&&(0,r.default)(t,function(t,r){t&&r&&(n[(0,i.camelCase)(t,e)]=r)}),n}o.default=o,t.exports=o},91907:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,r=/-([a-z])/g,i=/^[^-]+$/,o=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,s=function(t,e){return e.toUpperCase()},l=function(t,e){return"".concat(e,"-")};e.camelCase=function(t,e){var u;return(void 0===e&&(e={}),!(u=t)||i.test(u)||n.test(u))?t:(t=t.toLowerCase(),(t=e.reactCompat?t.replace(a,l):t.replace(o,l)).replace(r,s))}},84774:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=null;if(!t||"string"!=typeof t)return n;var r=(0,i.default)(t),o="function"==typeof e;return r.forEach(function(t){if("declaration"===t.type){var r=t.property,i=t.value;o?e(r,i,t):i&&((n=n||{})[r]=i)}}),n};var i=r(n(46560))},2091:function(){},57294:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,{Z:function(){return r}})},74729:function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,i)}function i(t){return function(){var e=this,n=arguments;return new Promise(function(i,o){var a=t.apply(e,n);function s(t){r(a,i,o,s,l,"next",t)}function l(t){r(a,i,o,s,l,"throw",t)}s(void 0)})}}n.d(e,{Z:function(){return i}})},55402:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});var r=n(90352);function i(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(i=function(){return!!t})()}var o=n(26790),a=n(36383);function s(t,e,n){return e=(0,r.Z)(e),function(t,e){if(e&&("object"==(0,o.Z)(e)||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");return(0,a.Z)(t)}(t,i()?Reflect.construct(e,n||[],(0,r.Z)(t).constructor):e.apply(t,n))}},28471:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}n.d(e,{Z:function(){return r}})},44871:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(13289);function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(0,r.Z)(i.key),i)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}},8097:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(37324);function i(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=(0,r.Z)(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}},96111:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(13289);function i(t,e,n){return(e=(0,r.Z)(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},90352:function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,{Z:function(){return r}})},41007:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(93807);function i(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&(0,r.Z)(t,e)}},15287:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(96111);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach(function(e){(0,r.Z)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}},81493:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(94109);function i(t,e){if(null==t)return{};var n,i,o=(0,r.Z)(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.includes(n)||({}).propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}},25686:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(26790);function i(){i=function(){return e};var t,e={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function h(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(t){h=function(t,e,n){return t[e]=n}}function d(e,n,r,i){var o,s,l=Object.create((n&&n.prototype instanceof y?n:y).prototype);return a(l,"_invoke",{value:(o=new T(i||[]),s=f,function(n,i){if(s===g)throw Error("Generator is already running");if(s===m){if("throw"===n)throw i;return{value:t,done:!0}}for(o.method=n,o.arg=i;;){var a=o.delegate;if(a){var l=function e(n,r){var i=r.method,o=n.iterator[i];if(o===t)return r.delegate=null,"throw"===i&&n.iterator.return&&(r.method="return",r.arg=t,e(n,r),"throw"===r.method)||"return"!==i&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+i+"' method")),v;var a=p(o,n.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var s=a.arg;return s?s.done?(r[n.resultName]=s.value,r.next=n.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):s:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,v)}(a,o);if(l){if(l===v)continue;return l}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(s===f)throw s=m,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);s=g;var u=p(e,r,o);if("normal"===u.type){if(s=o.done?m:"suspendedYield",u.arg===v)continue;return{value:u.arg,done:o.done}}"throw"===u.type&&(s=m,o.method="throw",o.arg=u.arg)}})}),l}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var f="suspendedStart",g="executing",m="completed",v={};function y(){}function b(){}function x(){}var E={};h(E,l,function(){return this});var w=Object.getPrototypeOf,S=w&&w(w(P([])));S&&S!==n&&o.call(S,l)&&(E=S);var M=x.prototype=y.prototype=Object.create(E);function k(t){["next","throw","return"].forEach(function(e){h(t,e,function(t){return this._invoke(e,t)})})}function O(t,e){var n;a(this,"_invoke",{value:function(i,a){function s(){return new e(function(n,s){!function n(i,a,s,l){var u=p(t[i],t,a);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==(0,r.Z)(h)&&o.call(h,"__await")?e.resolve(h.__await).then(function(t){n("next",t,s,l)},function(t){n("throw",t,s,l)}):e.resolve(h).then(function(t){c.value=t,s(c)},function(t){return n("throw",t,s,l)})}l(u.arg)}(i,a,n,s)})}return n=n?n.then(s,s):s()}})}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[l];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(o.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw TypeError((0,r.Z)(e)+" is not iterable")}return b.prototype=x,a(M,"constructor",{value:x,configurable:!0}),a(x,"constructor",{value:b,configurable:!0}),b.displayName=h(x,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,h(t,c,"GeneratorFunction")),t.prototype=Object.create(M),t},e.awrap=function(t){return{__await:t}},k(O.prototype),h(O.prototype,u,function(){return this}),e.AsyncIterator=O,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new O(d(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},k(M),h(M,c,"Generator"),h(M,l,function(){return this}),h(M,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}},11835:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(37324);function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){u=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||(0,r.Z)(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},64666:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(90352);function i(){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!({}).hasOwnProperty.call(t,e)&&null!==(t=(0,r.Z)(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(null,arguments)}function o(t,e,n,o){var a=i((0,r.Z)(1&o?t.prototype:t),e,n);return 2&o&&"function"==typeof a?function(t){return a.apply(n,t)}:a}},14766:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(57294),i=n(37324);function o(t){return function(t){if(Array.isArray(t))return(0,r.Z)(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||(0,i.Z)(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},13289:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(26790);function i(t){var e=function(t,e){if("object"!=(0,r.Z)(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=(0,r.Z)(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==(0,r.Z)(e)?e:e+""}},26790:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.d(e,{Z:function(){return r}})},37324:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(57294);function i(t,e){if(t){if("string"==typeof t)return(0,r.Z)(t,e);var n=({}).toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(t,e):void 0}}},64694:function(t,e,n){"use strict";function r(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function i(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function o(){}n.d(e,{ZP:function(){return b}});var a="\\s*([+-]?\\d+)\\s*",s="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",l="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",u=/^#([0-9a-f]{3,8})$/,c=RegExp(`^rgb\\(${a},${a},${a}\\)$`),h=RegExp(`^rgb\\(${l},${l},${l}\\)$`),d=RegExp(`^rgba\\(${a},${a},${a},${s}\\)$`),p=RegExp(`^rgba\\(${l},${l},${l},${s}\\)$`),f=RegExp(`^hsl\\(${s},${l},${l}\\)$`),g=RegExp(`^hsla\\(${s},${l},${l},${s}\\)$`),m={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function v(){return this.rgb().formatHex()}function y(){return this.rgb().formatRgb()}function b(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=u.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?x(e):3===n?new w(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?E(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?E(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=c.exec(t))?new w(e[1],e[2],e[3],1):(e=h.exec(t))?new w(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=d.exec(t))?E(e[1],e[2],e[3],e[4]):(e=p.exec(t))?E(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=f.exec(t))?A(e[1],e[2]/100,e[3]/100,1):(e=g.exec(t))?A(e[1],e[2]/100,e[3]/100,e[4]):m.hasOwnProperty(t)?x(m[t]):"transparent"===t?new w(NaN,NaN,NaN,0):null}function x(t){return new w(t>>16&255,t>>8&255,255&t,1)}function E(t,e,n,r){return r<=0&&(t=e=n=NaN),new w(t,e,n,r)}function w(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function S(){return`#${C(this.r)}${C(this.g)}${C(this.b)}`}function M(){let t=k(this.opacity);return`${1===t?"rgb(":"rgba("}${O(this.r)}, ${O(this.g)}, ${O(this.b)}${1===t?")":`, ${t})`}`}function k(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function O(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function C(t){return((t=O(t))<16?"0":"")+t.toString(16)}function A(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new P(t,e,n,r)}function T(t){if(t instanceof P)return new P(t.h,t.s,t.l,t.opacity);if(t instanceof o||(t=b(t)),!t)return new P;if(t instanceof P)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,l=a-i,u=(a+i)/2;return l?(s=e===a?(n-r)/l+(n<r)*6:n===a?(r-e)/l+2:(e-n)/l+4,l/=u<.5?a+i:2-a-i,s*=60):l=u>0&&u<1?0:s,new P(s,l,u,t.opacity)}function P(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function L(t){return(t=(t||0)%360)<0?t+360:t}function R(t){return Math.max(0,Math.min(1,t||0))}function D(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}r(o,b,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:v,formatHex:v,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return T(this).formatHsl()},formatRgb:y,toString:y}),r(w,function(t,e,n,r){var i;return 1==arguments.length?((i=t)instanceof o||(i=b(i)),i)?new w((i=i.rgb()).r,i.g,i.b,i.opacity):new w:new w(t,e,n,null==r?1:r)},i(o,{brighter(t){return t=null==t?1.4285714285714286:Math.pow(1.4285714285714286,t),new w(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new w(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new w(O(this.r),O(this.g),O(this.b),k(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:S,formatHex:S,formatHex8:function(){return`#${C(this.r)}${C(this.g)}${C(this.b)}${C((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:M,toString:M})),r(P,function(t,e,n,r){return 1==arguments.length?T(t):new P(t,e,n,null==r?1:r)},i(o,{brighter(t){return t=null==t?1.4285714285714286:Math.pow(1.4285714285714286,t),new P(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new P(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new w(D(t>=240?t-240:t+120,i,r),D(t,i,r),D(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new P(L(this.h),R(this.s),R(this.l),k(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=k(this.opacity);return`${1===t?"hsl(":"hsla("}${L(this.h)}, ${100*R(this.s)}%, ${100*R(this.l)}%${1===t?")":`, ${t})`}`}}))},51215:function(t,e,n){"use strict";n.d(e,{bM:function(){return y}});var r=n(9984),i=n(91518),o=n(61161),a=n(27499);let s=BigInt(-1),l=BigInt(0),u=BigInt(1),c=BigInt(5),h={},d="0000";for(;d.length<80;)d+=d;function p(t){let e=d;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function f(t,e,n){let i=BigInt(e.width);if(e.signed){let e=u<<i-u;(0,r.hu)(null==n||t>=-e&&t<e,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t=t>l?(0,o._Y)((0,o.sS)(t,i),i):-(0,o._Y)((0,o.sS)(-t,i),i)}else{let e=u<<i;(0,r.hu)(null==n||t>=0&&t<e,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t=(t%e+e)%e&e-u}return t}function g(t){"number"==typeof t&&(t=`fixed128x${t}`);let e=!0,n=128,i=18;if("string"==typeof t){if("fixed"===t);else if("ufixed"===t)e=!1;else{let o=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);(0,r.en)(o,"invalid fixed format","format",t),e="u"!==o[1],n=parseInt(o[2]),i=parseInt(o[3])}}else if(t){let o=t,a=(t,e,n)=>null==o[t]?n:((0,r.en)(typeof o[t]===e,"invalid fixed format ("+t+" not "+e+")","format."+t,o[t]),o[t]);e=a("signed","boolean",e),n=a("width","number",n),i=a("decimals","number",i)}(0,r.en)(n%8==0,"invalid FixedNumber width (not byte aligned)","format.width",n),(0,r.en)(i<=80,"invalid FixedNumber decimals (too large)","format.decimals",i);let o=(e?"":"u")+"fixed"+String(n)+"x"+String(i);return{signed:e,width:n,decimals:i,name:o}}class m{format;#t;#e;#n;_value;constructor(t,e,n){(0,r.NK)(t,h,"FixedNumber"),this.#e=e,this.#t=n;let i=function(t,e){let n="";t<l&&(n="-",t*=s);let r=t.toString();if(0===e)return n+r;for(;r.length<=e;)r=d+r;let i=r.length-e;for(r=r.substring(0,i)+"."+r.substring(i);"0"===r[0]&&"."!==r[1];)r=r.substring(1);for(;"0"===r[r.length-1]&&"."!==r[r.length-2];)r=r.substring(0,r.length-1);return n+r}(e,n.decimals);(0,a.h)(this,{format:n.name,_value:i}),this.#n=p(n.decimals)}get signed(){return this.#t.signed}get width(){return this.#t.width}get decimals(){return this.#t.decimals}get value(){return this.#e}#r(t){(0,r.en)(this.format===t.format,"incompatible format; use fixedNumber.toFormat","other",t)}#i(t,e){return new m(h,t=f(t,this.#t,e),this.#t)}#o(t,e){return this.#r(t),this.#i(this.#e+t.#e,e)}addUnsafe(t){return this.#o(t)}add(t){return this.#o(t,"add")}#a(t,e){return this.#r(t),this.#i(this.#e-t.#e,e)}subUnsafe(t){return this.#a(t)}sub(t){return this.#a(t,"sub")}#s(t,e){return this.#r(t),this.#i(this.#e*t.#e/this.#n,e)}mulUnsafe(t){return this.#s(t)}mul(t){return this.#s(t,"mul")}mulSignal(t){this.#r(t);let e=this.#e*t.#e;return(0,r.hu)(e%this.#n===l,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#i(e/this.#n,"mulSignal")}#l(t,e){return(0,r.hu)(t.#e!==l,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#r(t),this.#i(this.#e*this.#n/t.#e,e)}divUnsafe(t){return this.#l(t)}div(t){return this.#l(t,"div")}divSignal(t){(0,r.hu)(t.#e!==l,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#r(t);let e=this.#e*this.#n;return(0,r.hu)(e%t.#e===l,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#i(e/t.#e,"divSignal")}cmp(t){let e=this.value,n=t.value,r=this.decimals-t.decimals;return(r>0?n*=p(r):r<0&&(e*=p(-r)),e<n)?-1:e>n?1:0}eq(t){return 0===this.cmp(t)}lt(t){return 0>this.cmp(t)}lte(t){return 0>=this.cmp(t)}gt(t){return this.cmp(t)>0}gte(t){return this.cmp(t)>=0}floor(){let t=this.#e;return this.#e<l&&(t-=this.#n-u),t=this.#e/this.#n*this.#n,this.#i(t,"floor")}ceiling(){let t=this.#e;return this.#e>l&&(t+=this.#n-u),t=this.#e/this.#n*this.#n,this.#i(t,"ceiling")}round(t){if(null==t&&(t=0),t>=this.decimals)return this;let e=this.decimals-t,n=c*p(e-1),r=this.value+n,i=p(e);return f(r=r/i*i,this.#t,"round"),new m(h,r,this.#t)}isZero(){return this.#e===l}isNegative(){return this.#e<l}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return m.fromString(this.toString(),t)}static fromValue(t,e,n){let i=null==e?0:(0,o.Dx)(e),a=g(n),s=(0,o.yT)(t,"value"),u=i-a.decimals;if(u>0){let e=p(u);(0,r.hu)(s%e===l,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:t}),s/=e}else u<0&&(s*=p(-u));return f(s,a,"fromValue"),new m(h,s,a)}static fromString(t,e){let n=t.match(/^(-?)([0-9]*)\.?([0-9]*)$/);(0,r.en)(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",t);let i=g(e),o=n[2]||"0",a=n[3]||"";for(;a.length<i.decimals;)a+=d;(0,r.hu)(a.substring(i.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:t}),a=a.substring(0,i.decimals);let s=BigInt(n[1]+o+a);return f(s,i,"fromString"),new m(h,s,i)}static fromBytes(t,e){let n=(0,o.Gh)((0,i.Pw)(t,"value")),r=g(e);return r.signed&&(n=(0,o._Y)(n,r.width)),f(n,r,"fromBytes"),new m(h,n,r)}}let v=["wei","kwei","mwei","gwei","szabo","finney","ether"];function y(t,e){let n=18;if("string"==typeof e){let t=v.indexOf(e);(0,r.en)(t>=0,"invalid unit","unit",e),n=3*t}else null!=e&&(n=(0,o.Dx)(e,"unit"));return m.fromValue(t,n,{decimals:n,width:512}).toString()}},70671:function(t,e,n){"use strict";var r=n(98057);e.ZP=r.default||r},33448:function(t,e,n){"use strict";n.d(e,{cI:function(){return tv}});var r=n(38875),i=t=>"checkbox"===t.type,o=t=>t instanceof Date,a=t=>null==t;let s=t=>"object"==typeof t;var l=t=>!a(t)&&!Array.isArray(t)&&s(t)&&!o(t),u=t=>l(t)&&t.target?i(t.target)?t.target.checked:t.target.value:t,c=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,h=(t,e)=>t.has(c(e)),d=t=>{let e=t.constructor&&t.constructor.prototype;return l(e)&&e.hasOwnProperty("isPrototypeOf")},p="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function f(t){let e;let n=Array.isArray(t),r="undefined"!=typeof FileList&&t instanceof FileList;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(!(p&&(t instanceof Blob||r))&&(n||l(t))))return t;else if(e=n?[]:{},n||d(t))for(let n in t)t.hasOwnProperty(n)&&(e[n]=f(t[n]));else e=t;return e}var g=t=>Array.isArray(t)?t.filter(Boolean):[],m=t=>void 0===t,v=(t,e,n)=>{if(!e||!l(t))return n;let r=g(e.split(/[,[\].]+?/)).reduce((t,e)=>a(t)?t:t[e],t);return m(r)||r===t?m(t[e])?n:t[e]:r},y=t=>"boolean"==typeof t,b=t=>/^\w*$/.test(t),x=t=>g(t.replace(/["|']|\]/g,"").split(/\.|\[/)),E=(t,e,n)=>{let r=-1,i=b(e)?[e]:x(e),o=i.length,a=o-1;for(;++r<o;){let e=i[r],o=n;if(r!==a){let n=t[e];o=l(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}if("__proto__"===e||"constructor"===e||"prototype"===e)return;t[e]=o,t=t[e]}return t};let w={BLUR:"blur",FOCUS_OUT:"focusout"},S={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},M={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};r.createContext(null);var k=(t,e,n,r=!0)=>{let i={defaultValues:e._defaultValues};for(let o in t)Object.defineProperty(i,o,{get:()=>(e._proxyFormState[o]!==S.all&&(e._proxyFormState[o]=!r||S.all),n&&(n[o]=!0),t[o])});return i},O=t=>l(t)&&!Object.keys(t).length,C=(t,e,n,r)=>{n(t);let{name:i,...o}=t;return O(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(t=>e[t]===(!r||S.all))},A=t=>Array.isArray(t)?t:[t],T=t=>"string"==typeof t,P=(t,e,n,r,i)=>T(t)?(r&&e.watch.add(t),v(n,t,i)):Array.isArray(t)?t.map(t=>(r&&e.watch.add(t),v(n,t))):(r&&(e.watchAll=!0),n),L=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},R=t=>({isOnSubmit:!t||t===S.onSubmit,isOnBlur:t===S.onBlur,isOnChange:t===S.onChange,isOnAll:t===S.all,isOnTouch:t===S.onTouched}),D=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(e=>t.startsWith(e)&&/^\.\w+/.test(t.slice(e.length))));let N=(t,e,n,r)=>{for(let i of n||Object.keys(t)){let n=v(t,i);if(n){let{_f:t,...o}=n;if(t){if(t.refs&&t.refs[0]&&e(t.refs[0],i)&&!r||t.ref&&e(t.ref,t.name)&&!r)return!0;if(N(o,e))break}else if(l(o)&&N(o,e))break}}};var I=(t,e,n)=>{let r=A(v(t,n));return E(r,"root",e[n]),E(t,n,r),t},Z=t=>"file"===t.type,j=t=>"function"==typeof t,_=t=>{if(!p)return!1;let e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},B=t=>T(t),F=t=>"radio"===t.type,z=t=>t instanceof RegExp;let W={value:!1,isValid:!1},V={value:!0,isValid:!0};var H=t=>{if(Array.isArray(t)){if(t.length>1){let e=t.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!m(t[0].attributes.value)?m(t[0].value)||""===t[0].value?V:{value:t[0].value,isValid:!0}:V:W}return W};let G={isValid:!1,value:null};var $=t=>Array.isArray(t)?t.reduce((t,e)=>e&&e.checked&&!e.disabled?{isValid:!0,value:e.value}:t,G):G;function U(t,e,n="validate"){if(B(t)||Array.isArray(t)&&t.every(B)||y(t)&&!t)return{type:n,message:B(t)?t:"",ref:e}}var q=t=>l(t)&&!z(t)?t:{value:t,message:""},K=async(t,e,n,r,o)=>{let{ref:s,refs:u,required:c,maxLength:h,minLength:d,min:p,max:f,pattern:g,validate:b,name:x,valueAsNumber:E,mount:w,disabled:S}=t._f,k=v(e,x);if(!w||S)return{};let C=u?u[0]:s,A=t=>{r&&C.reportValidity&&(C.setCustomValidity(y(t)?"":t||""),C.reportValidity())},P={},R=F(s),D=i(s),N=(E||Z(s))&&m(s.value)&&m(k)||_(s)&&""===s.value||""===k||Array.isArray(k)&&!k.length,I=L.bind(null,x,n,P),W=(t,e,n,r=M.maxLength,i=M.minLength)=>{let o=t?e:n;P[x]={type:t?r:i,message:o,ref:s,...I(t?r:i,o)}};if(o?!Array.isArray(k)||!k.length:c&&(!(R||D)&&(N||a(k))||y(k)&&!k||D&&!H(u).isValid||R&&!$(u).isValid)){let{value:t,message:e}=B(c)?{value:!!c,message:c}:q(c);if(t&&(P[x]={type:M.required,message:e,ref:C,...I(M.required,e)},!n))return A(e),P}if(!N&&(!a(p)||!a(f))){let t,e;let r=q(f),i=q(p);if(a(k)||isNaN(k)){let n=s.valueAsDate||new Date(k),o=t=>new Date(new Date().toDateString()+" "+t),a="time"==s.type,l="week"==s.type;T(r.value)&&k&&(t=a?o(k)>o(r.value):l?k>r.value:n>new Date(r.value)),T(i.value)&&k&&(e=a?o(k)<o(i.value):l?k<i.value:n<new Date(i.value))}else{let n=s.valueAsNumber||(k?+k:k);a(r.value)||(t=n>r.value),a(i.value)||(e=n<i.value)}if((t||e)&&(W(!!t,r.message,i.message,M.max,M.min),!n))return A(P[x].message),P}if((h||d)&&!N&&(T(k)||o&&Array.isArray(k))){let t=q(h),e=q(d),r=!a(t.value)&&k.length>+t.value,i=!a(e.value)&&k.length<+e.value;if((r||i)&&(W(r,t.message,e.message),!n))return A(P[x].message),P}if(g&&!N&&T(k)){let{value:t,message:e}=q(g);if(z(t)&&!k.match(t)&&(P[x]={type:M.pattern,message:e,ref:s,...I(M.pattern,e)},!n))return A(e),P}if(b){if(j(b)){let t=U(await b(k,e),C);if(t&&(P[x]={...t,...I(M.validate,t.message)},!n))return A(t.message),P}else if(l(b)){let t={};for(let r in b){if(!O(t)&&!n)break;let i=U(await b[r](k,e),C,r);i&&(t={...i,...I(r,i.message)},A(i.message),n&&(P[x]=t))}if(!O(t)&&(P[x]={ref:C,...t},!n))return P}}return A(!0),P};function Y(t,e){let n=Array.isArray(e)?e:b(e)?[e]:x(e),r=1===n.length?t:function(t,e){let n=e.slice(0,-1).length,r=0;for(;r<n;)t=m(t)?r++:t[e[r++]];return t}(t,n),i=n.length-1,o=n[i];return r&&delete r[o],0!==i&&(l(r)&&O(r)||Array.isArray(r)&&function(t){for(let e in t)if(t.hasOwnProperty(e)&&!m(t[e]))return!1;return!0}(r))&&Y(t,n.slice(0,-1)),t}var X=()=>{let t=[];return{get observers(){return t},next:e=>{for(let n of t)n.next&&n.next(e)},subscribe:e=>(t.push(e),{unsubscribe:()=>{t=t.filter(t=>t!==e)}}),unsubscribe:()=>{t=[]}}},J=t=>a(t)||!s(t);function Q(t,e){if(J(t)||J(e))return t===e;if(o(t)&&o(e))return t.getTime()===e.getTime();let n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i of n){let n=t[i];if(!r.includes(i))return!1;if("ref"!==i){let t=e[i];if(o(n)&&o(t)||l(n)&&l(t)||Array.isArray(n)&&Array.isArray(t)?!Q(n,t):n!==t)return!1}}return!0}var tt=t=>"select-multiple"===t.type,te=t=>F(t)||i(t),tn=t=>_(t)&&t.isConnected,tr=t=>{for(let e in t)if(j(t[e]))return!0;return!1};function ti(t,e={}){let n=Array.isArray(t);if(l(t)||n)for(let n in t)Array.isArray(t[n])||l(t[n])&&!tr(t[n])?(e[n]=Array.isArray(t[n])?[]:{},ti(t[n],e[n])):a(t[n])||(e[n]=!0);return e}var to=(t,e)=>(function t(e,n,r){let i=Array.isArray(e);if(l(e)||i)for(let i in e)Array.isArray(e[i])||l(e[i])&&!tr(e[i])?m(n)||J(r[i])?r[i]=Array.isArray(e[i])?ti(e[i],[]):{...ti(e[i])}:t(e[i],a(n)?{}:n[i],r[i]):r[i]=!Q(e[i],n[i]);return r})(t,e,ti(e)),ta=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>m(t)?t:e?""===t?NaN:t?+t:t:n&&T(t)?new Date(t):r?r(t):t;function ts(t){let e=t.ref;return(t.refs?t.refs.every(t=>t.disabled):e.disabled)?void 0:Z(e)?e.files:F(e)?$(t.refs).value:tt(e)?[...e.selectedOptions].map(({value:t})=>t):i(e)?H(t.refs).value:ta(m(e.value)?t.ref.value:e.value,t)}var tl=(t,e,n,r)=>{let i={};for(let n of t){let t=v(e,n);t&&E(i,n,t._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},tu=t=>m(t)?t:z(t)?t.source:l(t)?z(t.value)?t.value.source:t.value:t;let tc="AsyncFunction";var th=t=>!!t&&!!t.validate&&!!(j(t.validate)&&t.validate.constructor.name===tc||l(t.validate)&&Object.values(t.validate).find(t=>t.constructor.name===tc)),td=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function tp(t,e,n){let r=v(t,n);if(r||b(n))return{error:r,name:n};let i=n.split(".");for(;i.length;){let r=i.join("."),o=v(e,r),a=v(t,r);if(o&&!Array.isArray(o)&&n!==r)break;if(a&&a.type)return{name:r,error:a};i.pop()}return{name:n}}var tf=(t,e,n,r,i)=>!i.isOnAll&&(!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?!r.isOnChange:!i.isOnChange)||t),tg=(t,e)=>!g(v(t,e)).length&&Y(t,e);let tm={mode:S.onSubmit,reValidateMode:S.onChange,shouldFocusError:!0};function tv(t={}){let e=r.useRef(),n=r.useRef(),[s,c]=r.useState({isDirty:!1,isValidating:!1,isLoading:j(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:j(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...function(t={}){let e,n={...tm,...t},r={submitCount:0,isDirty:!1,isLoading:j(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},s={},c=(l(n.defaultValues)||l(n.values))&&f(n.defaultValues||n.values)||{},d=n.shouldUnregister?{}:f(c),b={action:!1,mount:!1,watch:!1},x={mount:new Set,unMount:new Set,array:new Set,watch:new Set},M=0,k={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},C={values:X(),array:X(),state:X()},L=R(n.mode),B=R(n.reValidateMode),F=n.criteriaMode===S.all,z=t=>e=>{clearTimeout(M),M=setTimeout(t,e)},W=async t=>{if(!n.disabled&&(k.isValid||t)){let t=n.resolver?O((await q()).errors):await tr(s,!0);t!==r.isValid&&C.state.next({isValid:t})}},V=(t,e)=>{!n.disabled&&(k.isValidating||k.validatingFields)&&((t||Array.from(x.mount)).forEach(t=>{t&&(e?E(r.validatingFields,t,e):Y(r.validatingFields,t))}),C.state.next({validatingFields:r.validatingFields,isValidating:!O(r.validatingFields)}))},H=(t,e)=>{E(r.errors,t,e),C.state.next({errors:r.errors})},G=(t,e,n,r)=>{let i=v(s,t);if(i){let o=v(d,t,m(n)?v(c,t):n);m(o)||r&&r.defaultChecked||e?E(d,t,e?o:ts(i._f)):tv(t,o),b.mount&&W()}},$=(t,e,i,o,a)=>{let l=!1,u=!1,h={name:t};if(!n.disabled){let n=!!(v(s,t)&&v(s,t)._f&&v(s,t)._f.disabled);if(!i||o){k.isDirty&&(u=r.isDirty,r.isDirty=h.isDirty=ti(),l=u!==h.isDirty);let i=n||Q(v(c,t),e);u=!!(!n&&v(r.dirtyFields,t)),i||n?Y(r.dirtyFields,t):E(r.dirtyFields,t,!0),h.dirtyFields=r.dirtyFields,l=l||k.dirtyFields&&!i!==u}if(i){let e=v(r.touchedFields,t);e||(E(r.touchedFields,t,i),h.touchedFields=r.touchedFields,l=l||k.touchedFields&&e!==i)}l&&a&&C.state.next(h)}return l?h:{}},U=(t,i,o,a)=>{let s=v(r.errors,t),l=k.isValid&&y(i)&&r.isValid!==i;if(n.delayError&&o?(e=z(()=>H(t,o)))(n.delayError):(clearTimeout(M),e=null,o?E(r.errors,t,o):Y(r.errors,t)),(o?!Q(s,o):s)||!O(a)||l){let e={...a,...l&&y(i)?{isValid:i}:{},errors:r.errors,name:t};r={...r,...e},C.state.next(e)}},q=async t=>{V(t,!0);let e=await n.resolver(d,n.context,tl(t||x.mount,s,n.criteriaMode,n.shouldUseNativeValidation));return V(t),e},J=async t=>{let{errors:e}=await q(t);if(t)for(let n of t){let t=v(e,n);t?E(r.errors,n,t):Y(r.errors,n)}else r.errors=e;return e},tr=async(t,e,i={valid:!0})=>{for(let o in t){let a=t[o];if(a){let{_f:t,...s}=a;if(t){let s=x.array.has(t.name),l=a._f&&th(a._f);l&&k.validatingFields&&V([o],!0);let u=await K(a,d,F,n.shouldUseNativeValidation&&!e,s);if(l&&k.validatingFields&&V([o]),u[t.name]&&(i.valid=!1,e))break;e||(v(u,t.name)?s?I(r.errors,u,t.name):E(r.errors,t.name,u[t.name]):Y(r.errors,t.name))}O(s)||await tr(s,e,i)}}return i.valid},ti=(t,e)=>!n.disabled&&(t&&e&&E(d,t,e),!Q(tS(),c)),tc=(t,e,n)=>P(t,x,{...b.mount?d:m(e)?c:T(t)?{[t]:e}:e},n,e),tv=(t,e,n={})=>{let r=v(s,t),o=e;if(r){let n=r._f;n&&(n.disabled||E(d,t,ta(e,n)),o=_(n.ref)&&a(e)?"":e,tt(n.ref)?[...n.ref.options].forEach(t=>t.selected=o.includes(t.value)):n.refs?i(n.ref)?n.refs.length>1?n.refs.forEach(t=>(!t.defaultChecked||!t.disabled)&&(t.checked=Array.isArray(o)?!!o.find(e=>e===t.value):o===t.value)):n.refs[0]&&(n.refs[0].checked=!!o):n.refs.forEach(t=>t.checked=t.value===o):Z(n.ref)?n.ref.value="":(n.ref.value=o,n.ref.type||C.values.next({name:t,values:{...d}})))}(n.shouldDirty||n.shouldTouch)&&$(t,o,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&tw(t)},ty=(t,e,n)=>{for(let r in e){let i=e[r],a=`${t}.${r}`,u=v(s,a);(x.array.has(t)||l(i)||u&&!u._f)&&!o(i)?ty(a,i,n):tv(a,i,n)}},tb=(t,e,n={})=>{let i=v(s,t),o=x.array.has(t),l=f(e);E(d,t,l),o?(C.array.next({name:t,values:{...d}}),(k.isDirty||k.dirtyFields)&&n.shouldDirty&&C.state.next({name:t,dirtyFields:to(c,d),isDirty:ti(t,l)})):!i||i._f||a(l)?tv(t,l,n):ty(t,l,n),D(t,x)&&C.state.next({...r}),C.values.next({name:b.mount?t:void 0,values:{...d}})},tx=async t=>{b.mount=!0;let i=t.target,a=i.name,l=!0,c=v(s,a),h=t=>{l=Number.isNaN(t)||o(t)&&isNaN(t.getTime())||Q(t,v(d,a,t))};if(c){let o,p;let f=i.type?ts(c._f):u(t),g=t.type===w.BLUR||t.type===w.FOCUS_OUT,m=!td(c._f)&&!n.resolver&&!v(r.errors,a)&&!c._f.deps||tf(g,v(r.touchedFields,a),r.isSubmitted,B,L),y=D(a,x,g);E(d,a,f),g?(c._f.onBlur&&c._f.onBlur(t),e&&e(0)):c._f.onChange&&c._f.onChange(t);let b=$(a,f,g,!1),S=!O(b)||y;if(g||C.values.next({name:a,type:t.type,values:{...d}}),m)return k.isValid&&("onBlur"===n.mode?g&&W():W()),S&&C.state.next({name:a,...y?{}:b});if(!g&&y&&C.state.next({...r}),n.resolver){let{errors:t}=await q([a]);if(h(f),l){let e=tp(r.errors,s,a),n=tp(t,s,e.name||a);o=n.error,a=n.name,p=O(t)}}else V([a],!0),o=(await K(c,d,F,n.shouldUseNativeValidation))[a],V([a]),h(f),l&&(o?p=!1:k.isValid&&(p=await tr(s,!0)));l&&(c._f.deps&&tw(c._f.deps),U(a,p,o,b))}},tE=(t,e)=>{if(v(r.errors,e)&&t.focus)return t.focus(),1},tw=async(t,e={})=>{let i,o;let a=A(t);if(n.resolver){let e=await J(m(t)?t:a);i=O(e),o=t?!a.some(t=>v(e,t)):i}else t?((o=(await Promise.all(a.map(async t=>{let e=v(s,t);return await tr(e&&e._f?{[t]:e}:e)}))).every(Boolean))||r.isValid)&&W():o=i=await tr(s);return C.state.next({...!T(t)||k.isValid&&i!==r.isValid?{}:{name:t},...n.resolver||!t?{isValid:i}:{},errors:r.errors}),e.shouldFocus&&!o&&N(s,tE,t?a:x.mount),o},tS=t=>{let e={...b.mount?d:c};return m(t)?e:T(t)?v(e,t):t.map(t=>v(e,t))},tM=(t,e)=>({invalid:!!v((e||r).errors,t),isDirty:!!v((e||r).dirtyFields,t),error:v((e||r).errors,t),isValidating:!!v(r.validatingFields,t),isTouched:!!v((e||r).touchedFields,t)}),tk=(t,e,n)=>{let i=(v(s,t,{_f:{}})._f||{}).ref,{ref:o,message:a,type:l,...u}=v(r.errors,t)||{};E(r.errors,t,{...u,...e,ref:i}),C.state.next({name:t,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&i&&i.focus&&i.focus()},tO=(t,e={})=>{for(let i of t?A(t):x.mount)x.mount.delete(i),x.array.delete(i),e.keepValue||(Y(s,i),Y(d,i)),e.keepError||Y(r.errors,i),e.keepDirty||Y(r.dirtyFields,i),e.keepTouched||Y(r.touchedFields,i),e.keepIsValidating||Y(r.validatingFields,i),n.shouldUnregister||e.keepDefaultValue||Y(c,i);C.values.next({values:{...d}}),C.state.next({...r,...e.keepDirty?{isDirty:ti()}:{}}),e.keepIsValid||W()},tC=({disabled:t,name:e,field:n,fields:r,value:i})=>{if(y(t)&&b.mount||t){let o=t?void 0:m(i)?ts(n?n._f:v(r,e)._f):i;!t&&(t||m(o))||E(d,e,o),$(e,o,!1,!1,!0)}},tA=(t,e={})=>{let r=v(s,t),i=y(e.disabled)||y(n.disabled);return E(s,t,{...r||{},_f:{...r&&r._f?r._f:{ref:{name:t}},name:t,mount:!0,...e}}),x.mount.add(t),r?tC({field:r,disabled:y(e.disabled)?e.disabled:n.disabled,name:t,value:e.value}):G(t,!0,e.value),{...i?{disabled:e.disabled||n.disabled}:{},...n.progressive?{required:!!e.required,min:tu(e.min),max:tu(e.max),minLength:tu(e.minLength),maxLength:tu(e.maxLength),pattern:tu(e.pattern)}:{},name:t,onChange:tx,onBlur:tx,ref:i=>{if(i){tA(t,e),r=v(s,t);let n=m(i.value)&&i.querySelectorAll&&i.querySelectorAll("input,select,textarea")[0]||i,o=te(n),a=r._f.refs||[];(o?a.find(t=>t===n):n===r._f.ref)||(E(s,t,{_f:{...r._f,...o?{refs:[...a.filter(tn),n,...Array.isArray(v(c,t))?[{}]:[]],ref:{type:n.type,name:t}}:{ref:n}}}),G(t,!1,void 0,n))}else(r=v(s,t,{}))._f&&(r._f.mount=!1),(n.shouldUnregister||e.shouldUnregister)&&!(h(x.array,t)&&b.action)&&x.unMount.add(t)}}},tT=()=>n.shouldFocusError&&N(s,tE,x.mount),tP=(t,e)=>async i=>{let o;if(i&&(i.preventDefault&&i.preventDefault(),i.persist&&i.persist()),n.disabled){e&&await e({...r.errors},i);return}let a=f(d);if(C.state.next({isSubmitting:!0}),n.resolver){let{errors:t,values:e}=await q();r.errors=t,a=e}else await tr(s);if(Y(r.errors,"root"),O(r.errors)){C.state.next({errors:{}});try{await t(a,i)}catch(t){o=t}}else e&&await e({...r.errors},i),tT(),setTimeout(tT);if(C.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:O(r.errors)&&!o,submitCount:r.submitCount+1,errors:r.errors}),o)throw o},tL=(t,e={})=>{let i=t?f(t):c,o=f(i),a=O(t),l=a?c:o;if(e.keepDefaultValues||(c=i),!e.keepValues){if(e.keepDirtyValues)for(let t of Array.from(new Set([...x.mount,...Object.keys(to(c,d))])))v(r.dirtyFields,t)?E(l,t,v(d,t)):tb(t,v(l,t));else{if(p&&m(t))for(let t of x.mount){let e=v(s,t);if(e&&e._f){let t=Array.isArray(e._f.refs)?e._f.refs[0]:e._f.ref;if(_(t)){let e=t.closest("form");if(e){e.reset();break}}}}s={}}d=n.shouldUnregister?e.keepDefaultValues?f(c):{}:f(l),C.array.next({values:{...l}}),C.values.next({values:{...l}})}x={mount:e.keepDirtyValues?x.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},b.mount=!k.isValid||!!e.keepIsValid||!!e.keepDirtyValues,b.watch=!!n.shouldUnregister,C.state.next({submitCount:e.keepSubmitCount?r.submitCount:0,isDirty:!a&&(e.keepDirty?r.isDirty:!!(e.keepDefaultValues&&!Q(t,c))),isSubmitted:!!e.keepIsSubmitted&&r.isSubmitted,dirtyFields:a?{}:e.keepDirtyValues?e.keepDefaultValues&&d?to(c,d):r.dirtyFields:e.keepDefaultValues&&t?to(c,t):e.keepDirty?r.dirtyFields:{},touchedFields:e.keepTouched?r.touchedFields:{},errors:e.keepErrors?r.errors:{},isSubmitSuccessful:!!e.keepIsSubmitSuccessful&&r.isSubmitSuccessful,isSubmitting:!1})},tR=(t,e)=>tL(j(t)?t(d):t,e);return{control:{register:tA,unregister:tO,getFieldState:tM,handleSubmit:tP,setError:tk,_executeSchema:q,_getWatch:tc,_getDirty:ti,_updateValid:W,_removeUnmounted:()=>{for(let t of x.unMount){let e=v(s,t);e&&(e._f.refs?e._f.refs.every(t=>!tn(t)):!tn(e._f.ref))&&tO(t)}x.unMount=new Set},_updateFieldArray:(t,e=[],i,o,a=!0,l=!0)=>{if(o&&i&&!n.disabled){if(b.action=!0,l&&Array.isArray(v(s,t))){let e=i(v(s,t),o.argA,o.argB);a&&E(s,t,e)}if(l&&Array.isArray(v(r.errors,t))){let e=i(v(r.errors,t),o.argA,o.argB);a&&E(r.errors,t,e),tg(r.errors,t)}if(k.touchedFields&&l&&Array.isArray(v(r.touchedFields,t))){let e=i(v(r.touchedFields,t),o.argA,o.argB);a&&E(r.touchedFields,t,e)}k.dirtyFields&&(r.dirtyFields=to(c,d)),C.state.next({name:t,isDirty:ti(t,e),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else E(d,t,e)},_updateDisabledField:tC,_getFieldArray:t=>g(v(b.mount?d:c,t,n.shouldUnregister?v(c,t,[]):[])),_reset:tL,_resetDefaultValues:()=>j(n.defaultValues)&&n.defaultValues().then(t=>{tR(t,n.resetOptions),C.state.next({isLoading:!1})}),_updateFormState:t=>{r={...r,...t}},_disableForm:t=>{y(t)&&(C.state.next({disabled:t}),N(s,(e,n)=>{let r=v(s,n);r&&(e.disabled=r._f.disabled||t,Array.isArray(r._f.refs)&&r._f.refs.forEach(e=>{e.disabled=r._f.disabled||t}))},0,!1))},_subjects:C,_proxyFormState:k,_setErrors:t=>{r.errors=t,C.state.next({errors:r.errors,isValid:!1})},get _fields(){return s},get _formValues(){return d},get _state(){return b},set _state(value){b=value},get _defaultValues(){return c},get _names(){return x},set _names(value){x=value},get _formState(){return r},set _formState(value){r=value},get _options(){return n},set _options(value){n={...n,...value}}},trigger:tw,register:tA,handleSubmit:tP,watch:(t,e)=>j(t)?C.values.subscribe({next:n=>t(tc(void 0,e),n)}):tc(t,e,!0),setValue:tb,getValues:tS,reset:tR,resetField:(t,e={})=>{v(s,t)&&(m(e.defaultValue)?tb(t,f(v(c,t))):(tb(t,e.defaultValue),E(c,t,f(e.defaultValue))),e.keepTouched||Y(r.touchedFields,t),e.keepDirty||(Y(r.dirtyFields,t),r.isDirty=e.defaultValue?ti(t,f(v(c,t))):ti()),!e.keepError&&(Y(r.errors,t),k.isValid&&W()),C.state.next({...r}))},clearErrors:t=>{t&&A(t).forEach(t=>Y(r.errors,t)),C.state.next({errors:t?r.errors:{}})},unregister:tO,setError:tk,setFocus:(t,e={})=>{let n=v(s,t),r=n&&n._f;if(r){let t=r.refs?r.refs[0]:r.ref;t.focus&&(t.focus(),e.shouldSelect&&j(t.select)&&t.select())}},getFieldState:tM}}(t),formState:s});let d=e.current.control;return d._options=t,!function(t){let e=r.useRef(t);e.current=t,r.useEffect(()=>{let n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}({subject:d._subjects.state,next:t=>{C(t,d._proxyFormState,d._updateFormState,!0)&&c({...d._formState})}}),r.useEffect(()=>d._disableForm(t.disabled),[d,t.disabled]),r.useEffect(()=>{if(d._proxyFormState.isDirty){let t=d._getDirty();t!==s.isDirty&&d._subjects.state.next({isDirty:t})}},[d,s.isDirty]),r.useEffect(()=>{t.values&&!Q(t.values,n.current)?(d._reset(t.values,d._options.resetOptions),n.current=t.values,c(t=>({...t}))):d._resetDefaultValues()},[t.values,d]),r.useEffect(()=>{t.errors&&d._setErrors(t.errors)},[t.errors,d]),r.useEffect(()=>{d._state.mount||(d._updateValid(),d._state.mount=!0),d._state.watch&&(d._state.watch=!1,d._subjects.state.next({...d._formState})),d._removeUnmounted()}),r.useEffect(()=>{t.shouldUnregister&&d._subjects.values.next({values:d._getWatch()})},[t.shouldUnregister,d]),r.useMemo(()=>({...e.current,formState:k(s,d)}),[s,d])}},26394:function(t,e,n){"use strict";let r;n.d(e,{Z:function(){return s}});var i={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let o=new Uint8Array(16),a=[];for(let t=0;t<256;++t)a.push((t+256).toString(16).slice(1));var s=function(t,e,n){if(i.randomUUID&&!e&&!t)return i.randomUUID();let s=(t=t||{}).random||(t.rng||function(){if(!r){if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");r=crypto.getRandomValues.bind(crypto)}return r(o)})();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=s[t];return e}return function(t,e=0){return(a[t[e+0]]+a[t[e+1]]+a[t[e+2]]+a[t[e+3]]+"-"+a[t[e+4]]+a[t[e+5]]+"-"+a[t[e+6]]+a[t[e+7]]+"-"+a[t[e+8]]+a[t[e+9]]+"-"+a[t[e+10]]+a[t[e+11]]+a[t[e+12]]+a[t[e+13]]+a[t[e+14]]+a[t[e+15]]).toLowerCase()}(s)}}}]);