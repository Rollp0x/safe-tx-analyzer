(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3185],{27315:function(e,t,r){Promise.resolve().then(r.bind(r,3877))},6072:function(e,t,r){"use strict";r.d(t,{H:function(){return i},a:function(){return u}});var n=r(48499),a=r(38875),o=r(13643);let s=(0,a.createContext)(null);function i(e){let{children:t}=e,[r,i]=(0,a.useState)(()=>localStorage.getItem("safe_tx_analyzer_token")),u=()=>{i(null),localStorage.removeItem("safe_tx_analyzer_token")},c=async(e,t)=>{try{let{data:{token:r}}=await o.h.login({username:e,password:t});i(r),localStorage.setItem("safe_tx_analyzer_token",r)}catch(e){throw e}};return(0,a.useEffect)(()=>{let e=()=>{u()};return window.addEventListener("auth:logout",e),()=>{window.removeEventListener("auth:logout",e)}},[]),(0,n.jsx)(s.Provider,{value:{token:r,login:c,logout:u},children:t})}function u(){let e=(0,a.useContext)(s);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},3877:function(e,t,r){"use strict";r.d(t,{Providers:function(){return y}});var n=r(48499),a=r(15141),o=r(15204),s=r(36112),i=r(7344),u=r(16522);let c={id:200901,name:"BitLayer",network:"bitlayer",nativeCurrency:{decimals:18,name:"BTC",symbol:"BTC"},rpcUrls:{public:{http:["https://rpc.bitlayer.org"]},default:{http:["https://rpc.bitlayer.org"]}},blockExplorers:{default:{name:"BitLayer Explorer",url:"https://scan.bitlayer.org"}}},l=(0,o.vX)({appName:"Safe TX Analyzer",projectId:"e61e582596bcd31494e33057e9288c5f",chains:[c],transports:{[c.id]:(0,u.d)(c.rpcUrls.default.http[0])},ssr:!0});var d=r(54971),h=r(17906),f=r(19701),p=r(23102),m=r(41552),x=r(6072);let w=new s.S,v=(0,d.Z)();function y(e){let{children:t}=e;return(0,n.jsx)(x.H,{children:(0,n.jsx)(a.F,{config:l,children:(0,n.jsx)(i.aH,{client:w,children:(0,n.jsx)(o.pj,{children:(0,n.jsx)(h.Z,{theme:v,children:(0,n.jsx)(f.w,{children:(0,n.jsx)(p.z,{children:(0,n.jsx)(m.n,{children:t})})})})})})})})}},19701:function(e,t,r){"use strict";r.d(t,{D:function(){return c},w:function(){return u}});var n=r(48499),a=r(38875),o=r(93222),s=r(97112);let i=(0,a.createContext)(void 0);function u(e){let{children:t}=e,[r,u]=(0,a.useState)({open:!1,message:"",severity:"success"}),c=(0,a.useCallback)((e,t)=>{u({open:!0,message:e,severity:t})},[]),l=(0,a.useCallback)(()=>{u(e=>({...e,open:!1}))},[]),d=(0,a.useMemo)(()=>({showError:e=>c(e,"error"),showSuccess:e=>c(e,"success"),showInfo:e=>c(e,"info")}),[c]),h=(0,a.useMemo)(()=>(0,n.jsx)(o.Z,{open:r.open,autoHideDuration:3e3,onClose:l,anchorOrigin:{vertical:"bottom",horizontal:"right"},sx:{bottom:{xs:16,sm:24}},children:(0,n.jsx)(s.Z,{severity:r.severity,onClose:l,variant:"filled",sx:{minWidth:"280px",boxShadow:2,"& .MuiAlert-icon":{fontSize:"1.25rem"},"& .MuiAlert-message":{fontSize:"0.95rem",padding:"8px 0"},"& .MuiAlert-action":{padding:"0 8px"}},children:r.message})}),[r,l]);return(0,n.jsxs)(i.Provider,{value:d,children:[t,h]})}let c=()=>{let e=(0,a.useContext)(i);if(!e)throw Error("useSnackbar must be used within SnackbarProvider");return e}},23102:function(e,t,r){"use strict";r.d(t,{o:function(){return u},z:function(){return i}});var n=r(48499),a=r(38875),o=r(13643);let s=(0,a.createContext)(null);function i(e){let{children:t}=e,[r,i]=(0,a.useState)(null),u=async e=>{try{let t=await o.h.traceSafe(e.data);i(t.data)}catch(e){throw i(null),e}};return(0,n.jsx)(s.Provider,{value:{result:r,trace:u,reset:()=>{i(null)}},children:t})}function u(){let e=(0,a.useContext)(s);if(!e)throw Error("useTrace must be used within a TraceProvider");return e}},41552:function(e,t,r){"use strict";r.d(t,{O:function(){return l},n:function(){return c}});var n=r(48499),a=r(38875),o=r(6496),s=r(21881),i=r(99420);let u=(0,a.createContext)(null);function c(e){let{children:t}=e,r=(0,i.x)(),c=(0,a.useCallback)(async e=>{if(!window.ethereum)throw Error("No ethereum wallet found");if(200901!==r)throw Error("Please switch to BitLayer network (Chain ID: ".concat(200901,")"));let t={chainId:200901,verifyingContract:e.safeAddress},n={SafeTx:[{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"operation",type:"uint8"},{name:"safeTxGas",type:"uint256"},{name:"baseGas",type:"uint256"},{name:"gasPrice",type:"uint256"},{name:"gasToken",type:"address"},{name:"refundReceiver",type:"address"},{name:"nonce",type:"uint256"}]};if(o.E.hash(t,n,e.safeTx)!==e.safeTxHash)throw Error("Transaction hash verification failed");let a=new s.Q(window.ethereum),i=await a.getSigner();try{return await i.signTypedData(t,n,e.safeTx)}catch(e){throw console.error("Signing failed:",e),e}},[r]);return(0,n.jsx)(u.Provider,{value:{requestSignature:c},children:t})}function l(){let e=(0,a.useContext)(u);if(!e)throw Error("useWallet must be used within a WalletProvider");return e}},13643:function(e,t,r){"use strict";r.d(t,{h:function(){return o}});var n=r(17558);let a=n.Z.create({baseURL:"https://api.aegisweb.xyz",timeout:3e5,headers:{"Content-Type":"application/json"}});a.interceptors.request.use(e=>{let t=localStorage.getItem("safe_tx_analyzer_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),a.interceptors.response.use(e=>e.data,e=>Promise.reject(e));let o={login:e=>a.post("/api/decode/external/login",e),traceSafe:e=>a.post("/api/decode/external/auth/trace/safe",e),proposeSafeTx:async(e,t)=>{try{await a.post("/safe/".concat(e,"/propose"),t)}catch(e){var r;if(n.Z.isAxiosError(e)&&(null===(r=e.response)||void 0===r?void 0:r.data))throw Error(e.response.data.message);throw e}}}}},function(e){e.O(0,[5082,4855,0,223,2617,1744],function(){return e(e.s=27315)}),_N_E=e.O()}]);